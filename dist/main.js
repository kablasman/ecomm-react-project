/*! For license information please see main.js.LICENSE.txt */
(()=>{var e,t,n={8340:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(3645),i=n.n(r),o=n(1667),a=n.n(o),s=n(4021),u=n(7050),c=n(4935),l=i()((function(e){return e[1]}));l.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=DM+Sans&display=swap);"]),l.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap);"]),l.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Changa+One&display=swap);"]);var f=a()(s.default),h=a()(u.default),d=a()(c.default);l.push([e.id,"*, *::before, *::after {\n\tbox-sizing: border-box;\n}\n\n:root {\n    --light-light-mocha: #fffaef;\n    --lightmocha: #fff8e9;\n    --mocha:\t\t#fff0d5;\n    --darkmocha: #f0d8aa;\n    --darkermocha: #cfb077;\n    --darker: #aa8a59;\n    --black: #000;\n    --lightorange: #FFB866;\n    --darkorange: #ff9419;\n    --red: #F5604C;\n    --pink: #f599a8;\n    --beige: #ecb562;\n    --yellow: #ffc247;\n    --green: #6DD666;\n    --blue: #78D7FF;\n    --gold: #ffcf20;\n    --violet: #e0b7f0;\n    --greyed-out: #7e7363;\n    --font:  'DM Sans', sans-serif;\n    --banner: 'DM Sans', sans-serif;\n    --pad-and-gap: 1em;\n}\t\n\nhtml {\n    font-family: var(--font);\n    background-color: var(--mocha);\n}\n\nbody {\n\tbackground-color: var(--mocha);\n    margin: 0;\n    display: flex;\n    min-height: 100vh;\n    flex-direction: column;\n}\n\nmain {\n    padding-bottom: calc(var(--pad-and-gap)*3);\n    color: var(--black);   \n    margin: 0;\n}\n\nh1 {\n    font-size: 1.5em;\n    margin-bottom: 0.6em;\n}\n\nh2 {\n    font-size: 1.2em;\n    margin: 0;\n}\n\nh3 {\n    text-transform: uppercase;\n    margin-bottom: calc(var(--pad-and-gap)/2);\n}\n\nh4 {\n    margin-top: calc(var(--pad-and-gap)/3);\n    margin-bottom: calc(var(--pad-and-gap)/3);\n}\n\nul {\n\tpadding-left: 0;\n}\n\nheader label img {\n    padding-top: var(--pad-and-gap);\n}\n\nnav ul li ul {\n    position: absolute;\n}\n\nbutton {\n    font-family: var(--font);\n    border-radius: 2em;\n    background-color: white;\n    box-shadow: 0px 1px 3px var(--darkermocha);\n    color: var(--black);\n    margin-top: var(--pad-and-gap);\n    margin-bottom: var(--pad-and-gap);\n    padding: calc(var(--pad-and-gap)/2);\n    align-items: center;\n    border: none;\n    font-size: 1em;\n}\n\nbutton:hover {\n    background-color: var(--darkorange);\n    border: none;\n    color: white;\n}\n\nfooter button {\n    text-align: center;\n}\n\nform fieldset legend {\n    padding: 0.5em;\n}\n\ndd {\n    font-size: 1.5em;\n    padding: calc(var(--pad-and-gap)/3) 0;\n    margin: 0;\n}\n\na {\n    color: var(--black);\n}\n\nhr {\n    border-color: var(--lightmocha);\n    border-top: 1px solid var(--darkermocha);\n}\n\ndata del {\n    color: var(--greyed-out);\n    font-size: 1.2em;\n}\n\ndata ins {\n    text-decoration: none;\n    font-size: 1.5em;\n    color: var(--darkorange);\n}\n\ndl dt {\n    padding-top: var(--pad-and-gap);\n}\n\ndl dd .material-icons {\n    color: var(--gold);\n}\n\n/*section fieldset {\n    grid-column-start: 2;\n    grid-column-end: 3;\n}*/\n\nform fieldset legend {\n    padding: calc(var(--pad-and-gap)/3) 0;\n}\n\n.result-filters fieldset h3 {\n    text-transform: none;\n}\n\n.grid-container {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: var(--pad-and-gap);\n    /*grid-column-start: 2;\n    grid-column-end: 3;*/\n}\n\n.page-header {\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 1fr auto;\n    width: 100%;\n    background-color: var(--lightmocha);\n    position: fixed;\n    justify-items: center;\n\tbox-shadow: 0px 0px 3px var(--darker);\n\tpadding-bottom: 0;\n\tpadding: 0 1em;\n}\n\n/*.banner {\n    font-size: 0.7em;\n    padding: var(--pad-and-gap);\n    padding-top: calc(var(--pad-and-gap)*2);\n    background-color: var(--lightorange);\n    text-align: center;\n}*/\n\n.heading {\n    font-size: 1.5em;\n    text-align: center;\n    background-image: url("+f+");\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-color:rgba(81, 81, 81, 0.7);\n    background-blend-mode: multiply;\n    color: white;\n\tfont-family: var(--banner);\n\twidth: 100%;\n\tpadding: 6em 0;\n\tpadding-bottom: 2em;\n}\n\n.navigation {\n    grid-column-start: 5;\n    grid-column-end: 6;\n    grid-row-start: 2;\n\tgrid-row-end: 2;\n}\n\n.pagination {\n    padding: 0;\n    text-align: center;\n    margin-right: 0;\n}\n\n.pages {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n}\n\n.pages li a {\n    padding:calc(var(--pad-and-gap)/2);\n}\n\n.page-footer {\n    background-color: var(--darkorange);\n    background-size: cover;\n    background-repeat: no-repeat;\n    padding: var(--pad-and-gap);\n    padding-top: calc(var(--pad-and-gap)*1.5);\n}\n\n.page-footer ul {\n\tlist-style-type: none;\n}\n\n.footer-grid {\n    display: grid;\n    grid-template-columns: 130px 130px;\n    padding: var(--pad-and-gap);\n}\n\n.social {\n    display: flex;\n    flex-direction: row;\n}\n\n.social {\n    display: flex;\n    flex-direction: row;\n}\n\n.legal {\n    justify-content: space-evenly;\n    grid-column-start: 2;\n    grid-column-end: 3;\n    padding-top: var(--pad-and-gap);\n}\n\n.contact {\n    justify-content: space-evenly;\n    grid-column-start: 1;\n    grid-column-end: 2;\n    padding-top: var(--pad-and-gap);\n}\n\n.footer-cart {\n    margin-top: 1em;\n    width: 100vw;\n    flex: 0;\n}\n\n.footer-resize {\n    padding-top: var(--pad-and-gap);\n    font-size: 1.4em;\n}\n\n.social li  a {\n    text-decoration: none;\n    padding: calc(var(--pad-and-gap)/1.5);\n}\n\n.legal li a {\n    text-decoration: none;\n    padding-top: var(--pad-and-gap);\n}\n\n.contact li a {\n    text-decoration: none;\n    padding-top: var(--pad-and-gap);\n}\n\n.copyright {\n    text-align: center;\n    font-size: 0.7em;\n    padding-bottom: 0;\n}\n\n.menu {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    flex-wrap: wrap;\n    font-family: var(--font);\n    max-width: 40em;\n\tmargin: auto;\n    list-style-type: none;\n    font-size: 0.8em;\n}\n\n.filters {\n    padding: 0 var(--pad-and-gap);\n    max-width: 100em;\n\tmargin: auto;\n\tfont-size: 0.8em;\n}\n\n.results {\n    padding: 2em 2em;\n    max-width: 100em;\n    margin: auto;\n    margin-bottom: calc(var(--pad-and-gap)*2);\n}\n\n.result-filters {\n    align-content: center;\n    border: none;\n    box-shadow: 0px 1px 3px var(--darkermocha);\n    background-color: white;\n    padding: 0.5em var(--pad-and-gap);\n    border-radius: 2em;\n    grid-row-start: 1;\n\tgrid-row-end: 5;\n\twidth: 5em;\n\tmargin-bottom: 2em;\n}\n\n.result-filters h2 {\n\tfont-size: 1.3em;\n}\n\n.result-filters fieldset {\n\tlist-style-type: none;\n\tborder: none;\n\tdisplay: none; \n\tpadding: 0;\n\tmargin: 0;\n}\n\n.result-filters fieldset ul {\n\tlist-style-type: none;\n\tmargin: 0;\n}\n\n.result-filters h2 {\n    padding: 0;\n}\n\n.gallery {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    padding: 0 4em;\n    padding-top: 10em;\n}\n\n.product-page-container {\n    max-width: 60em;\n    margin: auto;\n}\n\n/* .product-container {\n    grid-column-start: 1;\n    grid-column-end: 2;\n} */\n\n.product-info {\n    padding: 1em 2em;\n}\n\nform fieldset{\n    border: 0;\n    padding: 0;\n}\n\n.add-cart {\n    width: 80%;\n}\n\n.favourites {\n    width: 80%;\n}\n\n.product-footer {\n    text-align: center;\n    padding-bottom: 3em;\n}\n\n.product-info-1 ul {\n    list-style-type: none;\n}\n\n.cart-product-info {\n    text-align: left;\n    grid-column-start: 2;\n    grid-column-end: 3;\n    grid-row-start: 1;\n    grid-row-end: 3;\n    margin: auto;\n    font-size: 0.7em;\n    /* grid-column-start: 2;\n    grid-column-end: 3; */\n}\n\n.cart-bttn {\n    /* grid-column-start: 1;\n    grid-column-end: 3; */\n    width: 70%;\n    font-size: 0.9em;\n}\n\n.product-container {\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    background-color: var(--mocha);\n    padding: 1em;\n    padding-bottom: 0;\n    box-shadow: 0px 1px 7px var(--darkermocha);\n    border-radius: 1.5em;\n    margin: 0 auto;\n    width: 90%;\n    margin-bottom: 2em;\n    max-width: 50em;\n}\n\n.return {\n    text-align: center;\n    padding: 4.5em;\n    position: initial;\n}\n\n.return button {\n    width: 35%;\n}\n\n.checkout-bttn {\n    width: 90%;\n}\n\n.product-img {\n    grid-column-start: 1;\n    grid-column-end: 2;\n    width: 93%;\n}\n\n.author-img {\n    grid-column-start: 2;\n    grid-column-end: 3;\n    width: 99%;\n}\n\n.book-picture {\n\ttext-align: center;\n}\n\n.cart-product {\n    margin-top: 0;\n    grid-column-start: 1;\n    grid-column-end: 2;\n    grid-row-start: 1;\n    grid-row-end: 3;\n}\n\n.cart-product img {\n    width: 100%;\n    margin: auto;\n    padding: 1em;\n}\n\n.cart-quantity {\n    grid-column-start: 3;\n    grid-column-end: 4;\n    grid-row-start: 1;\n    grid-row-end: 3;\n    margin: auto 0;\n}\n\n.cart-page {\n    padding-top: 7em;\n    text-align: center;\n    flex-grow: 1;\n    padding-bottom: 3em;\n}\n\n.shopping-cart-h1 {\n    text-align: left;\n    padding: 0 2em;\n    padding-bottom: 2em;\n}\n\n.four-oh-four-h1 {\n    text-align: center;\n    padding-top: 2em;\n    padding-bottom: 2em;\n}\n\n/* .cart-img img {\n    width: 100%;\n    padding-top: 1em;\n} */\n\n.login-data {\n    color: var(--darkorange);\n}\n\n.pagination-text {\n    padding: 1em;\n}\n\n.pag-bttn {\n    width: 0.9em;\n    height: 1em;\n    border-radius: 0.4em;\n    padding: 0;\n    text-align: center;\n    background-color: transparent;\n    box-shadow: none;\n}\n\n.pag-bttn:hover {\n    background-color: transparent;\n    color: var(--darkorange);\n}\n\n/*.grid-container .product {\n    padding: var(--pad-and-gap);\n    background-color: var(--light-light-mocha);\n    border-radius: 0.5em;\n\tbox-shadow: 0px 0px 0.5em var(--darkmocha);\n}*/\n\n.product {\n    display: flex;\n    flex-direction: column;\n}\n\n.product header {\n    flex-grow: 1;\n}\n\n.grid-container .product footer {\n    text-align: center;\n}\n\n.subheading {\n    margin: 1em 0;\n}\n\n.layout-cart {\n    display: flex;\n    min-height: 100vh;\n    flex-direction: column;\n} \n\n.find {\n    position: relative;\n    background-color: var(--darker);\n    height: 2em;\n    width: 15em;\n    border-radius: 1em;\n    border: none;\n    color: black;\n}\n\nfieldset .sort {\n\tpadding-top: 1em;\n}\n\n.search {\n    grid-row-start: 2;\n    grid-row-end: 2;\n    grid-column-start: 1;\n    grid-column-end: 2;\n\tpadding-top: calc(var(--pad-and-gap)/4);\n\tborder: none;\n\tpadding-bottom: 1em;\n\tpadding: 0;\n}\n\n.search-div {\n\tpadding-bottom: 0;\n}\n\n.slider {\n\twidth: 12em;\n}\n\n#filterPrice {\n\twidth: 100%;\n}\n\n#filterResults {\n    width: 14.7em;\n    height: 2.5em;\n    border-radius: 4em;\n    border: none;\n    box-shadow: 0px 1px 3px var(--darkermocha);\n\tbackground-image: url("+h+");\n    background-repeat: no-repeat;\n    background-size: 19%;\n    background-color: white;\n\tpadding-left: 2.5em;\n}\n\n.loading {\n    position: fixed;\n    inset: 0;\n    z-index: 9999;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.7);\n    color: white;\n    font-size: 2em;\n    display: grid;\n    place-content: center;\n}\n\n.animate-loader {\n    animation: flashing 2s infinite;\n}\n\n@keyframes flashing {\n    0%, 100% {\n        opacity: 1;\n    }\n    50% {\n        opacity: 0.2;\n    }\n}\n\n.logo {\n    grid-row-start: 1;\n    grid-row-end: 3;\n    grid-column-start: 2;\n    grid-column-end: 4;\n    text-decoration: none;\n    color: var(--red);\n\tfont-family: var(--logo);\n    margin-left: 4.2em;\n    padding-top: 1.5em;\n}\n\n.your-products {\n    grid-row-start: 1;\n    grid-row-end: 1;\n    grid-column-start: 5;\n    grid-column-end: 6;\n    display: flex;\n\tflex-direction: row;\n\tlist-style-type: none;\n\tpadding-top: 1em;\n    padding: 0;\n}\n\n.fav {\n    color: var(--darkorange);\n    text-decoration: none;\n    font-size: 0.85em;\n}\n\n.bag {\n    color: var(--black);\n    text-decoration: none;\n    font-size: 1em;\n}\n\n.cart {\n    width: 2.1em;\n}\n\n.cart a {\n    text-decoration: none;\n}\n\n.cart span {\n    font-size: 0.8em;\n}\n\n.navigation ul {\n    display: none;\n    justify-content: space-evenly;\n    padding: calc(var(--pad-and-gap)/2);\n}\n\n.menu-toggle {\n\tpadding-bottom: 1em;\n}\n\n.menu.active {\n    padding-top: calc(var(--pad-and-gap)*1.5);\n    display: flex;\n    position: absolute;\n    flex-direction: column;\n    background-color: var(--lightmocha);\n    border-radius: 1em;\n    right: 0;\n    align-items: center;\n}\n\n.menu.active li:hover {\n    background-color: var(--darkorange);\n    border-radius: 2em;\n}\n\n.menu.active li {\n    padding: calc(var(--pad-and-gap)/8) var(--pad-and-gap);\n    margin: calc(var(--pad-and-gap)/2);\n    text-align: center;\n}\n\n.menu li ul {\n    display: none;\n}\n\n.menu li:hover ul {\n    display: flex;\n}\n\n.menu a {\n    text-decoration: none;\n    color: black;\n}\n\n.submenu {\n    display: none;\n}\n\n.submenu li {\n    display: none;\n}\n\n.filter-options {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    padding-top: var(--pad-and-gap);\n    padding-bottom: 0;\n    flex-wrap: wrap;\n\tmax-width: 100em;\n}\n\n.filter-options fieldset {\n\tpadding: calc(var(--pad-and-gap)/2);\n\tborder: none;\n}\n\n.fiction {\n    /*background-color: var(--blue);*/\n    padding: 0 calc(var(--pad-and-gap)/2);\n    border-radius: 1em;\n}\n\n.fiction:hover {\n    color: var(--darkorange);\n}\n\n.non-fiction {\n    /*background-color: var(--violet);*/\n    padding: 0 calc(var(--pad-and-gap)/2);\n    border-radius: 1em;\n}\n\n.non-fiction:hover {\n    color: var(--darkorange);\n}\n\n.wellness {\n   /*background-color: var(--pink);*/\n    padding: 0 calc(var(--pad-and-gap)/2);\n    border-radius: 1em;\n}\n\n.wellness:hover {\n    color: var(--darkorange);\n}\n\n.teens {\n    /*background-color: var(--orange);*/\n    padding: 0 calc(var(--pad-and-gap)/2);\n    border-radius: 1em;\n}\n\n.teens:hover {\n    color: var(--darkorange);\n}\n\n.kids {\n    /*background-color: var(--yellow);*/\n    padding: 0 calc(var(--pad-and-gap)/2);\n    border-radius: 1em;\n}\n\n.kids:hover {\n    color: var(--darkorange);\n}\n\n.popularity {\n    /*background-color: var(--beige);*/\n    padding: 0 calc(var(--pad-and-gap)/2);\n    border-radius: 1em;\n}\n\n.popularity:hover {\n    color: var(--darkorange);\n}\n\n.book-label {\n    padding-top: var(--pad-and-gap);\n}\n\n.book-picture {\n\tborder: none;\n}\n\n.book-picture img {\n\twidth: 100%;\n}\n\n.sort {\n    padding-right: calc(var(--pad-and-gap)/2);\n    font-size: 1.2em;\n    margin-top: 0.2em;\n    margin-bottom: var(--pad-and-gap);\n}\n\n#sort {\n    background-color: white;\n    border-radius: 2em;\n    border: none;\n    box-shadow: 0px 1px 3px var(--darkermocha);\n    font: var(--font);\n    padding: 0.3em 0.2em;\n    margin-bottom: 1.2em;\n    color: black;\n    /*box-shadow: 0px 1px 2px var(--black);*/\n}\n\n.my-checkbox {\n    display: flex;\n    cursor: pointer;\n}\n\n.my-checkbox > span {\n    padding: 0 calc(var(--pad-and-gap)/3);\n}\n\n.my-checkbox > input {\n    height: 1em;\n    width: 1em;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    -o-appearance: none;\n    border: none;\n    box-shadow: 0px 1px 2px var(--darker);\n    background-color: white;\n    border-radius: 0.33em;\n}\n\n.my-checkbox > input:checked {\n    background-image: url("+d+");\n    background-repeat: no-repeat;\n    background-size: cover;\n    border: none;\n}\n\n.my-checkbox > input:hover {\n    background-color: var(--darkorange);\n    background-repeat: no-repeat;\n    background-size: cover;\n    border: none;\n}\n\n.filter-options a {\n    text-decoration: none;\n}\n\n.filter-list {\n    display: none;\n}\n\n#numProducts {\n\ttext-align: center;\n\tgrid-column-start: 1;\n\tgrid-column-end: 3;\n}\n\n@media screen and (min-width: 28em) {\n    \n    .social {\n        float: right;\n    }\n    \n    /* .footer-cart {\n        bottom: 0;\n        width: 100vw;\n        margin-top: 37em;\n    } */\n\n    .cart-bttn {\n        font-size: 1.1em;\n    }\n\n    .cart-product-info {\n        font-size: 1em;\n    }\n\n}\n\n@media screen and (min-width: 45em) {\n    \n    h1 {\n        font-size: 2em;\n    }\n\n    h2 {\n        font-size: 1.4em;\n    }\n\n    /* .footer-cart {\n        bottom: 0;\n        width: 100vw;\n        margin-top: 35em;\n    } */\n\n    .cart-bttn {\n        font-size: 1.2em;\n    }\n\n    .cart-product-info {\n        font-size: 1.2em;\n    }\n\n    .grid-container {\n        display: grid;\n        grid-template-columns: 1fr 1fr 1fr;\n        gap: var(--pad-and-gap);\n        justify-self: center;\n        justify-content: center;\n        max-width: 100em;\n        margin: auto;\n        grid-column-start: 2;\n        grid-column-end: 3;\n\t}\n\n    .page-header {\n        display: grid;\n        grid-template-columns: auto 1fr 1fr auto;\n        gap: var(--pad-and-gap);\n        justify-items: center;\n        padding: calc(var(--pad-and-gap)/5);\n    }\n\n    .logo {\n        grid-row-start: 1;\n        grid-row-end: 1;\n        grid-column-start:1;\n        grid-column-end: 2;\n        width: 9em;\n        padding-left: var(--pad-and-gap);\n\t\tpadding-top: calc(var(--pad-and-gap)/2);\n        margin-left: 0.1em;\n        padding-top: 1em;\n    }\n\n    .find {\n        width: 2em;\n    }\n\n    .search {\n        grid-row-start: 1;\n        grid-row-end: 1;\n        grid-column-start: 3;\n        grid-column-end: 4;\n        padding-top: calc(var(--pad-and-gap)*2.9);\n\t}\n\n    .your-products {\n        grid-row-start: 1;\n        grid-row-end: 1;\n        grid-column-start: 4;\n        grid-column-end: 5;\n        display: flex;\n        flex-direction: column;\n\t\tpadding: 0 1em;\n\t\tmargin-left: 3.7em;\n    }\n\n    .navigation {\n        width: 100%;\n        padding-top: 1.9em;\n        grid-row-start: 1;\n        grid-row-end: 1;\n        grid-column-start: 2;\n\t\tgrid-column-end: 4;\n    }\n\n    .navigation ul {\n        display: flex;\n        justify-content: space-evenly;\n        padding: calc(var(--pad-and-gap)/2);\n    }\n\n    .menu-toggle {\n        display: none;\n    }\n\n    .menu.active {\n        display: none;\n    }\n\n    .submenu {\n        background-color: var(--lightmocha);\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n        align-items: center;\n        margin-top: 0;\n        padding-left: 0;\n        padding-top: var(--pad-and-gap);\n        width: 10em;\n        height: 10em;\n        border-radius: 0.8em;\n        font-family: var(--font);\n    }\n\n    .submenu li {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        justify-content: space-around;\n        justify-content: left;\n        padding-left: calc(var(--pad-and-gap)/2);\n        align-items: center;\n    }\n\n    .submenu li:hover {\n        background-color: var(--darkorange);\n        border-radius: 0.7em;\n    }\n\n    .heading {\n        margin: 0;\n    }\n\n    .filter-options {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        padding-bottom: 0;\n        flex-wrap: wrap;\n        font-size: 1em;\n\t}\n\t\n\t#numProducts {\n\t\ttext-align: center;\n\t\tgrid-column-start: 1;\n\t\tgrid-column-end: 4;\n    }\n\n}\n\n@media screen and (min-width: 60em) {\n\n    section fieldset {\n        grid-column-start: 2;\n        grid-column-end: 3;\n    }\n\n    .results {\n        display: grid;\n        grid-template-columns: 1fr 3fr;\n    }\n\n    .result-filters {\n        padding: 0;\n        border: none;\n        background-color: var(--mocha);\n\t\tbox-shadow: 0px 0px 0px var(--mocha);\n\t\twidth: 100%;\n    }\n\n    .result-filters h2 {\n        padding-bottom: calc(var(--pad-and-gap)/2);\n    }\n\n    .result-filters fieldset {\n        display: block;\n    }\n\n    .grid-container {\n        grid-column-start: 2;\n        grid-column-end: 3;\n    }\n\n    .filter-list {\n        display: block;\n\t}\n\t\n\t.search-div {\n\t\tpadding-bottom: 1em;\n\t}\n\n\t#numProducts {\n\t\ttext-align: center;\n\t\tgrid-column-start: 1;\n\t\tgrid-column-end: 4;\n\t}\n}\n\n@media screen and (min-width: 85em) {\n    \n    .grid-container {\n        display: grid;\n        grid-template-columns: 1fr 1fr 1fr 1fr;\n        gap: var(--pad-and-gap);\n    }\n\n    .find {\n        width: 2em;\n    }\n\n    .navigation {\n        width: 80%;\n        padding-top: calc(var(--pad-and-gap)*1.65);\n    }\n\n    .heading {\n        margin: 0;\n    }\n\n    .filter-options {\n        font-size: 1.2em;\n    }\n\n\t#numProducts {\n\t\ttext-align: center;\n\t\tgrid-column-start: 2;\n\t\tgrid-column-end: 4;\n\t}\n\n}\n\n@media screen and (min-width: 90em) {\n\n    .filter-options {\n        justify-content: space-around;\n    }\n}",""]);const p=l},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},1667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},6435:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"343332e8933b198c3dc7a94e841e1ac8.svg"},4935:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"0bba19248c26a1f8a4416f27f83003ed.svg"},7132:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"d521eb3c77f6717d30c83e205f9b2ca9.svg"},7050:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"c3f2b7b2a3bd2005a88d7dd58ed1952b.svg"},8377:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"b2849b97da3e94a046a9b0e936ac9638.svg"},4021:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"ff5bd1794c0ae76af66b75004ad4b69a.jpg"},761:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"54f03ea1033faf185082b7453bfaeb32.png"},8679:(e,t,n)=>{"use strict";var r=n(9864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),m=u(n),g=0;g<a.length;++g){var v=a[g];if(!(o[v]||r&&r[v]||m&&m[v]||s&&s[v])){var y=h(n,v);try{c(t,v,y)}catch(e){}}}}return t}},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},2703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4448:(e,t,n)=>{"use strict";var r=n(7294),i=n(7418),o=n(3840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,S=60106,_=60107,T=60108,I=60114,x=60109,N=60110,C=60112,A=60113,D=60120,P=60115,O=60116,R=60121,L=60128,M=60129,F=60130,j=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;k=U("react.element"),S=U("react.portal"),_=U("react.fragment"),T=U("react.strict_mode"),I=U("react.profiler"),x=U("react.provider"),N=U("react.context"),C=U("react.forward_ref"),A=U("react.suspense"),D=U("react.suspense_list"),P=U("react.memo"),O=U("react.lazy"),R=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,B="function"==typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function H(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function Q(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return H(e.type,!1);case 11:return H(e.type.render,!1);case 22:return H(e.type._render,!1);case 1:return H(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case I:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return W(e.type);case R:return W(e._render);case O:t=e._payload,e=e._init;try{return W(e(t))}catch(e){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ce(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,xe=null,Ne=null;function Ce(e){if(e=Zr(e)){if("function"!=typeof Ie)throw Error(a(280));var t=e.stateNode;t&&(t=ti(t),Ie(e.stateNode,e.type,t))}}function Ae(e){xe?Ne?Ne.push(e):Ne=[e]:xe=e}function De(){if(xe){var e=xe,t=Ne;if(Ne=xe=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Pe(e,t){return e(t)}function Oe(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Le=Pe,Me=!1,Fe=!1;function je(){null===xe&&null===Ne||(Re(),De())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Ve=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){Ve=!1}function qe(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var ze=!1,Ke=null,He=!1,Qe=null,We={onError:function(e){ze=!0,Ke=e}};function Ge(e,t,n,r,i,o,a,s,u){ze=!1,Ke=null,qe.apply(We,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(a(188))}function Je(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ut=null,ct=new Map,lt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&null!==(t=Zr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Jr(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Zr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Zr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&vt(at)&&(at=null),null!==st&&vt(st)&&(st=null),null!==ut&&vt(ut)&&(ut=null),ct.forEach(yt),lt.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function Et(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==st&&wt(st,e),null!==ut&&wt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)gt(n),null===n.blockedOn&&ft.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},_t={},Tt={};function It(e){if(_t[e])return _t[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return _t[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var xt=It("animationend"),Nt=It("animationiteration"),Ct=It("animationstart"),At=It("transitionend"),Dt=new Map,Pt=new Map,Ot=["abort","abort",xt,"animationEnd",Nt,"animationIteration",Ct,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Dt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Lt):0!=(s&=o)&&(r=Mt(s),i=Lt)}else 0!=(o=n&~a)?(r=Mt(o),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Vt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&0===(e=Vt(4186112&~t))&&(e=512),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Vt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Ht|0)|0},Kt=Math.log,Ht=Math.LN2,Qt=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,Gt=!0;function $t(e,t,n,r){Me||Re();var i=Xt,o=Me;Me=!0;try{Oe(i,e,t,n,r)}finally{(Me=o)||je()}}function Yt(e,t,n,r){Wt(Qt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Gt)if((i=0==(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Te(r);if(null!==(i=Jr(i))){var o=$e(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ye(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(fn),dn=i({},fn,{view:0,detail:0}),pn=sn(dn),mn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=sn(mn),vn=sn(i({},mn,{dataTransfer:0})),yn=sn(i({},dn,{relatedTarget:0})),bn=sn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=sn(i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),En=sn(i({},fn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return Tn}var xn=sn(i({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Nn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=sn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=sn(i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Pn=[9,13,27,32],On=f&&"CompositionEvent"in window,Rn=null;f&&"documentMode"in document&&(Rn=document.documentMode);var Ln=f&&"TextEvent"in window&&!Rn,Mn=f&&(!On||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1,qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ae(r),0<(t=Or(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Qn=null;function Wn(e){Tr(e,0)}function Gn(e){if(X(ei(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(f){var Xn;if(f){var Jn="oninput"in document;if(!Jn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Jn="function"==typeof Zn.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){Hn&&(Hn.detachEvent("onpropertychange",tr),Qn=Hn=null)}function tr(e){if("value"===e.propertyName&&Gn(Qn)){var t=[];if(Kn(t,Qn,e,Te(e)),e=Wn,Me)e(t);else{Me=!0;try{Pe(e,t)}finally{Me=!1,je()}}}}function nr(e,t,n){"focusin"===e?(er(),Qn=n,(Hn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Qn)}function ir(e,t){if("click"===e)return Gn(t)}function or(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function ur(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ar(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=f&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,vr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==J(r)||(r="selectionStart"in(r=mr)&&dr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ur(vr,r)||(vr=r,0<(r=Or(gr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Ot,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<wr.length;Er++)Pt.set(wr[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function _r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ge.apply(this,arguments),ze){if(!ze)throw Error(a(198));var l=Ke;ze=!1,Ke=null,He||(He=!0,Qe=l)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;_r(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;_r(i,s,c),o=u}}}if(He)throw e=Qe,He=!1,Qe=null,e}function Ir(e,t){var n=ni(t),r=e+"__bubble";n.has(r)||(Ar(t,e,2,!1),n.add(r))}var xr="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){e[xr]||(e[xr]=!0,s.forEach((function(t){Sr.has(t)||Cr(t,!1,e,null),Cr(t,!0,e,null)})))}function Cr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ni(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Ar(o,e,i,t),a.add(s))}function Ar(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Jr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{Le(e,t,n)}finally{Fe=!1,je()}}((function(){var r=o,i=Te(n),a=[];e:{var s=Dt.get(e);if(void 0!==s){var u=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=xn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case xt:case Nt:case Ct:u=bn;break;case At:u=An;break;case"scroll":u=pn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!=(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==h&&null!=(m=Ue(p,h))&&l.push(Pr(p,m,d))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Jr(c)&&!c[Yr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Jr(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,m="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ei(u),d=null==c?s:ei(c),(s=new l(m,p+"leave",u,n,i)).target=f,s.relatedTarget=d,m=null,Jr(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,m=l),f=m,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Rr(d))p++;for(d=0,m=h;m;m=Rr(m))d++;for(;0<p-d;)l=Rr(l),p--;for(;0<d-p;)h=Rr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Rr(l),h=Rr(h)}l=null}else l=null;null!==u&&Lr(a,s,u,l,!1),null!==c&&null!==f&&Lr(a,f,c,l,!0)}if("select"===(u=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=$n;else if(zn(s))if(Yn)g=or;else{g=rr;var v=nr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Kn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ie(s,"number",s.value)),v=r?ei(r):window,e){case"focusin":(zn(v)||"true"===v.contentEditable)&&(mr=v,gr=r,vr=null);break;case"focusout":vr=gr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Bn=!0)),0<(v=Or(r,b)).length&&(b=new En(b,e,null,n,i),a.push({event:b,listeners:v}),(y||null!==(y=Vn(n)))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Un(e,t)?(e=nn(),tn=en=Zt=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Or(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Tr(a,t)}))}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Or(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Pr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Pr(e,o,i))),e=e.return}return r}function Rr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,o))&&a.unshift(Pr(n,u,s)):i||null!=(u=Ue(n,o))&&a.push(Pr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Mr(){}var Fr=null,jr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Br="function"==typeof setTimeout?setTimeout:void 0,qr="function"==typeof clearTimeout?clearTimeout:void 0;function zr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Hr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0,Wr=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Wr,$r="__reactProps$"+Wr,Yr="__reactContainer$"+Wr,Xr="__reactEvents$"+Wr;function Jr(e){var t=e[Gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yr]||n[Gr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Hr(e);null!==e;){if(n=e[Gr])return n;e=Hr(e)}return t}n=(e=n).parentNode}return null}function Zr(e){return!(e=e[Gr]||e[Yr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ti(e){return e[$r]||null}function ni(e){var t=e[Xr];return void 0===t&&(t=e[Xr]=new Set),t}var ri=[],ii=-1;function oi(e){return{current:e}}function ai(e){0>ii||(e.current=ri[ii],ri[ii]=null,ii--)}function si(e,t){ii++,ri[ii]=e.current,e.current=t}var ui={},ci=oi(ui),li=oi(!1),fi=ui;function hi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function di(e){return null!=e.childContextTypes}function pi(){ai(li),ai(ci)}function mi(e,t,n){if(ci.current!==ui)throw Error(a(168));si(ci,t),si(li,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,W(t)||"Unknown",o));return i({},n,r)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,fi=ci.current,si(ci,e),si(li,li.current),!0}function yi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=gi(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,ai(li),ai(ci),si(ci,e)):ai(li),si(li,n)}var bi=null,wi=null,Ei=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,_i=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Ii=o.unstable_now,xi=o.unstable_getCurrentPriorityLevel,Ni=o.unstable_ImmediatePriority,Ci=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Pi=o.unstable_IdlePriority,Oi={},Ri=void 0!==Ti?Ti:function(){},Li=null,Mi=null,Fi=!1,ji=Ii(),Ui=1e4>ji?Ii:function(){return Ii()-ji};function Vi(){switch(xi()){case Ni:return 99;case Ci:return 98;case Ai:return 97;case Di:return 96;case Pi:return 95;default:throw Error(a(332))}}function Bi(e){switch(e){case 99:return Ni;case 98:return Ci;case 97:return Ai;case 96:return Di;case 95:return Pi;default:throw Error(a(332))}}function qi(e,t){return e=Bi(e),Ei(e,t)}function zi(e,t,n){return e=Bi(e),ki(e,t,n)}function Ki(){if(null!==Mi){var e=Mi;Mi=null,Si(e)}Hi()}function Hi(){if(!Fi&&null!==Li){Fi=!0;var e=0;try{var t=Li;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),ki(Ni,Ki),t}finally{Fi=!1}}}var Qi=E.ReactCurrentBatchConfig;function Wi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Gi=oi(null),$i=null,Yi=null,Xi=null;function Ji(){Xi=Yi=$i=null}function Zi(e){var t=Gi.current;ai(Gi),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){$i=e,Xi=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Oa=!0),e.firstContext=null)}function no(e,t){if(Xi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Xi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===$i)throw Error(a(308));Yi=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var ro=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var o=e.updateQueue;ro=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,s=0,f=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(u=t,d=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=m.payload)?p.call(d,h,u):p))break e;h=i({},h,u);break e;case 2:ro=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,Ls|=s,e.lanes=s,e.memoizedState=h}}function lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var fo=(new r.Component).refs;function ho(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=au(),r=su(e),i=ao(n,r);i.tag=2,null!=t&&(i.callback=t),so(e,i),uu(e,r,n)}};function mo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&ur(n,r)&&ur(i,o))}function go(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=di(t)?fi:ci.current,o=(r=null!=(r=t.contextTypes))?hi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function vo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=fo,io(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=di(t)?fi:ci.current,i.context=hi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(ho(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var bo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===fo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Vu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ku(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=Bu(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=qu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ku(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Bu(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case S:return(t=Hu(t,e.mode,n)).return=e,t}if(bo(t)||q(t))return(t=qu(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null}if(bo(n)||q(n))return null!==i?null:f(e,t,n,r,null);Eo(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,f=a,m=a=0,g=null;null!==f&&m<s.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var v=d(i,f,s[m],u);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(i,f),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v,f=g}if(m===s.length)return n(i,f),c;if(null===f){for(;m<s.length;m++)null!==(f=h(i,s[m],u))&&(a=o(f,a,m),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);m<s.length;m++)null!==(g=p(f,i,m,s[m],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),a=o(g,a,m),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return t(i,e)})),c}function g(i,s,u,c){var l=q(u);if("function"!=typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=d(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===f?l=b:f.sibling=b,f=b,m=v}if(y.done)return n(i,m),l;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,g),null===f?l=y:f.sibling=y,f=y);return l}for(m=r(i,m);!y.done;g++,y=u.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===f?l=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===_&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case k:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===_){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=wo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===_?((r=qu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Bu(o.type,o.key,o.props,null,e.mode,u)).ref=wo(e,r,o),u.return=e,e=u)}return s(e);case S:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Hu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Ku(o,e.mode,u)).return=e,e=r),s(e);if(bo(o))return m(e,r,o,u);if(q(o))return g(e,r,o,u);if(l&&Eo(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,W(e.type)||"Component"))}return n(e,r)}}var So=ko(!0),_o=ko(!1),To={},Io=oi(To),xo=oi(To),No=oi(To);function Co(e){if(e===To)throw Error(a(174));return e}function Ao(e,t){switch(si(No,t),si(xo,e),si(Io,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ai(Io),si(Io,t)}function Do(){ai(Io),ai(xo),ai(No)}function Po(e){Co(No.current);var t=Co(Io.current),n=de(t,e.type);t!==n&&(si(xo,e),si(Io,n))}function Oo(e){xo.current===e&&(ai(Io),ai(xo))}var Ro=oi(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=null,Fo=null,jo=!1;function Uo(e,t){var n=ju(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Bo(e){if(jo){var t=Fo;if(t){var n=t;if(!Vo(e,t)){if(!(t=Kr(n.nextSibling))||!Vo(e,t))return e.flags=-1025&e.flags|2,jo=!1,void(Mo=e);Uo(Mo,n)}Mo=e,Fo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,jo=!1,Mo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function zo(e){if(e!==Mo)return!1;if(!jo)return qo(e),jo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=Fo;t;)Uo(e,t),t=Kr(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fo=null}}else Fo=Mo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){Fo=Mo=null,jo=!1}var Ho=[];function Qo(){for(var e=0;e<Ho.length;e++)Ho[e]._workInProgressVersionPrimary=null;Ho.length=0}var Wo=E.ReactCurrentDispatcher,Go=E.ReactCurrentBatchConfig,$o=0,Yo=null,Xo=null,Jo=null,Zo=!1,ea=!1;function ta(){throw Error(a(321))}function na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ra(e,t,n,r,i,o){if($o=o,Yo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wo.current=null===e||null===e.memoizedState?Ca:Aa,e=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,Jo=Xo=null,t.updateQueue=null,Wo.current=Da,e=n(r,i)}while(ea)}if(Wo.current=Na,t=null!==Xo&&null!==Xo.next,$o=0,Jo=Xo=Yo=null,Zo=!1,t)throw Error(a(300));return e}function ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Jo?Yo.memoizedState=Jo=e:Jo=Jo.next=e,Jo}function oa(){if(null===Xo){var e=Yo.alternate;e=null!==e?e.memoizedState:null}else e=Xo.next;var t=null===Jo?Yo.memoizedState:Jo.next;if(null!==t)Jo=t,Xo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Xo=e).memoizedState,baseState:Xo.baseState,baseQueue:Xo.baseQueue,queue:Xo.queue,next:null},null===Jo?Yo.memoizedState=Jo=e:Jo=Jo.next=e}return Jo}function aa(e,t){return"function"==typeof t?t(e):t}function sa(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Xo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if(($o&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,Yo.lanes|=l,Ls|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,ar(r,t.memoizedState)||(Oa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ar(o,t.memoizedState)||(Oa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ca(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($o&e)===e)&&(t._workInProgressVersionPrimary=r,Ho.push(t))),e)return n(t._source);throw Ho.push(t),Error(a(350))}function la(e,t,n,r){var i=xs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Wo.current,c=u.useState((function(){return ca(i,t,n)})),l=c[1],f=c[0];c=Jo;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,m=h.source;h=h.subscribe;var g=Yo;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!ar(s,e)){e=n(t._source),ar(f,e)||(l(e),e=su(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-zt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=su(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ar(p,n)&&ar(m,t)&&ar(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:f}).dispatch=l=xa.bind(null,Yo,e),c.queue=e,c.baseQueue=null,f=ca(i,t,n),c.memoizedState=c.baseState=f),f}function fa(e,t,n){return la(oa(),e,t,n)}function ha(e){var t=ia();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e}).dispatch=xa.bind(null,Yo,e),[t.memoizedState,e]}function da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Yo.updateQueue)?(t={lastEffect:null},Yo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(e){return e={current:e},ia().memoizedState=e}function ma(){return oa().memoizedState}function ga(e,t,n,r){var i=ia();Yo.flags|=e,i.memoizedState=da(1|t,n,void 0,void 0===r?null:r)}function va(e,t,n,r){var i=oa();r=void 0===r?null:r;var o=void 0;if(null!==Xo){var a=Xo.memoizedState;if(o=a.destroy,null!==r&&na(r,a.deps))return void da(t,n,o,r)}Yo.flags|=e,i.memoizedState=da(1|t,n,o,r)}function ya(e,t){return ga(516,4,e,t)}function ba(e,t){return va(516,4,e,t)}function wa(e,t){return va(4,2,e,t)}function Ea(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,n){return n=null!=n?n.concat([e]):null,va(4,2,Ea.bind(null,t,e),n)}function Sa(){}function _a(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ia(e,t){var n=Vi();qi(98>n?98:n,(function(){e(!0)})),qi(97<n?97:n,(function(){var n=Go.transition;Go.transition=1;try{e(!1),t()}finally{Go.transition=n}}))}function xa(e,t,n){var r=au(),i=su(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Yo||null!==a&&a===Yo)ea=Zo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,ar(u,s))return}catch(e){}uu(e,i,r)}}var Na={readContext:no,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useOpaqueIdentifier:ta,unstable_isNewReconciler:!1},Ca={readContext:no,useCallback:function(e,t){return ia().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:ya,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ga(4,2,Ea.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4,2,e,t)},useMemo:function(e,t){var n=ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xa.bind(null,Yo,e),[r.memoizedState,e]},useRef:pa,useState:ha,useDebugValue:Sa,useDeferredValue:function(e){var t=ha(e),n=t[0],r=t[1];return ya((function(){var t=Go.transition;Go.transition=1;try{r(e)}finally{Go.transition=t}}),[e]),n},useTransition:function(){var e=ha(!1),t=e[0];return pa(e=Ia.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ia();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},la(r,e,t,n)},useOpaqueIdentifier:function(){if(jo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(a(355))})),n=ha(t)[1];return 0==(2&Yo.mode)&&(Yo.flags|=516,da(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return ha(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Aa={readContext:no,useCallback:_a,useContext:no,useEffect:ba,useImperativeHandle:ka,useLayoutEffect:wa,useMemo:Ta,useReducer:sa,useRef:ma,useState:function(){return sa(aa)},useDebugValue:Sa,useDeferredValue:function(e){var t=sa(aa),n=t[0],r=t[1];return ba((function(){var t=Go.transition;Go.transition=1;try{r(e)}finally{Go.transition=t}}),[e]),n},useTransition:function(){var e=sa(aa)[0];return[ma().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return sa(aa)[0]},unstable_isNewReconciler:!1},Da={readContext:no,useCallback:_a,useContext:no,useEffect:ba,useImperativeHandle:ka,useLayoutEffect:wa,useMemo:Ta,useReducer:ua,useRef:ma,useState:function(){return ua(aa)},useDebugValue:Sa,useDeferredValue:function(e){var t=ua(aa),n=t[0],r=t[1];return ba((function(){var t=Go.transition;Go.transition=1;try{r(e)}finally{Go.transition=t}}),[e]),n},useTransition:function(){var e=ua(aa)[0];return[ma().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return ua(aa)[0]},unstable_isNewReconciler:!1},Pa=E.ReactCurrentOwner,Oa=!1;function Ra(e,t,n,r){t.child=null===e?_o(t,null,n,r):So(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var o=t.ref;return to(t,i),r=ra(e,t,n,r,o,i),null===e||Oa?(t.flags|=1,Ra(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Za(e,t,i))}function Ma(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Uu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Bu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fa(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?Za(e,t,o):(t.flags|=1,(e=Vu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Fa(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Oa=!1,0==(o&i))return t.lanes=e.lanes,Za(e,t,o);0!=(16384&e.flags)&&(Oa=!0)}return Va(e,t,n,r,o)}function ja(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},gu(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},gu(0,e),null;t.memoizedState={baseLanes:0},gu(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,gu(0,r);return Ra(e,t,i,n),t.child}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Va(e,t,n,r,i){var o=di(n)?fi:ci.current;return o=hi(t,o),to(t,i),n=ra(e,t,n,r,o,i),null===e||Oa?(t.flags|=1,Ra(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Za(e,t,i))}function Ba(e,t,n,r,i){if(di(n)){var o=!0;vi(t)}else o=!1;if(to(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),go(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;c="object"==typeof c&&null!==c?no(c):hi(t,c=di(n)?fi:ci.current);var l=n.getDerivedStateFromProps,f="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&vo(t,a,r,c),ro=!1;var h=t.memoizedState;a.state=h,co(t,r,a,i),u=t.memoizedState,s!==r||h!==u||li.current||ro?("function"==typeof l&&(ho(t,n,l,r),u=t.memoizedState),(s=ro||mo(t,n,s,r,h,u,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Wi(t.type,s),a.props=c,f=t.pendingProps,h=a.context,u="object"==typeof(u=n.contextType)&&null!==u?no(u):hi(t,u=di(n)?fi:ci.current);var d=n.getDerivedStateFromProps;(l="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==f||h!==u)&&vo(t,a,r,u),ro=!1,h=t.memoizedState,a.state=h,co(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||li.current||ro?("function"==typeof d&&(ho(t,n,d,r),p=t.memoizedState),(c=ro||mo(t,n,c,r,h,p,u))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return qa(e,t,n,r,o,i)}function qa(e,t,n,r,i,o){Ua(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&yi(t,n,!1),Za(e,t,o);r=t.stateNode,Pa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):Ra(e,t,s,o),t.memoizedState=r.state,i&&yi(t,n,!0),t.child}function za(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),Ao(e,t.containerInfo)}var Ka,Ha,Qa,Wa={dehydrated:null,retryLane:0};function Ga(e,t,n){var r,i=t.pendingProps,o=Ro.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),si(Ro,1&o),null===e?(void 0!==i.fallback&&Bo(t),e=i.children,o=i.fallback,a?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Wa,e):"number"==typeof i.unstable_expectedLoadTime?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Wa,t.lanes=33554432,e):((n=zu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Vu(a,s),null!==e?r=Vu(e,r):(r=qu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Wa,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Vu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function $a(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=zu(t,i,0,null),n=qu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ya(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Xa(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Ja(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ra(e,t,r.children,n),0!=(2&(r=Ro.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ya(e,n);else if(19===e.tag)Ya(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Ro,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xa(t,!0,n,null,o,t.lastEffect);break;case"together":Xa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Za(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Vu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function es(e,t){if(!jo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ts(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(t.type)&&pi(),null;case 3:return Do(),ai(li),ai(ci),Qo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(zo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Oo(t);var o=Co(No.current);if(n=t.type,null!==e&&null!=t.stateNode)Ha(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Co(Io.current),zo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Gr]=t,r[$r]=s,n){case"dialog":Ir("cancel",r),Ir("close",r);break;case"iframe":case"object":case"embed":Ir("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Ir(kr[e],r);break;case"source":Ir("error",r);break;case"img":case"image":case"link":Ir("error",r),Ir("load",r);break;case"details":Ir("toggle",r);break;case"input":ee(r,s),Ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ir("invalid",r);break;case"textarea":ue(r,s),Ir("invalid",r)}for(var c in Se(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Ir("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Gr]=t,e[$r]=r,Ka(e,t),t.stateNode=e,c=_e(n,r),n){case"dialog":Ir("cancel",e),Ir("close",e),o=r;break;case"iframe":case"object":case"embed":Ir("load",e),o=r;break;case"video":case"audio":for(o=0;o<kr.length;o++)Ir(kr[o],e);o=r;break;case"source":Ir("error",e),o=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),o=r;break;case"details":Ir("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Ir("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Ir("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Ir("invalid",e);break;default:o=r}Se(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?Ee(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"==typeof f?("textarea"!==n||""!==f)&&ve(e,f):"number"==typeof f&&ve(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ir("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Mr)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qa(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Co(No.current),Co(Io.current),zo(t)?(r=t.stateNode,n=t.memoizedProps,r[Gr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Gr]=t,t.stateNode=r)}return null;case 13:return ai(Ro),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&zo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ro.current)?0===Ps&&(Ps=3):(0!==Ps&&3!==Ps||(Ps=4),null===xs||0==(134217727&Ls)&&0==(134217727&Ms)||hu(xs,Cs))),(r||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&Nr(t.stateNode.containerInfo),null;case 10:return Zi(t),null;case 17:return di(t.type)&&pi(),null;case 19:if(ai(Ro),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(c=r.rendering))if(s)es(r,!1);else{if(0!==Ps||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Lo(e))){for(t.flags|=64,es(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return si(Ro,1&Ro.current|2),t.child}e=e.sibling}null!==r.tail&&Ui()>Vs&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Lo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),es(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!jo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=Ro.current,si(Ro,s?1&t|2:1&t),n):null;case 23:case 24:return vu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ns(e){switch(e.tag){case 1:di(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),ai(li),ai(ci),Qo(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Oo(e),null;case 13:return ai(Ro),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ai(Ro),null;case 4:return Do(),null;case 10:return Zi(e),null;case 23:case 24:return vu(),null;default:return null}}function rs(e,t){try{var n="",r=t;do{n+=Q(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function is(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ha=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Co(Io.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Mr)}for(f in Se(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ir("scroll",e),s||c===l||(s=[])):"object"==typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Qa=function(e,t,n,r){n!==r&&(t.flags|=4)};var os="function"==typeof WeakMap?WeakMap:Map;function as(e,t,n){(n=ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Hs=r),is(0,t)},n}function ss(e,t,n){(n=ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return is(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this),is(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var us="function"==typeof WeakSet?WeakSet:Set;function cs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ru(e,t)}else t.current=null}function ls(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Wi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&zr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function fs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Du(n,e),Au(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Wi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&lo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}lo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function hs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ds(e,t){if(wi&&"function"==typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(bi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Du(t,n);else{r=t;try{i()}catch(e){Ru(r,e)}}n=n.next}while(n!==e)}break;case 1:if(cs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ru(t,e)}break;case 5:cs(t);break;case 4:bs(e,t)}}function ps(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ms(e){return 5===e.tag||3===e.tag||4===e.tag}function gs(e){e:{for(var t=e.return;null!==t;){if(ms(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?vs(e,n,t):ys(e,n,t)}function vs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(vs(e,t,n),e=e.sibling;null!==e;)vs(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function bs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ds(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ds(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ws(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,i),t=_e(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Ee(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ve(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Us=Ui(),hs(t.child,!0)),void Es(t);case 19:return void Es(t);case 17:return;case 23:case 24:return void hs(t,null!==t.memoizedState)}throw Error(a(163))}function Es(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new us),t.forEach((function(t){var r=Mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ks(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Ss=Math.ceil,_s=E.ReactCurrentDispatcher,Ts=E.ReactCurrentOwner,Is=0,xs=null,Ns=null,Cs=0,As=0,Ds=oi(0),Ps=0,Os=null,Rs=0,Ls=0,Ms=0,Fs=0,js=null,Us=0,Vs=1/0;function Bs(){Vs=Ui()+500}var qs,zs=null,Ks=!1,Hs=null,Qs=null,Ws=!1,Gs=null,$s=90,Ys=[],Xs=[],Js=null,Zs=0,eu=null,tu=-1,nu=0,ru=0,iu=null,ou=!1;function au(){return 0!=(48&Is)?Ui():-1!==tu?tu:tu=Ui()}function su(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Vi()?1:2;if(0===nu&&(nu=Rs),0!==Qi.transition){0!==ru&&(ru=null!==js?js.pendingLanes:0),e=nu;var t=4186112&~ru;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Vi(),e=Ut(0!=(4&Is)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nu)}function uu(e,t,n){if(50<Zs)throw Zs=0,eu=null,Error(a(185));if(null===(e=cu(e,t)))return null;qt(e,t,n),e===xs&&(Ms|=t,4===Ps&&hu(e,Cs));var r=Vi();1===t?0!=(8&Is)&&0==(48&Is)?du(e):(lu(e,n),0===Is&&(Bs(),Ki())):(0==(4&Is)||98!==r&&99!==r||(null===Js?Js=new Set([e]):Js.add(e)),lu(e,n)),js=e}function cu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function lu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-zt(s),c=1<<u,l=o[u];if(-1===l){if(0==(c&r)||0!=(c&i)){l=t,Mt(c);var f=Lt;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===xs?Cs:0),t=Lt,0===r)null!==n&&(n!==Oi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Oi&&Si(n)}15===t?(n=du.bind(null,e),null===Li?(Li=[n],Mi=ki(Ni,Hi)):Li.push(n),n=Oi):n=14===t?zi(99,du.bind(null,e)):zi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),fu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function fu(e){if(tu=-1,ru=nu=0,0!=(48&Is))throw Error(a(327));var t=e.callbackNode;if(Cu()&&e.callbackNode!==t)return null;var n=Ft(e,e===xs?Cs:0);if(0===n)return null;var r=n,i=Is;Is|=16;var o=wu();for(xs===e&&Cs===r||(Bs(),yu(e,r));;)try{Su();break}catch(t){bu(e,t)}if(Ji(),_s.current=o,Is=i,null!==Ns?r=0:(xs=null,Cs=0,r=Ps),0!=(Rs&Ms))yu(e,0);else if(0!==r){if(2===r&&(Is|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(n=jt(e))&&(r=Eu(e,n))),1===r)throw t=Os,yu(e,0),hu(e,n),lu(e,Ui()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Iu(e);break;case 3:if(hu(e,n),(62914560&n)===n&&10<(r=Us+500-Ui())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){au(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Br(Iu.bind(null,e),r);break}Iu(e);break;case 4:if(hu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ui()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ss(n/1960))-n)){e.timeoutHandle=Br(Iu.bind(null,e),n);break}Iu(e);break;case 5:Iu(e);break;default:throw Error(a(329))}}return lu(e,Ui()),e.callbackNode===t?fu.bind(null,e):null}function hu(e,t){for(t&=~Fs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function du(e){if(0!=(48&Is))throw Error(a(327));if(Cu(),e===xs&&0!=(e.expiredLanes&Cs)){var t=Cs,n=Eu(e,t);0!=(Rs&Ms)&&(n=Eu(e,t=Ft(e,t)))}else n=Eu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Is|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(t=jt(e))&&(n=Eu(e,t))),1===n)throw n=Os,yu(e,0),hu(e,t),lu(e,Ui()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Iu(e),lu(e,Ui()),null}function pu(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Bs(),Ki())}}function mu(e,t){var n=Is;Is&=-2,Is|=8;try{return e(t)}finally{0===(Is=n)&&(Bs(),Ki())}}function gu(e,t){si(Ds,As),As|=t,Rs|=t}function vu(){As=Ds.current,ai(Ds)}function yu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qr(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:Do(),ai(li),ai(ci),Qo();break;case 5:Oo(r);break;case 4:Do();break;case 13:case 19:ai(Ro);break;case 10:Zi(r);break;case 23:case 24:vu()}n=n.return}xs=e,Ns=Vu(e.current,null),Cs=As=Rs=t,Ps=0,Os=null,Fs=Ms=Ls=0}function bu(e,t){for(;;){var n=Ns;try{if(Ji(),Wo.current=Na,Zo){for(var r=Yo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Zo=!1}if($o=0,Jo=Xo=Yo=null,ea=!1,Ts.current=null,null===n||null===n.return){Ps=1,Os=t,Ns=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Cs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!=(1&Ro.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=h.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(d){var g=h.updateQueue;if(null===g){var v=new Set;v.add(c),h.updateQueue=v}else g.add(c);if(0==(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ao(-1,1);y.tag=2,so(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new os,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Lu.bind(null,o,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((W(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ps&&(Ps=2),u=rs(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,uo(h,as(0,o,t));break e;case 1:o=u;var E=h.type,k=h.stateNode;if(0==(64&h.flags)&&("function"==typeof E.getDerivedStateFromError||null!==k&&"function"==typeof k.componentDidCatch&&(null===Qs||!Qs.has(k)))){h.flags|=4096,t&=-t,h.lanes|=t,uo(h,ss(h,o,t));break e}}h=h.return}while(null!==h)}Tu(n)}catch(e){t=e,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function wu(){var e=_s.current;return _s.current=Na,null===e?Na:e}function Eu(e,t){var n=Is;Is|=16;var r=wu();for(xs===e&&Cs===t||yu(e,t);;)try{ku();break}catch(t){bu(e,t)}if(Ji(),Is=n,_s.current=r,null!==Ns)throw Error(a(261));return xs=null,Cs=0,Ps}function ku(){for(;null!==Ns;)_u(Ns)}function Su(){for(;null!==Ns&&!_i();)_u(Ns)}function _u(e){var t=qs(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?Tu(e):Ns=t,Ts.current=null}function Tu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ts(n,t,As)))return void(Ns=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&As)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ns(t)))return n.flags&=2047,void(Ns=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ps&&(Ps=5)}function Iu(e){var t=Vi();return qi(99,xu.bind(null,e,t)),null}function xu(e,t){do{Cu()}while(null!==Gs);if(0!=(48&Is))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-zt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==Js&&0==(24&r)&&Js.has(e)&&Js.delete(e),e===xs&&(Ns=xs=null,Cs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Is,Is|=32,Ts.current=null,Fr=Gt,dr(s=hr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(e){u=null;break e}var f=0,h=-1,d=-1,p=0,m=0,g=s,v=null;t:for(;;){for(var y;g!==u||0!==o&&3!==g.nodeType||(h=f+o),g!==c||0!==l&&3!==g.nodeType||(d=f+l),3===g.nodeType&&(f+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===s)break t;if(v===u&&++p===o&&(h=f),v===c&&++m===l&&(d=f),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;jr={focusedElem:s,selectionRange:u},Gt=!1,iu=null,ou=!1,zs=r;do{try{Nu()}catch(e){if(null===zs)throw Error(a(330));Ru(zs,e),zs=zs.nextEffect}}while(null!==zs);iu=null,zs=r;do{try{for(s=e;null!==zs;){var b=zs.flags;if(16&b&&ve(zs.stateNode,""),128&b){var w=zs.alternate;if(null!==w){var E=w.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&b){case 2:gs(zs),zs.flags&=-3;break;case 6:gs(zs),zs.flags&=-3,ws(zs.alternate,zs);break;case 1024:zs.flags&=-1025;break;case 1028:zs.flags&=-1025,ws(zs.alternate,zs);break;case 4:ws(zs.alternate,zs);break;case 8:bs(s,u=zs);var k=u.alternate;ps(u),null!==k&&ps(k)}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(a(330));Ru(zs,e),zs=zs.nextEffect}}while(null!==zs);if(E=jr,w=hr(),b=E.focusedElem,s=E.selectionRange,w!==b&&b&&b.ownerDocument&&fr(b.ownerDocument.documentElement,b)){null!==s&&dr(b)&&(w=s.start,void 0===(E=s.end)&&(E=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(E,b.value.length)):(E=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),u=b.textContent.length,k=Math.min(s.start,u),s=void 0===s.end?k:Math.min(s.end,u),!E.extend&&k>s&&(u=s,s=k,k=u),u=lr(b,k),o=lr(b,s),u&&o&&(1!==E.rangeCount||E.anchorNode!==u.node||E.anchorOffset!==u.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),E.removeAllRanges(),k>s?(E.addRange(w),E.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),E.addRange(w))))),w=[];for(E=b;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(E=w[b]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Gt=!!Fr,jr=Fr=null,e.current=n,zs=r;do{try{for(b=e;null!==zs;){var S=zs.flags;if(36&S&&fs(b,zs.alternate,zs),128&S){w=void 0;var _=zs.ref;if(null!==_){var T=zs.stateNode;switch(zs.tag){case 5:w=T;break;default:w=T}"function"==typeof _?_(w):_.current=w}}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(a(330));Ru(zs,e),zs=zs.nextEffect}}while(null!==zs);zs=null,Ri(),Is=i}else e.current=n;if(Ws)Ws=!1,Gs=e,$s=t;else for(zs=r;null!==zs;)t=zs.nextEffect,zs.nextEffect=null,8&zs.flags&&((S=zs).sibling=null,S.stateNode=null),zs=t;if(0===(r=e.pendingLanes)&&(Qs=null),1===r?e===eu?Zs++:(Zs=0,eu=e):Zs=0,n=n.stateNode,wi&&"function"==typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(bi,n,void 0,64==(64&n.current.flags))}catch(e){}if(lu(e,Ui()),Ks)throw Ks=!1,e=Hs,Hs=null,e;return 0!=(8&Is)||Ki(),null}function Nu(){for(;null!==zs;){var e=zs.alternate;ou||null===iu||(0!=(8&zs.flags)?Ze(zs,iu)&&(ou=!0):13===zs.tag&&ks(e,zs)&&Ze(zs,iu)&&(ou=!0));var t=zs.flags;0!=(256&t)&&ls(e,zs),0==(512&t)||Ws||(Ws=!0,zi(97,(function(){return Cu(),null}))),zs=zs.nextEffect}}function Cu(){if(90!==$s){var e=97<$s?97:$s;return $s=90,qi(e,Pu)}return!1}function Au(e,t){Ys.push(t,e),Ws||(Ws=!0,zi(97,(function(){return Cu(),null})))}function Du(e,t){Xs.push(t,e),Ws||(Ws=!0,zi(97,(function(){return Cu(),null})))}function Pu(){if(null===Gs)return!1;var e=Gs;if(Gs=null,0!=(48&Is))throw Error(a(331));var t=Is;Is|=32;var n=Xs;Xs=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Ru(o,e)}}for(n=Ys,Ys=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(a(330));Ru(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Is=t,Ki(),!0}function Ou(e,t,n){so(e,t=as(0,t=rs(n,t),1)),t=au(),null!==(e=cu(e,1))&&(qt(e,1,t),lu(e,t))}function Ru(e,t){if(3===e.tag)Ou(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ou(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){var i=ss(n,e=rs(t,e),1);if(so(n,i),i=au(),null!==(n=cu(n,1)))qt(n,1,i),lu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Qs||!Qs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Lu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=au(),e.pingedLanes|=e.suspendedLanes&n,xs===e&&(Cs&n)===n&&(4===Ps||3===Ps&&(62914560&Cs)===Cs&&500>Ui()-Us?yu(e,0):Fs|=n),lu(e,t)}function Mu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Vi()?1:2:(0===nu&&(nu=Rs),0===(t=Vt(62914560&~nu))&&(t=4194304))),n=au(),null!==(e=cu(e,t))&&(qt(e,t,n),lu(e,n))}function Fu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ju(e,t,n,r){return new Fu(e,t,n,r)}function Uu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vu(e,t){var n=e.alternate;return null===n?((n=ju(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bu(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Uu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case _:return qu(n.children,i,o,t);case M:s=8,i|=16;break;case T:s=8,i|=1;break;case I:return(e=ju(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=o,e;case A:return(e=ju(13,n,t,i)).type=A,e.elementType=A,e.lanes=o,e;case D:return(e=ju(19,n,t,i)).elementType=D,e.lanes=o,e;case F:return zu(n,i,o,t);case j:return(e=ju(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case N:s=9;break e;case C:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e;case R:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ju(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function qu(e,t,n,r){return(e=ju(7,e,r,t)).lanes=n,e}function zu(e,t,n,r){return(e=ju(23,e,r,t)).elementType=F,e.lanes=n,e}function Ku(e,t,n){return(e=ju(6,e,null,t)).lanes=n,e}function Hu(e,t,n){return(t=ju(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Wu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Gu(e,t,n,r){var i=t.current,o=au(),s=su(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(di(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(di(c)){n=gi(n,c,u);break e}}n=u}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=ao(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),so(i,t),uu(i,s,o),s}function $u(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Yu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xu(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}function Ju(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Qu(e,t,null!=n&&!0===n.hydrate),t=ju(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,io(t),e[Yr]=n.current,Nr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=$u(a);s.call(e)}}Gu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ju(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=$u(a);u.call(e)}}mu((function(){Gu(t,a,e,i)}))}return $u(a)}function tc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(t))throw Error(a(200));return Wu(e,t,null,n)}qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||li.current)Oa=!0;else{if(0==(n&r)){switch(Oa=!1,t.tag){case 3:za(t),Ko();break;case 5:Po(t);break;case 1:di(t.type)&&vi(t);break;case 4:Ao(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;si(Gi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Ga(e,t,n):(si(Ro,1&Ro.current),null!==(t=Za(e,t,n))?t.sibling:null);si(Ro,1&Ro.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Ja(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),si(Ro,Ro.current),r)break;return null;case 23:case 24:return t.lanes=0,ja(e,t,n)}return Za(e,t,n)}Oa=0!=(16384&e.flags)}else Oa=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=hi(t,ci.current),to(t,n),i=ra(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,di(r)){var o=!0;vi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,io(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&ho(t,r,s,e),i.updater=po,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=qa(null,t,r,!0,o,n)}else t.tag=0,Ra(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Uu(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(i),e=Wi(i,e),o){case 0:t=Va(null,t,i,e,n);break e;case 1:t=Ba(null,t,i,e,n);break e;case 11:t=La(null,t,i,e,n);break e;case 14:t=Ma(null,t,i,Wi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ba(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 3:if(za(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oo(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=Za(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Fo=Kr(t.stateNode.containerInfo.firstChild),Mo=t,o=jo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Ho.push(o);for(n=_o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ra(e,t,r,n),Ko();t=t.child}return t;case 5:return Po(t),null===e&&Bo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Vr(r,i)?s=null:null!==o&&Vr(r,o)&&(t.flags|=16),Ua(e,t),Ra(e,t,s,n),t.child;case 6:return null===e&&Bo(t),null;case 13:return Ga(e,t,n);case 4:return Ao(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):Ra(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 7:return Ra(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ra(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(si(Gi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0==(o=ar(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!li.current){t=Za(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=ao(-1,n&-n)).tag=2,so(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),eo(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Ra(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,to(t,n),r=r(i=no(i,o.unstable_observedBits)),t.flags|=1,Ra(e,t,r,n),t.child;case 14:return o=Wi(i=t.type,t.pendingProps),Ma(e,t,i,o=Wi(i.type,o),r,n);case 15:return Fa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,di(r)?(e=!0,vi(t)):e=!1,to(t,n),go(t,r,i),yo(t,r,i,n),qa(null,t,r,!0,e,n);case 19:return Ja(e,t,n);case 23:case 24:return ja(e,t,n)}throw Error(a(156,t.tag))},Ju.prototype.render=function(e){Gu(e,this._internalRoot,null,null)},Ju.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Gu(null,e,null,(function(){t[Yr]=null}))},et=function(e){13===e.tag&&(uu(e,4,au()),Xu(e,4))},tt=function(e){13===e.tag&&(uu(e,67108864,au()),Xu(e,67108864))},nt=function(e){if(13===e.tag){var t=au(),n=su(e);uu(e,n,t),Xu(e,n)}},rt=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ti(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Pe=pu,Oe=function(e,t,n,r,i){var o=Is;Is|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(Is=o)&&(Bs(),Ki())}},Re=function(){0==(49&Is)&&(function(){if(null!==Js){var e=Js;Js=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,lu(e,Ui())}))}Ki()}(),Cu())},Le=function(e,t){var n=Is;Is|=2;try{return e(t)}finally{0===(Is=n)&&(Bs(),Ki())}};var nc={Events:[Zr,ei,ti,Ae,De,Cu,{current:!1}]},rc={findFiberByHostInstance:Jr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{bi=oc.inject(ic),wi=oc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,t.createPortal=tc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Is;if(0!=(48&n))return e(t);Is|=1;try{if(e)return qi(99,e.bind(null,t))}finally{Is=n,Ki()}},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.render=function(e,t,n){if(!Zu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(a(40));return!!e._reactRootContainer&&(mu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[Yr]=null}))})),!0)},t.unstable_batchedUpdates=pu,t.unstable_createPortal=function(e,t){return tc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="17.0.2"},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},9921:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case u:return e;default:return t}}case i:return t}}}function k(e){return E(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return k(e)||E(e)===l},t.isConcurrentMode=k,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===h},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===g},t.isMemo=function(e){return E(e)===m},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===s},t.isStrictMode=function(e){return E(e)===a},t.isSuspense=function(e){return E(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===s||e===a||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=E},9864:(e,t,n)=>{"use strict";e.exports=n(9921)},6585:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},9658:(e,t,n)=>{var r=n(6585);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],o=0;o<t.length;o++)i.push(e(t[o],n,r).source);return l(new RegExp("(?:"+i.join("|")+")",f(r)),n)}(t,n,i):function(e,t,n){return h(o(e,n),t,n)}(t,n,i)},e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(a,d),a=d+f.length,h)s+=h[1];else{var p=e[a],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var E=null!=m&&null!=p&&p!==m,k="+"===b||"*"===b,S="?"===b||"*"===b,_=n[2]||l,T=v||y;r.push({name:g||o++,prefix:m||"",delimiter:_,optional:S,repeat:k,partial:E,asterisk:!!w,pattern:T?c(T):w?".*":"[^"+u(_)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)a+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),a+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),m=a.slice(-p.length)===p;return i||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}},2408:(e,t,n)=>{"use strict";var r=n(7418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+I(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),x(a,t,n,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(s=e[c],c);u+=x(s,t,n,l,a)}else if("function"==typeof(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(s=e.next()).done;)u+=x(s=s.value,t,n,l=r+I(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function D(){var e=A.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!k.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},53:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,f=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(f,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?E.postMessage(null):(m=!1,g=null)}catch(e){throw E.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,E.postMessage(null))},r=function(e,n){v=h((function(){e(t.unstable_now())}),n)},i=function(){d(v),v=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>T(a,n))void 0!==u&&0>T(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],x=[],N=1,C=null,A=3,D=!1,P=!1,O=!1;function R(e){for(var t=S(x);null!==t;){if(null===t.callback)_(x);else{if(!(t.startTime<=e))break;_(x),t.sortIndex=t.expirationTime,k(I,t)}t=S(x)}}function L(e){if(O=!1,R(e),!P)if(null!==S(I))P=!0,n(M);else{var t=S(x);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,O&&(O=!1,i()),D=!0;var o=A;try{for(R(n),C=S(I);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=C.callback;if("function"==typeof a){C.callback=null,A=C.priorityLevel;var s=a(C.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?C.callback=s:C===S(I)&&_(I),R(n)}else _(I);C=S(I)}if(null!==C)var u=!0;else{var c=S(x);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{C=null,A=o,D=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||D||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return S(I)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:N++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,k(x,e),null===S(I)&&e===S(x)&&(O?i():O=!0,r(L,a-s))):(e.sortIndex=u,k(I,e),P||D||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},3379:(e,t,n)=>{"use strict";var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var s=e[i],u=t.base?s[0]+t.base:s[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var f=a(l),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==f?(o[f].references++,o[f].updater(h)):o.push({identifier:l,updater:m(h,t),references:1}),r.push(l)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function h(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var d=null,p=0;function m(e,t){var n,r,i;if(t.singleton){var o=p++;n=d||(d=u(t)),r=f.bind(null,n,o,!1),i=f.bind(null,n,o,!0)}else n=u(t),r=h.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var u=s(e,t),c=0;c<n.length;c++){var l=a(n[c]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}n=u}}}},6434:(e,t,n)=>{var r={"./action-thriller-book-cover-design-template-3675ae3e3ac7ee095fc793ab61b812cc_screen.jpg":[5573,573],"./beige-poetry-book-cover-design-template-8954862c666f37ab0b0780adc2bdf860_screen.jpeg":[5974,974],"./black-flower-themed-poetry-book-cover-design-template-eaba65a297a568ff624ab4037e68fc64_screen.jpeg":[7994,994],"./booknook_logo.svg":[6435],"./caratula-de-libro-de-recetas-de-ensaladas-design-template-5734d23e3c3900de9fd394218b419e97_screen.jpeg":[2571,571],"./checkbox.svg":[4935],"./children's-adventures-book-cover-design-template-2465f9fae245132c55482769b667036a_screen.jpeg":[1125,125],"./cookbook-cover-template-design-20457a93aa7f163c4975e96713a90a33_screen.jpg":[233,233],"./devil-satan-book-cover-template-design-275248b5899d0d2970c89053361a8dac_screen.jpeg":[6673,673],"./fallen-cities-book-cover-template-design-d89983d7c06a2f13ea3f618c41b192ec_screen.jpeg":[4454,454],"./fantasy-night-book-cover-design-template-035f9a97865bb03cabe1b1cca3871543_screen.jpg":[9902,902],"./green-hell-jungle-book-cover-design-template-fe2fb71e7a440c31e6f6b51e090a18b2_screen.jpg":[937,937],"./ice-desert-book-novel-template-design-ea903e8bd2ec38dbdb73e666a16d69af_screen.jpg":[3038,38],"./intriguing-thriller-book-cover-design-template-3d1c88f0ad32678f487a32f8c778c3b1_screen.jpg":[4539,539],"./kindle-book-cover-template-design-ebb32ab14859d728f23695ac9d12960d_screen.jpg":[3826,826],"./kindle-design-template-4848bc9c78148b167c616f139fd60fc1_screen.jpg":[4730,730],"./kindle-design-template-5bb659d84e2cefbbf2a330e5cf81853f_screen.jpeg":[9642,642],"./kindle-design-template-97ba87c352743f389d6cf53335894796_screen.jpg":[149,149],"./kindle-free-book-cover-template-design-flyer-1c529e727aedeb0b9fa8f4bbb16a0561_screen.jpeg":[4660,660],"./magical-forest-kid's-story-book-cover-design-template-a5a7b22ecef3e58e40169b57f5aa12a5_screen.jpeg":[582,582],"./marketing-guide-self-help-book-cover-design-template-9a262d1a28d5ca87f62d7d13186f2731_screen.jpg":[6344,344],"./menu-toggle.svg":[7132],"./mind-prison-book-cover-template-design-6ffdddd41f5a9e5210123330e829b992_screen.jpeg":[4604,604],"./motivational-self-help-book-cover-design-template-549362a7c9d568279e866eb81510239c_screen.jpg":[4569,569],"./night-drawing-black-book-cover-design-template-ea74bc762820a4c4a426e4df9f3897ef_screen.jpg":[2853,853],"./pink-cookbook-cover-design-template-14f54349a65197b03463d9bcca9aae15_screen.jpg":[3265,265],"./pisces-zodiac-sign-horoscope-book-cover-design-template-a9870aef16989934144e329a5d7a68f9_screen.jpeg":[2593,593],"./search_bar.svg":[7050],"./shopping_bag_black_24dp.svg":[8377],"./tandem-x-visuals-qluESDgit1U-unsplash.jpg":[4021],"./thriller-motion-book-cover-design-template-8abb2273c475a164afc603fc63a33e73_screen.jpg":[797,797],"./time-dial-book-cover-template-design-9a99b5d22d3e0582282769cabafea00e_screen.jpeg":[4473,473],"./unsplash_photoshoppedimg.png":[761]};function i(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(i)))}i.keys=()=>Object.keys(r),i.id=6434,e.exports=i}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,exports:{}};return n[e](o,o.exports,i),o.exports}i.m=n,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+".js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="react-project:",i.l=(n,r,o,a)=>{if(e[n])e[n].push(r);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[r];var h=(t,r)=>{s.onerror=s.onload=null,clearTimeout(d);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),t)return t(r)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="/",(()=>{var e={179:0};i.f.j=(t,n)=>{var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(n=>{if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[a,s,u]=n,c=0;for(r in s)i.o(s,r)&&(i.m[r]=s[r]);for(u&&u(i),t&&t(n);c<a.length;c++)o=a[c],i.o(e,o)&&e[o]&&e[o][0](),e[a[c]]=0},n=self.webpackChunkreact_project=self.webpackChunkreact_project||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=i(7294),t=i(3935),n=i(3379),r=i.n(n),o=i(8340);function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}r()(o.Z,{insert:"head",singleton:!1}),o.Z.locals;var u=i(5697),c=i.n(u);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e){return"/"===e.charAt(0)}function h(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}const d=function(e,t){if(!e)throw new Error("Invariant failed")};function p(e){return"/"===e.charAt(0)?e:"/"+e}function m(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function g(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function v(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function y(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=l({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&f(e),a=t&&f(t),s=o||a;if(e&&f(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var d=i[l];"."===d?h(i,l):".."===d?(h(i,l),c++):c&&(h(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&f(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function b(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var w=!("undefined"==typeof window||!window.document||!window.document.createElement);function E(e,t){t(window.confirm(e))}var k="popstate",S="hashchange";function _(){try{return window.history.state||{}}catch(e){return{}}}function T(e){void 0===e&&(e={}),w||d(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,a=void 0!==o&&o,s=i.getUserConfirmation,u=void 0===s?E:s,c=i.keyLength,f=void 0===c?6:c,h=e.basename?g(p(e.basename)):"";function T(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return h&&(o=m(o,h)),y(o,r,n)}function I(){return Math.random().toString(36).substr(2,f)}var x=b();function N(e){l(V,e),V.length=t.length,x.notifyListeners(V.location,V.action)}function C(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(T(e.state))}function A(){P(T(_()))}var D=!1;function P(e){D?(D=!1,N()):x.confirmTransitionTo(e,"POP",u,(function(t){t?N({action:"POP",location:e}):function(e){var t=V.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(D=!0,M(i))}(e)}))}var O=T(_()),R=[O.key];function L(e){return h+v(e)}function M(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?(window.addEventListener(k,C),r&&window.addEventListener(S,A)):0===F&&(window.removeEventListener(k,C),r&&window.removeEventListener(S,A))}var U=!1,V={length:t.length,action:"POP",location:O,createHref:L,push:function(e,r){var i="PUSH",o=y(e,r,I(),V.location);x.confirmTransitionTo(o,i,u,(function(e){if(e){var r=L(o),s=o.key,u=o.state;if(n)if(t.pushState({key:s,state:u},null,r),a)window.location.href=r;else{var c=R.indexOf(V.location.key),l=R.slice(0,c+1);l.push(o.key),R=l,N({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=y(e,r,I(),V.location);x.confirmTransitionTo(o,i,u,(function(e){if(e){var r=L(o),s=o.key,u=o.state;if(n)if(t.replaceState({key:s,state:u},null,r),a)window.location.replace(r);else{var c=R.indexOf(V.location.key);-1!==c&&(R[c]=o.key),N({action:i,location:o})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return U||(j(1),U=!0),function(){return U&&(U=!1,j(-1)),t()}},listen:function(e){var t=x.appendListener(e);return j(1),function(){j(-1),t()}}};return V}var I=1073741823,x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:{};function N(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}const C=e.createContext||function(t,n){var r,i,o,a="__create-react-context-"+((x[o="__global_unique_id__"]=(x[o]||0)+1)+"__"),u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=N(t.props.value),t}s(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(t="function"==typeof n?n(r,i):I,0!=(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(e.Component);u.childContextTypes=((r={})[a]=c().object.isRequired,r);var l=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!=((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}s(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?I:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?I:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return l.contextTypes=((i={})[a]=c().object,i),{Provider:u,Consumer:l}};var A=i(9658),D=i.n(A);function P(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}i(9864),i(8679);var O=function(e){var t=C();return t.displayName="Router-History",t}(),R=function(e){var t=C();return t.displayName="Router",t}(),L=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}s(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return e.createElement(R.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(O.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component,e.Component;var M={},F=0;function j(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=M[n]||(M[n]={});if(r[e])return r[e];var i=[],o={regexp:D()(e,i,t),keys:i};return F<1e4&&(r[e]=o,F++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),h=e===l;return o&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var U=function(t){function n(){return t.apply(this,arguments)||this}return s(n,t),n.prototype.render=function(){var t=this;return e.createElement(R.Consumer,null,(function(n){n||d(!1);var r=t.props.location||n.location,i=l({},n,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?j(r.pathname,t.props):n.match}),o=t.props,a=o.children,s=o.component,u=o.render;return Array.isArray(a)&&0===a.length&&(a=null),e.createElement(R.Provider,{value:i},i.match?a?"function"==typeof a?a(i):a:s?e.createElement(s,i):u?u(i):null:"function"==typeof a?a(i):null)}))},n}(e.Component);e.Component;var V=function(t){function n(){return t.apply(this,arguments)||this}return s(n,t),n.prototype.render=function(){var t=this;return e.createElement(R.Consumer,null,(function(n){n||d(!1);var r,i,o=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==i&&e.isValidElement(t)){r=t;var a=t.props.path||t.props.from;i=a?j(o.pathname,l({},t.props,{path:a})):n.match}})),i?e.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(e.Component),B=e.useContext,q=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=T(e.props),e}return s(n,t),n.prototype.render=function(){return e.createElement(L,{history:this.history,children:this.props.children})},n}(e.Component);e.Component;var z=function(e,t){return"function"==typeof e?e(t):e},K=function(e,t){return"string"==typeof e?y(e,null,null,t):e},H=function(e){return e},Q=e.forwardRef;void 0===Q&&(Q=H);var W=Q((function(t,n){var r=t.innerRef,i=t.navigate,o=t.onClick,a=P(t,["innerRef","navigate","onClick"]),s=a.target,u=l({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return u.ref=H!==Q&&n||r,e.createElement("a",u)})),G=Q((function(t,n){var r=t.component,i=void 0===r?W:r,o=t.replace,a=t.to,s=t.innerRef,u=P(t,["component","replace","to","innerRef"]);return e.createElement(R.Consumer,null,(function(t){t||d(!1);var r=t.history,c=K(z(a,t.location),t.location),f=c?r.createHref(c):"",h=l({},u,{href:f,navigate:function(){var e=z(a,t.location);(o?r.replace:r.push)(e)}});return H!==Q?h.ref=n||s:h.innerRef=s,e.createElement(i,h)}))})),$=function(e){return e},Y=e.forwardRef;void 0===Y&&(Y=$),Y((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,o=t.activeClassName,a=void 0===o?"active":o,s=t.activeStyle,u=t.className,c=t.exact,f=t.isActive,h=t.location,p=t.sensitive,m=t.strict,g=t.style,v=t.to,y=t.innerRef,b=P(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(R.Consumer,null,(function(t){t||d(!1);var r=h||t.location,o=K(z(v,r),r),w=o.pathname,E=w&&w.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=E?j(r.pathname,{path:E,exact:c,sensitive:p,strict:m}):null,S=!!(f?f(k,r):k),_=S?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(u,a):u,T=S?l({},g,{},s):g,I=l({"aria-current":S&&i||null,className:_,style:T,to:o},b);return $!==Y?I.ref=n||y:I.innerRef=y,e.createElement(G,I)}))}));var X=i(6435),J=i(7132);const Z=(0,e.createContext)(null);var ee=["src","alt"];function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const re=function(t){var n,r,o=t.src,a=t.alt,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,ee),u=(n=(0,e.useState)(""),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],l=u[1];return o&&i(6434)("./".concat(o)).then((function(e){return l(e.default)})),e.createElement("img",te({src:c,alt:a},s))},ie=function(){return e.createElement("footer",{className:"page-footer"},e.createElement("ul",{className:"social"},e.createElement("li",null,e.createElement("a",{href:"www.gmail.com"},e.createElement("i",{className:"fa fa-google fa-lg"}))),e.createElement("li",null,e.createElement("a",{href:"www.facebook.com"},e.createElement("i",{className:"fa fa-facebook-f fa-lg"}))),e.createElement("li",null,e.createElement("a",{href:"www.instagram.com"},e.createElement("i",{className:"fa fa-instagram fa-lg"}))),e.createElement("li",null,e.createElement("a",{href:"www.twitter.com"},e.createElement("i",{className:"fa fa-twitter fa-lg"}))),e.createElement("li",null,e.createElement("a",{href:"www.linkedin.com"},e.createElement("i",{className:"fa fa-linkedin fa-lg"})))),e.createElement("div",{className:"footer-grid"},e.createElement("nav",{"aria-label":"Legal"},e.createElement("h2",{className:"footer-resize"},"Contact"),e.createElement("ul",{className:"contact"},e.createElement("li",null),e.createElement("li",null,"1100 Bay St"),e.createElement("li",null,"Toronto, ON"),e.createElement("li",null,"M5S 2Y1"))),e.createElement("nav",{"aria-label":"Legal"},e.createElement("h2",{className:"footer-resize"},"Legal"),e.createElement("ul",{className:"legal"},e.createElement("li",null),e.createElement("li",null,e.createElement("a",{href:"#"},"Terms of Use")),e.createElement("li",null,e.createElement("a",{href:"#"},"Privacy")),e.createElement("li",null,e.createElement("a",{href:"#"},"Accessibility"))))),e.createElement("div",null,e.createElement("p",{className:"copyright"}," Copyright, 2021.")))},oe=function(t){var n=t.data,r=n.bookTitle,i=n.bookAuthor,o=n.oldPrice,a=n.bookPrice,s=(n.bookRating,n.bookImage),u=(n.store,(0,e.useContext)(Z).deleteFromCart);return e.createElement("article",null,e.createElement("section",{className:"product-container"},e.createElement("div",{className:"cart-product"},e.createElement(re,{src:s,alt:r})),e.createElement("div",{className:"cart-product-info"},e.createElement("h3",null,r),e.createElement("h4",null,"by ",i),e.createElement("data",{value:a},e.createElement("del",null,"$",o)," ",e.createElement("ins",null,"$",a))),e.createElement("div",{className:"cart-quantity"},e.createElement("button",{type:"button",className:"cart-bttn",onClick:function(){return u(r)}},"Remove"))))},ae=function(t){var n=t.data,r=n.bookTitle,i=n.bookAuthor,o=n.oldPrice,a=n.bookPrice,s=(n.bookRating,n.bookImage),u=(n.store,(0,e.useContext)(Z).deleteFromFav);return e.createElement("article",null,e.createElement("section",{className:"product-container"},e.createElement("div",{className:"cart-product"},e.createElement(re,{src:s,alt:r})),e.createElement("div",{className:"cart-product-info"},e.createElement("h3",null,r),e.createElement("h4",null,"by ",i),e.createElement("data",{value:a},e.createElement("del",null,"$",o)," ",e.createElement("ins",null,"$",a))),e.createElement("div",{className:"cart-quantity"},e.createElement("button",{type:"button",className:"cart-bttn",onClick:function(){return u(r)}},"Remove"))))},se=function(){var t=(0,e.useContext)(Z).data,n=(0,e.useContext)(Z),r=(0,e.useContext)(Z),i=n.cart,o=r.fav,a=i.map((function(t){return e.createElement(oe,{key:t.bookTitle,data:t})})),s=o.map((function(t){return e.createElement(ae,{key:t.bookTitle,data:t})}));return e.createElement("header",{className:"page-header"},e.createElement("div",{className:"logo"},e.createElement(G,{to:"/"},e.createElement("img",{src:X.default,alt:"book logo",width:"90"}))),e.createElement("nav",{"aria-label":"Primary",className:"navigation"},e.createElement("div",{className:"menu-toggle"},e.createElement("a",{href:"#"},e.createElement("img",{src:J.default,alt:"toggle menu",width:"31"}))),e.createElement("ul",{className:"menu"},e.createElement("li",null,e.createElement(G,{to:"/"},"Home")),e.createElement("li",null,e.createElement("a",{href:"#"},"Books"),e.createElement("ul",{className:"submenu"},e.createElement("li",null,e.createElement("a",{href:"#"},"Shop All")),e.createElement("li",null,e.createElement("a",{href:"#"},"New/Hot")),e.createElement("li",null,e.createElement("a",{href:"#"},"Bestsellers")),e.createElement("li",null,e.createElement("a",{href:"#"},"By Author")),e.createElement("li",null,e.createElement("a",{href:"#"},"Employee Picks")),e.createElement("li",null,e.createElement("a",{href:"#"},"Sale")))),e.createElement("li",null,e.createElement("a",{href:"#"},"About")),e.createElement("li",null,e.createElement("a",{href:"#"},"Contact")),e.createElement("li",{className:"login-data"},t.username))),e.createElement("ul",{className:"your-products"},e.createElement(G,{to:"/favpage",className:"fav"},e.createElement("li",null,e.createElement("span",{className:"material-icons","aria-label":"Favourites"},"favorite"),e.createElement("span",null,s.length))),e.createElement(G,{to:"/cartpage",className:"bag"},e.createElement("li",{className:"cart"},e.createElement("div",{className:"material-icons","aria-label":"Add to bag"},"shopping_bag"),e.createElement("span",null,a.length)))))},ue=function(){return e.createElement("div",null,e.createElement("header",{className:"heading"},e.createElement("h1",null," 20% off summer sale!")))},ce=function(t){var n=t.children;return e.createElement("div",{className:"layout"},e.createElement(se,null),e.createElement(ue,null),e.createElement("form",{class:"filters"},e.createElement("h1",null,"Shop by Category"),e.createElement("hr",null),e.createElement("div",{class:"filter-options"},e.createElement("fieldset",null,e.createElement("legend",{className:"fiction"},e.createElement("a",{href:"#"},e.createElement("h2",null,"Fiction")))),e.createElement("fieldset",null,e.createElement("legend",{className:"non-fiction"},e.createElement("a",{href:"#"},e.createElement("h2",null,"Non-fiction")))),e.createElement("fieldset",null,e.createElement("legend",{className:"wellness"},e.createElement("a",{href:"#"},e.createElement("h2",null,"Health/Wellness")))),e.createElement("fieldset",null,e.createElement("legend",{className:"teens"},e.createElement("a",{href:"#"},e.createElement("h2",null,"Teens/Pre-teens")))),e.createElement("fieldset",null,e.createElement("legend",{className:"kids"},e.createElement("a",{href:"#"},e.createElement("h2",null,"Kids 6-12")))),e.createElement("fieldset",null,e.createElement("legend",{className:"popularity"},e.createElement("a",{href:"#"},e.createElement("h2",null,"Popularity"))))),e.createElement("hr",null)),e.createElement("main",{className:"products"},e.createElement("section",{class:"results"},n)),e.createElement(ie,null))},le=function(t){var n=t.data,r=n.bookTitle,i=n.bookAuthor,o=n.oldPrice,a=n.bookPrice,s=(n.bookRating,n.bookImage),u=(n.store,(0,e.useContext)(Z).addToCart);return e.createElement("article",{className:"product"},e.createElement("header",null,e.createElement("div",{className:"book-picture"},e.createElement(G,{to:"/productpage/".concat(r)},e.createElement(re,{src:s,alt:"{bookTitle}"}))),e.createElement("h3",null,r),e.createElement("h4",null,"by ",i),e.createElement("data",{value:"39"},e.createElement("del",null,"$",o)," ",e.createElement("ins",null,"$",a))),e.createElement("footer",null,e.createElement("button",{type:"button",class:"add-cart",onClick:function(){return u(r)}},e.createElement("span",{class:"material-icons"}),"Add to Cart")))};function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const he=function(t){var n,r,i=t.result,o=(n=(0,e.useState)([1]),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1],u=10*(a-1),c=u+10,l=Math.ceil(i.length/10),f=function(e){s(e<0?1:e>l?l:e)},h=i.slice(u,c).map((function(t){return e.createElement(le,{key:t.bookTitle,data:t})}));return e.createElement("div",{className:"grid-container"},h,e.createElement("p",{id:"numProducts"},e.createElement("button",{onClick:function(){return f(a-1)},disabled:1===a?"disabled":"",className:"pag-bttn"},e.createElement("span",{className:"material-icons"},"navigate_before")),e.createElement("span",{className:"pagination-text"},1===h.length?"Product":"Products"," ",u+1," to ",Math.min(c,i.length)," of ",i.length),e.createElement("button",{onClick:function(){return f(a+1)},disabled:a===l?"disabled":"",className:"pag-bttn"},e.createElement("span",{className:"material-icons"},"navigate_next"))))};function de(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ve(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const be=function(t){var n,r,i=t.data,o=(n=(0,e.useState)({query:"",minPrice:0,methods:[],methodsNew:[],methodsBest:[],sort:function(e,t){return e.bookPrice-t.bookPrice}}),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||ve(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1],u=a.query,c=a.minPrice,l=a.methods,f=a.methodsNew,h=a.methodsBest,d=a.sort,p=i.filter((function(e){return e.bookPrice>=c})).filter((function(e){return e.bookTitle.toUpperCase().includes(u.toUpperCase())})).filter((function(e){var t=e.store;return 0===l.length||t.filter((function(e){return l.includes(e)})).length>0})).filter((function(e){var t=e.newFilter;return 0===f.length||t.filter((function(e){return f.includes(e)})).length>0})).filter((function(e){var t=e.bestFilter;return 0===h.length||t.filter((function(e){return h.includes(e)})).length>0})).sort(d);return e.createElement(ce,null,e.createElement("div",{class:"result-filters"},e.createElement("a",null,e.createElement("h2",null,"Filter")),e.createElement("div",{class:"search-div"},e.createElement("fieldset",{className:"search"},e.createElement("input",{type:"search",name:"search",id:"filterResults",autocomplete:"off",onChange:function(e){s(me(me({},a),{},{query:e.target.value}))},value:u}))),e.createElement("fieldset",null,e.createElement("select",{name:"sort",id:"sort",defaultValue:"0",onChange:function(e){var t,n=e.target;"0"===n.value?t=function(e,t){return e.bookPrice-t.bookPrice}:"1"===n.value&&(t=function(e,t){return t.bookPrice-e.bookPrice}),s(me(me({},a),{},{sort:t}))}},e.createElement("option",{value:"1"},"Price, highest to lowest"),e.createElement("option",{value:"0"},"Price, lowest to highest"))),e.createElement("fieldset",{className:"slider"},e.createElement("label",{htmlFor:"filterPrice"},"Price:"),e.createElement("input",{type:"range",name:"price",id:"filterPrice",value:c,min:"0",max:"30",step:"0.1",onChange:function(e){s(me(me({},a),{},{minPrice:Number(e.target.value)}))}}),e.createElement("output",{htmlFor:"filterPrice"},"$",c.toFixed(2))),e.createElement("fieldset",{onChange:function(e){var t=e.target;t.checked?s(me(me({},a),{},{methods:[].concat(de(a.methods),[t.value])})):s(me(me({},a),{},{methods:a.methods.filter((function(e){return e!==t.value}))}))}},e.createElement("legend",null,e.createElement("h3",null,"Store")),e.createElement("ul",{class:"filter-list"},e.createElement("li",null,e.createElement("label",{className:"my-checkbox"},e.createElement("input",{type:"checkbox",value:"pickup"}),e.createElement("span",null,"Free Pickup Today"))),e.createElement("li",null,e.createElement("label",{className:"my-checkbox"},e.createElement("input",{type:"checkbox",value:"inStore"}),e.createElement("span",null,"Available in Store"))),e.createElement("li",null,e.createElement("label",{className:"my-checkbox"},e.createElement("input",{type:"checkbox",value:"ship"}),e.createElement("span",null,"Ship to Destination"))))),e.createElement("fieldset",{onChange:function(e){var t=e.target;t.checked?s(me(me({},a),{},{methodsNew:[].concat(de(a.methodsNew),[t.value])})):s(me(me({},a),{},{methodsNew:a.methodsNew.filter((function(e){return e!==t.value}))}))}},e.createElement("legend",null,e.createElement("h3",null,"New")),e.createElement("ul",{class:"filter-list"},e.createElement("li",null,e.createElement("label",{className:"my-checkbox"},e.createElement("input",{type:"checkbox",value:"best"}),e.createElement("span",null,"Best Books of 2021"))),e.createElement("li",null,e.createElement("label",{className:"my-checkbox"},e.createElement("input",{type:"checkbox",value:"summer"}),e.createElement("span",null,"Summer Reads"))),e.createElement("li",null,e.createElement("label",{className:"my-checkbox"},e.createElement("input",{type:"checkbox",value:"week"}),e.createElement("span",null,"New This Week"))),e.createElement("li",null,e.createElement("label",{className:"my-checkbox"},e.createElement("input",{type:"checkbox",value:"month"}),e.createElement("span",null,"New This Month"))),e.createElement("li",null,e.createElement("label",{className:"my-checkbox"},e.createElement("input",{type:"checkbox",value:"booktok"}),e.createElement("span",null,"Trending on #BookTok"))))),e.createElement("fieldset",{onChange:function(e){var t=e.target;t.checked?s(me(me({},a),{},{methodsBest:[].concat(de(a.methodsBest),[t.value])})):s(me(me({},a),{},{methodsBest:a.methodsBest.filter((function(e){return e!==t.value}))}))}},e.createElement("legend",null,e.createElement("h3",null,"Bestsellers")),e.createElement("ul",{class:"filter-list"},e.createElement("li",null,e.createElement("label",{className:"my-checkbox"},e.createElement("input",{type:"checkbox",value:"top"}),e.createElement("span",null,"Top 10"))),e.createElement("li",null,e.createElement("label",{className:"my-checkbox"},e.createElement("input",{type:"checkbox",value:"staff"}),e.createElement("span",null,"Staff Picks"))),e.createElement("li",null,e.createElement("label",{className:"my-checkbox"},e.createElement("input",{type:"checkbox",value:"nyt"}),e.createElement("span",null,"NYT Bestsellers"))),e.createElement("li",null,e.createElement("label",{className:"my-checkbox"},e.createElement("input",{type:"checkbox",value:"gm"}),e.createElement("span",null,"G&M Bestsellers")))))),e.createElement(he,{result:p}))};var we=i(761);const Ee=function(t){var n=t.data,r=n.bookTitle,i=n.bookAuthor,o=n.oldPrice,a=n.bookPrice,s=(n.bookRating,n.bookImage),u=(n.store,(0,e.useContext)(Z).addToCart),c=(0,e.useContext)(Z).addToFav;return e.createElement("div",{class:"product-page-container"},e.createElement("div",{id:"gallery",className:"gallery"},e.createElement(re,{src:s,alt:"{bookTitle}",className:"product-img"}),e.createElement("img",{src:we.default,alt:"author image",id:"img2",className:"author-img"})),e.createElement("div",{className:"product-info"},e.createElement("h3",null,r),e.createElement("h4",null,"by ",i),e.createElement("data",null,e.createElement("del",null,"$",o)," ",e.createElement("ins",null,"$",a)),e.createElement("dl",null,e.createElement("dt",null,"Rating"),e.createElement("dd",null,"3.5 ",e.createElement("span",{className:"material-icons"},"star"),e.createElement("span",{className:"material-icons"},"star"),e.createElement("span",{className:"material-icons"},"star"),e.createElement("span",{className:"material-icons"},"star_half"),e.createElement("span",{className:"material-icons"},"star_border")),e.createElement("a",{href:"#"},"see reviews")),e.createElement("form",null,e.createElement("fieldset",null,e.createElement("legend",null,"Type"),e.createElement("div",{className:"product-info-1"},e.createElement("ul",null,e.createElement("li",null,e.createElement("label",{className:"my-checkbox"},e.createElement("input",{type:"checkbox"}),e.createElement("span",null,"Hardcover"))),e.createElement("li",null,e.createElement("label",{className:"my-checkbox"},e.createElement("input",{type:"checkbox"}),e.createElement("span",null,"Paperback"))),e.createElement("li",null,e.createElement("label",{className:"my-checkbox"},e.createElement("input",{type:"checkbox"}),e.createElement("span",null,"eBook"))))))),e.createElement("footer",{className:"product-footer"},e.createElement("button",{type:"button",className:"add-cart",onClick:function(){return u(r)}},e.createElement("span",{className:"material-icons"}),"Add to Cart"),e.createElement("br",null),e.createElement("button",{className:"favourites",type:"button",onClick:function(){return c(r)}},e.createElement("span",{className:"material-icons"}),"Add to Favourites"))))},ke=function(){var t,n=((t=B(R).match)?t.params:{}).slug,r=(0,e.useContext)(Z).viewProduct(n).find((function(e){return e.bookTitle===n}));return e.createElement("div",null,e.createElement(se,null),e.createElement(Ee,{data:r}),e.createElement(ie,null))};i(8377);const Se=function(){var t=(0,e.useContext)(Z).cart.map((function(t){return e.createElement(oe,{key:t.bookTitle,data:t})}));return e.createElement("article",{className:"layout-cart"},e.createElement(se,null),e.createElement("div",{className:"cart-page"},e.createElement("h1",{className:"shopping-cart-h1"},"Shopping Bag"),t.length>0?t:"There are no items in your bag."),e.createElement("div",{className:"footer-cart"},e.createElement(ie,null)))},_e=function(){var t=(0,e.useContext)(Z).fav.map((function(t){return e.createElement(ae,{key:t.bookTitle,data:t})}));return e.createElement("article",{className:"layout-cart"},e.createElement(se,null),e.createElement("div",{className:"cart-page"},e.createElement("h1",{className:"shopping-cart-h1"},"Favourites"),t.length>0?t:"There are no items in your favourites."),e.createElement("div",{className:"footer-cart"},e.createElement(ie,null)))},Te=function(){return e.createElement("article",{className:"layout-cart"},e.createElement(se,null),e.createElement("div",{className:"cart-page"},e.createElement("h1",{className:"four-oh-four-h1"},"Whoops this path does not exist.")),e.createElement("div",{className:"footer-cart"},e.createElement(ie,null)))};var Ie=function(e,t){return(Ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ie(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ne=function(){return(Ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Ce(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Ae(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function De(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pe(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Oe(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create,Object.create;var Re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function Le(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Le(e[n],t[n]));return e}var Me=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function je(){try{return"[object process]"===Object.prototype.toString.call(i.g.process)}catch(e){return!1}}var Ue=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Ve.prototype.create),o}return xe(t,e),t}(Error),Ve=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?Be(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new Ue(i,s,r);return u},e}();function Be(e,t){return e.replace(qe,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var qe=/\{\$([^}]+)}/g;function ze(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ke(e,t){var n=new He(e,t);return n.subscribe.bind(n)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782),i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295,f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();var He=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=Qe),void 0===r.error&&(r.error=Qe),void 0===r.complete&&(r.complete=Qe);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Qe(){}function We(e){return e&&e._delegate?e._delegate:e}var Ge,$e=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),Ye="[DEFAULT]",Xe=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Me;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ye})}catch(e){}try{for(var r=De(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Pe(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=Ye),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Ce(this,void 0,void 0,(function(){var e;return Ae(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Oe(Oe([],Pe(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Pe(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=Ye),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=De(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=Pe(u.value,2),l=c[0],f=c[1];o===this.normalizeInstanceIdentifier(l)&&f.resolve(a)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=De(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ye?void 0:t),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=Ye),this.component?this.component.multipleInstances?e:Ye:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),Je=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Xe(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function Ze(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var et,tt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(et||(et={}));var nt,rt={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},it=et.INFO,ot=((Ge={})[et.DEBUG]="log",Ge[et.VERBOSE]="log",Ge[et.INFO]="info",Ge[et.WARN]="warn",Ge[et.ERROR]="error",Ge),at=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=ot[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,Ze(["["+i+"]  "+e.name+":"],n))}},st=function(){function e(e){this.name=e,this._logLevel=it,this._logHandler=at,this._userLogHandler=null,tt.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in et))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?rt[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ze([this,et.DEBUG],e)),this._logHandler.apply(this,Ze([this,et.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ze([this,et.VERBOSE],e)),this._logHandler.apply(this,Ze([this,et.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ze([this,et.INFO],e)),this._logHandler.apply(this,Ze([this,et.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ze([this,et.WARN],e)),this._logHandler.apply(this,Ze([this,et.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ze([this,et.ERROR],e)),this._logHandler.apply(this,Ze([this,et.ERROR],e))},e}();function ut(e){tt.forEach((function(t){t.setLogLevel(e)}))}var ct,lt=((nt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",nt["bad-app-name"]="Illegal App name: '{$appName}",nt["duplicate-app"]="Firebase App named '{$appName}' already exists",nt["app-deleted"]="Firebase App named '{$appName}' already deleted",nt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",nt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",nt),ft=new Ve("app","Firebase",lt),ht="@firebase/app",dt="[DEFAULT]",pt=((ct={})[ht]="fire-core",ct["@firebase/analytics"]="fire-analytics",ct["@firebase/app-check"]="fire-app-check",ct["@firebase/auth"]="fire-auth",ct["@firebase/database"]="fire-rtdb",ct["@firebase/functions"]="fire-fn",ct["@firebase/installations"]="fire-iid",ct["@firebase/messaging"]="fire-fcm",ct["@firebase/performance"]="fire-perf",ct["@firebase/remote-config"]="fire-rc",ct["@firebase/storage"]="fire-gcs",ct["@firebase/firestore"]="fire-fst",ct["fire-js"]="fire-js",ct["firebase-wrapper"]="fire-js-all",ct),mt=new st("@firebase/app"),gt=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Le(void 0,e),this.container=new Je(t.name),this._addComponent(new $e("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=dt),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=dt),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){mt.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ft.create("app-deleted",{appName:this.name_})},e}();gt.prototype.name&&gt.prototype.options||gt.prototype.delete||console.log("dc");var vt=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=dt);var a=o.name;if("string"!=typeof a||!a)throw ft.create("bad-app-name",{appName:String(a)});if(ze(t,a))throw ft.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=pt[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void mt.warn(u.join(" "))}o(new $e(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:ut,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw ft.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=rt[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:et[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=tt;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!ze(t,e=e||dt))throw ft.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return mt.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[a])throw ft.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&Le(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(gt);return t.INTERNAL=Ne(Ne({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Le(t,e)},createSubscribe:Ke,ErrorFactory:Ve,deepExtend:Le}),t}(),yt=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){mt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var bt=self.firebase.SDK_VERSION;bt&&bt.indexOf("LITE")>=0&&mt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var wt=vt.initializeApp;vt.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return je()&&mt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),wt.apply(void 0,e)};var Et=vt;!function(e,t){e.INTERNAL.registerComponent(new $e("platform-logger",(function(e){return new yt(e)}),"PRIVATE")),e.registerVersion(ht,"0.6.29",void 0),e.registerVersion("fire-js","")}(Et);const kt=Et;var St="8.9.1";kt.registerVersion("firebase",St,"app"),kt.SDK_VERSION=St;var _t=function(e,t){return(_t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Tt(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var It,xt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{},Nt=Nt||{},Ct=xt||self;function At(){}function Dt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Pt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ot="closure_uid_"+(1e9*Math.random()>>>0),Rt=0;function Lt(e,t,n){return e.call.apply(e.bind,arguments)}function Mt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ft(e,t,n){return(Ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Lt:Mt).apply(null,arguments)}function jt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ut(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Vt(){this.s=this.s,this.o=this.o}var Bt={};Vt.prototype.s=!1,Vt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ot)&&e[Ot]||(e[Ot]=++Rt)}(this);delete Bt[e]}},Vt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var qt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},zt=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Kt(e){return Array.prototype.concat.apply([],arguments)}function Ht(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Qt(e){return/^[\s\xa0]*$/.test(e)}var Wt,Gt=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function $t(e,t){return-1!=e.indexOf(t)}function Yt(e,t){return e<t?-1:e>t?1:0}e:{var Xt=Ct.navigator;if(Xt){var Jt=Xt.userAgent;if(Jt){Wt=Jt;break e}}Wt=""}function Zt(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function en(e){var t={};for(var n in e)t[n]=e[n];return t}var tn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<tn.length;o++)n=tn[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function rn(e){return rn[" "](e),e}rn[" "]=At;var on,an,sn=$t(Wt,"Opera"),un=$t(Wt,"Trident")||$t(Wt,"MSIE"),cn=$t(Wt,"Edge"),ln=cn||un,fn=$t(Wt,"Gecko")&&!($t(Wt.toLowerCase(),"webkit")&&!$t(Wt,"Edge"))&&!($t(Wt,"Trident")||$t(Wt,"MSIE"))&&!$t(Wt,"Edge"),hn=$t(Wt.toLowerCase(),"webkit")&&!$t(Wt,"Edge");function dn(){var e=Ct.document;return e?e.documentMode:void 0}e:{var pn="",mn=(an=Wt,fn?/rv:([^\);]+)(\)|;)/.exec(an):cn?/Edge\/([\d\.]+)/.exec(an):un?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(an):hn?/WebKit\/(\S+)/.exec(an):sn?/(?:Version)[ \/]?(\S+)/.exec(an):void 0);if(mn&&(pn=mn?mn[1]:""),un){var gn=dn();if(null!=gn&&gn>parseFloat(pn)){on=String(gn);break e}}on=pn}var vn,yn={};function bn(){return e=yn,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=Gt(String(on)).split("."),n=Gt("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Yt(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Yt(0==o[2].length,0==a[2].length)||Yt(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}();var e}Ct.document&&un?vn=dn()||parseInt(on,10)||void 0:vn=void 0;var wn=vn,En=function(){if(!Ct.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ct.addEventListener("test",At,t),Ct.removeEventListener("test",At,t)}catch(e){}return e}();function kn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Sn(e,t){if(kn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(fn){e:{try{rn(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:_n[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Sn.Z.h.call(this)}}kn.prototype.h=function(){this.defaultPrevented=!0},Ut(Sn,kn);var _n={2:"touch",3:"pen",4:"mouse"};Sn.prototype.h=function(){Sn.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Tn="closure_listenable_"+(1e6*Math.random()|0),In=0;function xn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++In,this.ca=this.fa=!1}function Nn(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Cn(e){this.src=e,this.g={},this.h=0}function An(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=qt(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Nn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Dn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Cn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Dn(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new xn(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Pn="closure_lm_"+(1e6*Math.random()|0),On={};function Rn(e,t,n,r,i){if(r&&r.once)return Mn(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Rn(e,t[o],n,r,i);return null}return n=zn(n),e&&e[Tn]?e.N(t,n,Pt(r)?!!r.capture:!!r,i):Ln(e,t,n,!1,r,i)}function Ln(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Pt(i)?!!i.capture:!!i,s=Bn(e);if(s||(e[Pn]=s=new Cn(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Vn;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)En||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Un(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Mn(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Mn(e,t[o],n,r,i);return null}return n=zn(n),e&&e[Tn]?e.O(t,n,Pt(r)?!!r.capture:!!r,i):Ln(e,t,n,!0,r,i)}function Fn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Fn(e,t[o],n,r,i);else r=Pt(r)?!!r.capture:!!r,n=zn(n),e&&e[Tn]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Dn(o=e.g[t],n,r,i))&&(Nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=Bn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Dn(t,n,r,i)),(n=-1<e?t[e]:null)&&jn(n))}function jn(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Tn])An(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Un(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Bn(t))?(An(n,e),0==n.h&&(n.src=null,t[Pn]=null)):Nn(e)}}}function Un(e){return e in On?On[e]:On[e]="on"+e}function Vn(e,t){if(e.ca)e=!0;else{t=new Sn(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&jn(e),e=n.call(r,t)}return e}function Bn(e){return(e=e[Pn])instanceof Cn?e:null}var qn="__closure_events_fn_"+(1e9*Math.random()>>>0);function zn(e){return"function"==typeof e?e:(e[qn]||(e[qn]=function(t){return e.handleEvent(t)}),e[qn])}function Kn(){Vt.call(this),this.i=new Cn(this),this.P=this,this.I=null}function Hn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new kn(t,e);else if(t instanceof kn)t.target=t.target||e;else{var i=t;nn(t=new kn(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Qn(a,r,!0,t)&&i}if(i=Qn(a=t.g=e,r,!0,t)&&i,i=Qn(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Qn(a=t.g=n[o],r,!1,t)&&i}function Qn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&An(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ut(Kn,Vt),Kn.prototype[Tn]=!0,Kn.prototype.removeEventListener=function(e,t,n,r){Fn(this,e,t,n,r)},Kn.prototype.M=function(){if(Kn.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Nn(n[r]);delete t.g[e],t.h--}}this.I=null},Kn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Kn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Wn=Ct.JSON.stringify;function Gn(){var e=nr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var $n,Yn=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Xn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Xn=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Jn}),(function(e){return e.reset()})),Jn=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Zn(e){Ct.setTimeout((function(){throw e}),0)}function er(e,t){$n||function(){var e=Ct.Promise.resolve(void 0);$n=function(){e.then(rr)}}(),tr||($n(),tr=!0),nr.add(e,t)}var tr=!1,nr=new Yn;function rr(){for(var e;e=Gn();){try{e.h.call(e.g)}catch(e){Zn(e)}var t=Xn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}tr=!1}function ir(e,t){Kn.call(this),this.h=e||1,this.g=t||Ct,this.j=Ft(this.kb,this),this.l=Date.now()}function or(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ar(e,t,n){if("function"==typeof e)n&&(e=Ft(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ft(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ct.setTimeout(e,t||0)}function sr(e){e.g=ar((function(){e.g=null,e.i&&(e.i=!1,sr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ut(ir,Kn),(It=ir.prototype).da=!1,It.S=null,It.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Hn(this,"tick"),this.da&&(or(this),this.start()))}},It.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.M=function(){ir.Z.M.call(this),or(this),delete this.g};var ur=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}_t(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:sr(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Vt);function cr(e){Vt.call(this),this.h=e,this.g={}}Ut(cr,Vt);var lr=[];function fr(e,t,n,r){Array.isArray(n)||(n&&(lr[0]=n.toString()),n=lr);for(var i=0;i<n.length;i++){var o=Rn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function hr(e){Zt(e.g,(function(e,t){this.g.hasOwnProperty(t)&&jn(e)}),e),e.g={}}function dr(){this.g=!0}function pr(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Wn(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}cr.prototype.M=function(){cr.Z.M.call(this),hr(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dr.prototype.Aa=function(){this.g=!1},dr.prototype.info=function(){};var mr={},gr=null;function vr(){return gr=gr||new Kn}function yr(e){kn.call(this,mr.Ma,e)}function br(e){var t=vr();Hn(t,new yr(t,e))}function wr(e,t){kn.call(this,mr.STAT_EVENT,e),this.stat=t}function Er(e){var t=vr();Hn(t,new wr(t,e))}function kr(e,t){kn.call(this,mr.Na,e),this.size=t}function Sr(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Ct.setTimeout((function(){e()}),t)}mr.Ma="serverreachability",Ut(yr,kn),mr.STAT_EVENT="statevent",Ut(wr,kn),mr.Na="timingevent",Ut(kr,kn);var _r={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Tr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ir(){}function xr(e){return e.h||(e.h=e.i())}function Nr(){}Ir.prototype.h=null;var Cr,Ar={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Dr(){kn.call(this,"d")}function Pr(){kn.call(this,"c")}function Or(){}function Rr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new cr(this),this.P=Mr,e=ln?125:void 0,this.W=new ir(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Lr}function Lr(){this.i=null,this.g="",this.h=!1}Ut(Dr,kn),Ut(Pr,kn),Ut(Or,Ir),Or.prototype.g=function(){return new XMLHttpRequest},Or.prototype.i=function(){return{}},Cr=new Or;var Mr=45e3,Fr={},jr={};function Ur(e,t,n){e.K=1,e.v=ui(ni(t)),e.s=n,e.U=!0,Vr(e,null)}function Vr(e,t){e.F=Date.now(),Kr(e),e.A=ni(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ei(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Lr,e.g=So(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ur(Ft(e.Ia,e,e.g),e.O)),fr(e.V,e.g,"readystatechange",e.gb),t=e.H?en(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),br(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Br(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function qr(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=zr(e,n))==jr){4==t&&(e.o=4,Er(14),i=!1),pr(e.j,e.m,null,"[Incomplete Response]");break}if(r==Fr){e.o=4,Er(15),pr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}pr(e.j,e.m,r,null),$r(e,r)}Br(e)&&r!=jr&&r!=Fr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Er(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),mo(t),t.L=!0,Er(11))):(pr(e.j,e.m,n,"[Invalid Chunked Response]"),Gr(e),Wr(e))}function zr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?jr:(n=Number(t.substring(n,r)),isNaN(n)?Fr:(r+=1)+n>t.length?jr:(t=t.substr(r,n),e.C=r+n,t))}function Kr(e){e.Y=Date.now()+e.P,Hr(e,e.P)}function Hr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Sr(Ft(e.eb,e),t)}function Qr(e){e.B&&(Ct.clearTimeout(e.B),e.B=null)}function Wr(e){0==e.l.G||e.I||yo(e.l,e)}function Gr(e){Qr(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,or(e.W),hr(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function $r(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ni(n.i,e)))if(n.I=e.N,!e.J&&Ni(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vo(n),oo(n)}po(n),Er(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Sr(Ft(n.ab,n),6e3));if(1>=xi(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else wo(n,11)}else if((e.J||n.g==e)&&vo(n),!Qt(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&($t(l,"spdy")||$t(l,"quic")||$t(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Ci(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,si(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ko(r,r.H?r.la:null,r.W),d.J){Ai(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(Qr(p),Kr(p)),r.g=d}else ho(r);0<n.l.length&&uo(n)}else"stop"!=o[0]&&"close"!=o[0]||wo(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?wo(n,7):io(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}br(4)}catch(o){}}function Yr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Dt(e)||"string"==typeof e)zt(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Dt(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Dt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Xr(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Xr)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Jr(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Zr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Zr(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Zr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(It=Rr.prototype).setTimeout=function(e){this.P=e},It.gb=function(e){e=e.target;var t=this.L;t&&3==Zi(e)?t.l():this.Ia(e)},It.Ia=function(e){try{if(e==this.g)e:{var t=Zi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||ln||this.g&&(this.h.h||this.g.ga()||eo(this.g)))){this.I||4!=t||7==n||br(8==n||0>=r?3:2),Qr(this);var i=this.g.ba();this.N=i;t:if(Br(this)){var o=eo(this.g);e="";var a=o.length,s=4==Zi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Gr(this),Wr(this);var u="";break t}this.h.i=new Ct.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qt(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Er(12),Gr(this),Wr(this);break e}pr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$r(this,i)}this.U?(qr(this,t,u),ln&&this.i&&3==t&&(fr(this.V,this.W,"tick",this.fb),this.W.start())):(pr(this.j,this.m,u,null),$r(this,u)),4==t&&Gr(this),this.i&&!this.I&&(4==t?yo(this.l,this):(this.i=!1,Kr(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Er(12)):(this.o=0,Er(13)),Gr(this),Wr(this)}}}catch(t){}},It.fb=function(){if(this.g){var e=Zi(this.g),t=this.g.ga();this.C<t.length&&(Qr(this),qr(this,e,t),this.i&&4!=e&&Kr(this))}},It.cancel=function(){this.I=!0,Gr(this)},It.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(br(3),Er(17)),Gr(this),this.o=2,Wr(this)):Hr(this,this.Y-e)},(It=Xr.prototype).R=function(){Jr(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},It.T=function(){return Jr(this),this.g.concat()},It.get=function(e,t){return Zr(this.h,e)?this.h[e]:t},It.set=function(e,t){Zr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},It.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var ei=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ti(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ti){this.g=void 0!==t?t:e.g,ri(this,e.j),this.s=e.s,ii(this,e.i),oi(this,e.m),this.l=e.l,t=e.h;var n=new vi;n.i=t.i,t.g&&(n.g=new Xr(t.g),n.h=t.h),ai(this,n),this.o=e.o}else e&&(n=String(e).match(ei))?(this.g=!!t,ri(this,n[1]||"",!0),this.s=ci(n[2]||""),ii(this,n[3]||"",!0),oi(this,n[4]),this.l=ci(n[5]||"",!0),ai(this,n[6]||"",!0),this.o=ci(n[7]||"")):(this.g=!!t,this.h=new vi(null,this.g))}function ni(e){return new ti(e)}function ri(e,t,n){e.j=n?ci(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ii(e,t,n){e.i=n?ci(t,!0):t}function oi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ai(e,t,n){t instanceof vi?(e.h=t,function(e,t){t&&!e.j&&(yi(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(bi(this,t),Ei(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=li(t,mi)),e.h=new vi(t,e.g))}function si(e,t,n){e.h.set(t,n)}function ui(e){return si(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ci(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function li(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,fi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function fi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ti.prototype.toString=function(){var e=[],t=this.j;t&&e.push(li(t,hi,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(li(t,hi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(li(n,"/"==n.charAt(0)?pi:di,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",li(n,gi)),e.join("")};var hi=/[#\/\?@]/g,di=/[#\?:]/g,pi=/[#\?]/g,mi=/[#\?@]/g,gi=/#/g;function vi(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function yi(e){e.g||(e.g=new Xr,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function bi(e,t){yi(e),t=ki(e,t),Zr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Zr((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Jr(e)))}function wi(e,t){return yi(e),t=ki(e,t),Zr(e.g.h,t)}function Ei(e,t,n){bi(e,t),0<n.length&&(e.i=null,e.g.set(ki(e,t),Ht(n)),e.h+=n.length)}function ki(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(It=vi.prototype).add=function(e,t){yi(this),this.i=null,e=ki(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},It.forEach=function(e,t){yi(this),this.g.forEach((function(n,r){zt(n,(function(n){e.call(t,n,r,this)}),this)}),this)},It.T=function(){yi(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},It.R=function(e){yi(this);var t=[];if("string"==typeof e)wi(this,e)&&(t=Kt(t,this.g.get(ki(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Kt(t,e[n])}return t},It.set=function(e,t){return yi(this),this.i=null,wi(this,e=ki(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},It.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Si=function(e,t){this.h=e,this.g=t};function _i(e){this.l=e||Ti,e=Ct.PerformanceNavigationTiming?0<(e=Ct.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Ct.g&&Ct.g.Ea&&Ct.g.Ea()&&Ct.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ti=10;function Ii(e){return!!e.h||!!e.g&&e.g.size>=e.j}function xi(e){return e.h?1:e.g?e.g.size:0}function Ni(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ci(e,t){e.g?e.g.add(t):e.h=t}function Ai(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Di(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Tt(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Ht(e.i)}function Pi(){}function Oi(){this.g=new Pi}function Ri(e,t,n){var r=n||"";try{Yr(e,(function(e,n){var i=e;Pt(e)&&(i=Wn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Li(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Mi(e){this.l=e.$b||null,this.j=e.ib||!1}function Fi(e,t){Kn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ji,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_i.prototype.cancel=function(){var e,t;if(this.i=Di(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Tt(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Pi.prototype.stringify=function(e){return Ct.JSON.stringify(e,void 0)},Pi.prototype.parse=function(e){return Ct.JSON.parse(e,void 0)},Ut(Mi,Ir),Mi.prototype.g=function(){return new Fi(this.l,this.j)},Mi.prototype.i=function(e){return function(){return e}}({}),Ut(Fi,Kn);var ji=0;function Ui(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Vi(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bi(e)}function Bi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(It=Fi.prototype).open=function(e,t){if(this.readyState!=ji)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bi(this)},It.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ct).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vi(this)),this.readyState=ji},It.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ct.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ui(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},It.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vi(this):Bi(this),3==this.readyState&&Ui(this)}},It.Ua=function(e){this.g&&(this.response=this.responseText=e,Vi(this))},It.Ta=function(e){this.g&&(this.response=e,Vi(this))},It.ha=function(){this.g&&Vi(this)},It.setRequestHeader=function(e,t){this.v.append(e,t)},It.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var qi=Ct.JSON.parse;function zi(e){Kn.call(this),this.headers=new Xr,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ki,this.K=this.L=!1}Ut(zi,Kn);var Ki="",Hi=/^https?$/i,Qi=["POST","PUT"];function Wi(e){return"content-type"==e.toLowerCase()}function Gi(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$i(e),Xi(e)}function $i(e){e.D||(e.D=!0,Hn(e,"complete"),Hn(e,"error"))}function Yi(e){if(e.h&&void 0!==Nt&&(!e.C[1]||4!=Zi(e)||2!=e.ba()))if(e.v&&4==Zi(e))ar(e.Fa,0,e);else if(Hn(e,"readystatechange"),4==Zi(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(ei)[1]||null;if(!o&&Ct.self&&Ct.self.location){var a=Ct.self.location.protocol;o=a.substr(0,a.length-1)}i=!Hi.test(o?o.toLowerCase():"")}t=i}if(t)Hn(e,"complete"),Hn(e,"success");else{e.m=6;try{var s=2<Zi(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.ba()+"]",$i(e)}}finally{Xi(e)}}}function Xi(e,t){if(e.g){Ji(e);var n=e.g,r=e.C[0]?At:null;e.g=null,e.C=null,t||Hn(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Ji(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ct.clearTimeout(e.A),e.A=null)}function Zi(e){return e.g?e.g.readyState:0}function eo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ki:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function to(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Zt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):si(e,t,n))}function no(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ro(e){this.za=0,this.l=[],this.h=new dr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=no("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=no("baseRetryDelayMs",5e3,e),this.$a=no("retryDelaySeedMs",1e4,e),this.Ya=no("forwardChannelMaxRetries",2,e),this.ra=no("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new _i(e&&e.concurrentRequestLimit),this.Ca=new Oi,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function io(e){if(ao(e),3==e.G){var t=e.V++,n=ni(e.F);si(n,"SID",e.J),si(n,"RID",t),si(n,"TYPE","terminate"),lo(e,n),(t=new Rr(e,e.h,t,void 0)).K=2,t.v=ui(ni(n)),n=!1,Ct.navigator&&Ct.navigator.sendBeacon&&(n=Ct.navigator.sendBeacon(t.v.toString(),"")),!n&&Ct.Image&&((new Image).src=t.v,n=!0),n||(t.g=So(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Kr(t)}Eo(e)}function oo(e){e.g&&(mo(e),e.g.cancel(),e.g=null)}function ao(e){oo(e),e.u&&(Ct.clearTimeout(e.u),e.u=null),vo(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Ct.clearTimeout(e.m),e.m=null)}function so(e,t){e.l.push(new Si(e.Za++,t)),3==e.G&&uo(e)}function uo(e){Ii(e.i)||e.m||(e.m=!0,er(e.Ha,e),e.C=0)}function co(e,t){var n;n=t?t.m:e.V++;var r=ni(e.F);si(r,"SID",e.J),si(r,"RID",n),si(r,"AID",e.U),lo(e,r),e.o&&e.s&&to(r,e.o,e.s),n=new Rr(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=fo(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ci(e.i,n),Ur(n,r,t)}function lo(e,t){e.j&&Yr({},(function(e,n){si(t,n,e)}))}function fo(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ft(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Ri(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function ho(e){e.g||e.u||(e.Y=1,er(e.Ga,e),e.A=0)}function po(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Sr(Ft(e.Ga,e),bo(e,e.A)),e.A++,0))}function mo(e){null!=e.B&&(Ct.clearTimeout(e.B),e.B=null)}function go(e){e.g=new Rr(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ni(e.oa);si(t,"RID","rpc"),si(t,"SID",e.J),si(t,"CI",e.N?"0":"1"),si(t,"AID",e.U),lo(e,t),si(t,"TYPE","xmlhttp"),e.o&&e.s&&to(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ui(ni(t)),n.s=null,n.U=!0,Vr(n,e)}function vo(e){null!=e.v&&(Ct.clearTimeout(e.v),e.v=null)}function yo(e,t){var n=null;if(e.g==t){vo(e),mo(e),e.g=null;var r=2}else{if(!Ni(e.i,t))return;n=t.D,Ai(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Hn(r=vr(),new kr(r,n,t,i)),uo(e)}else ho(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(xi(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Sr(Ft(e.Ha,e,t),bo(e,e.C)),e.C++,0)))}(e,t)||2==r&&po(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:wo(e,5);break;case 4:wo(e,10);break;case 3:wo(e,6);break;default:wo(e,2)}}function bo(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function wo(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ft(e.jb,e);n||(n=new ti("//www.google.com/images/cleardot.gif"),Ct.location&&"http"==Ct.location.protocol||ri(n,"https"),ui(n)),function(e,t){var n=new dr;if(Ct.Image){var r=new Image;r.onload=jt(Li,n,r,"TestLoadImage: loaded",!0,t),r.onerror=jt(Li,n,r,"TestLoadImage: error",!1,t),r.onabort=jt(Li,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=jt(Li,n,r,"TestLoadImage: timeout",!1,t),Ct.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Er(2);e.G=0,e.j&&e.j.va(t),Eo(e),ao(e)}function Eo(e){e.G=0,e.I=-1,e.j&&(0==Di(e.i).length&&0==e.l.length||(e.i.i.length=0,Ht(e.l),e.l.length=0),e.j.ua())}function ko(e,t,n){var r=function(e){return e instanceof ti?ni(e):new ti(e,void 0)}(n);if(""!=r.i)t&&ii(r,t+"."+r.i),oi(r,r.m);else{var i=Ct.location;r=function(e,t,n,r){var i=new ti(null,void 0);return e&&ri(i,e),t&&ii(i,t),n&&oi(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Zt(e.aa,(function(e,t){si(r,t,e)})),t=e.D,n=e.sa,t&&n&&si(r,t,n),si(r,"VER",e.ma),lo(e,r),r}function So(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new zi(new Mi({ib:!0})):new zi(e.qa)).L=e.H,t}function _o(){}function To(){if(un&&!(10<=Number(wn)))throw Error("Environmental error: no available transport.")}function Io(e,t){Kn.call(this),this.g=new ro(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Qt(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Qt(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Co(this)}function xo(e){Dr.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function No(){Pr.call(this),this.status=1}function Co(e){this.g=e}(It=zi.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cr.g(),this.C=this.u?xr(this.u):xr(Cr),this.g.onreadystatechange=Ft(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void Gi(this,e)}e=n||"";var i=new Xr(this.headers);r&&Yr(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Wi,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Ct.FormData&&e instanceof Ct.FormData,!(0<=qt(Qi,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ji(this),0<this.B&&((this.K=function(e){return un&&bn()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.pa,this)):this.A=ar(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Gi(this,e)}},It.pa=function(){void 0!==Nt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hn(this,"timeout"),this.abort(8))},It.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Hn(this,"complete"),Hn(this,"abort"),Xi(this))},It.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xi(this,!0)),zi.Z.M.call(this)},It.Fa=function(){this.s||(this.F||this.v||this.l?Yi(this):this.cb())},It.cb=function(){Yi(this)},It.ba=function(){try{return 2<Zi(this)?this.g.status:-1}catch(e){return-1}},It.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},It.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),qi(t)}},It.Da=function(){return this.m},It.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=ro.prototype).ma=8,It.G=1,It.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},It.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Rr(this,this.h,e,void 0),n=this.s;if(this.P&&(n?nn(n=en(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=fo(this,t,r),si(i=ni(this.F),"RID",e),si(i,"CVER",22),this.D&&si(i,"X-HTTP-Session-Id",this.D),lo(this,i),this.o&&n&&to(i,this.o,n),Ci(this.i,t),this.Ra&&si(i,"TYPE","init"),this.ja?(si(i,"$req",r),si(i,"SID","null"),t.$=!0,Ur(t,i,null)):Ur(t,i,r),this.G=2}}else 3==this.G&&(e?co(this,e):0==this.l.length||Ii(this.i)||co(this))},It.Ga=function(){if(this.u=null,go(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Sr(Ft(this.bb,this),e)}},It.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Er(10),oo(this),go(this))},It.ab=function(){null!=this.v&&(this.v=null,oo(this),po(this),Er(19))},It.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Er(2)):(this.h.info("Failed to ping google.com"),Er(1))},(It=_o.prototype).xa=function(){},It.wa=function(){},It.va=function(){},It.ua=function(){},It.Oa=function(){},To.prototype.g=function(e,t){return new Io(e,t)},Ut(Io,Kn),Io.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),er(Ft(e.hb,e,t))),Er(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ko(e,null,e.W),uo(e)},Io.prototype.close=function(){io(this.g)},Io.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,so(this.g,t)}else this.v?((t={}).__data__=Wn(e),so(this.g,t)):so(this.g,e)},Io.prototype.M=function(){this.g.j=null,delete this.j,io(this.g),delete this.g,Io.Z.M.call(this)},Ut(xo,Dr),Ut(No,Pr),Ut(Co,_o),Co.prototype.xa=function(){Hn(this.g,"a")},Co.prototype.wa=function(e){Hn(this.g,new xo(e))},Co.prototype.va=function(e){Hn(this.g,new No(e))},Co.prototype.ua=function(){Hn(this.g,"b")},To.prototype.createWebChannel=To.prototype.g,Io.prototype.send=Io.prototype.u,Io.prototype.open=Io.prototype.m,Io.prototype.close=Io.prototype.close,_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,Tr.COMPLETE="complete",Nr.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",Kn.prototype.listen=Kn.prototype.N,zi.prototype.listenOnce=zi.prototype.O,zi.prototype.getLastError=zi.prototype.La,zi.prototype.getLastErrorCode=zi.prototype.Da,zi.prototype.getStatus=zi.prototype.ba,zi.prototype.getResponseJson=zi.prototype.Qa,zi.prototype.getResponseText=zi.prototype.ga,zi.prototype.send=zi.prototype.ea;var Ao=_r,Do=Tr,Po=mr,Oo=10,Ro=11,Lo=Mi,Mo=Nr,Fo=zi,jo=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();jo.o=-1;var Uo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Vo=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return xe(t,e),t}(Error),Bo=new st("@firebase/firestore");function qo(){return Bo.logLevel}function zo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Bo.logLevel<=et.DEBUG){var r=t.map(Qo);Bo.debug.apply(Bo,Oe(["Firestore (8.8.1): "+e],r))}}function Ko(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Bo.logLevel<=et.ERROR){var r=t.map(Qo);Bo.error.apply(Bo,Oe(["Firestore (8.8.1): "+e],r))}}function Ho(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Bo.logLevel<=et.WARN){var r=t.map(Qo);Bo.warn.apply(Bo,Oe(["Firestore (8.8.1): "+e],r))}}function Qo(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Wo(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+e;throw Ko(t),new Error(t)}function Go(e,t){e||Wo()}function $o(e,t){return e}function Yo(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Xo=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Yo(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Jo(e,t){return e<t?-1:e>t?1:0}function Zo(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ea(e){return e+"\0"}var ta=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Vo(Uo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Vo(Uo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Vo(Uo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Vo(Uo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Jo(this.nanoseconds,e.nanoseconds):Jo(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),na=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new ta(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function ra(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ia(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function oa(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var aa=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Wo(),void 0===n?n=e.length-t:n>e.length-t&&Wo(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),sa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xe(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Vo(Uo.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(aa),ua=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ca=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xe(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return ua.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Vo(Uo.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Vo(Uo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Vo(Uo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Vo(Uo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(aa),la=function(){function e(e){this.fields=e,e.sort(ca.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Zo(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),fa=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Jo(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();fa.EMPTY_BYTE_STRING=new fa("");var ha=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(e){if(Go(!!e),"string"==typeof e){var t=0,n=ha.exec(e);if(Go(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pa(e.seconds),nanos:pa(e.nanos)}}function pa(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ma(e){return"string"==typeof e?fa.fromBase64String(e):fa.fromUint8Array(e)}function ga(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function va(e){var t=e.mapValue.fields.__previous_value__;return ga(t)?va(t):t}function ya(e){var t=da(e.mapValue.fields.__local_write_time__.timestampValue);return new ta(t.seconds,t.nanos)}function ba(e){return null==e}function wa(e){return 0===e&&1/e==-1/0}function Ea(e){return"number"==typeof e&&Number.isInteger(e)&&!wa(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ka=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(sa.fromString(t))},e.fromName=function(t){return new e(sa.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===sa.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return sa.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new sa(t.slice()))},e}();function Sa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ga(e)?4:10:Wo()}function _a(e,t){var n=Sa(e);if(n!==Sa(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ya(e).isEqual(ya(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=da(e.timestampValue),r=da(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ma(e.bytesValue).isEqual(ma(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return pa(e.geoPointValue.latitude)===pa(t.geoPointValue.latitude)&&pa(e.geoPointValue.longitude)===pa(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return pa(e.integerValue)===pa(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=pa(e.doubleValue),r=pa(t.doubleValue);return n===r?wa(n)===wa(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Zo(e.arrayValue.values||[],t.arrayValue.values||[],_a);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ra(n)!==ra(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!_a(n[i],r[i])))return!1;return!0}(e,t);default:return Wo()}}function Ta(e,t){return void 0!==(e.values||[]).find((function(e){return _a(e,t)}))}function Ia(e,t){var n=Sa(e),r=Sa(t);if(n!==r)return Jo(n,r);switch(n){case 0:return 0;case 1:return Jo(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=pa(e.integerValue||e.doubleValue),r=pa(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return xa(e.timestampValue,t.timestampValue);case 4:return xa(ya(e),ya(t));case 5:return Jo(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ma(e),r=ma(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Jo(n[i],r[i]);if(0!==o)return o}return Jo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Jo(pa(e.latitude),pa(t.latitude));return 0!==n?n:Jo(pa(e.longitude),pa(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ia(n[i],r[i]);if(o)return o}return Jo(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Jo(r[a],o[a]);if(0!==s)return s;var u=Ia(n[r[a]],i[o[a]]);if(0!==u)return u}return Jo(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Wo()}}function xa(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Jo(e,t);var n=da(e),r=da(t),i=Jo(n.seconds,r.seconds);return 0!==i?i:Jo(n.nanos,r.nanos)}function Na(e){return Ca(e)}function Ca(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=da(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ma(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ka.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Ca(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Ca(e.fields[o])}return t+"}"}(e.mapValue):Wo();var t,n}function Aa(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Da(e){return!!e&&"integerValue"in e}function Pa(e){return!!e&&"arrayValue"in e}function Oa(e){return!!e&&"nullValue"in e}function Ra(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function La(e){return!!e&&"mapValue"in e}function Ma(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ia(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ma(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ma(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Fa=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!La(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ma(t)},e.prototype.setAll=function(e){var t=this,n=ca.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Ma(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());La(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return _a(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];La(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){ia(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(Ma(this.value))},e}();function ja(e){var t=[];return ia(e.fields,(function(e,n){var r=new ca([e]);if(La(n)){var i=ja(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new la(t)}var Ua=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,na.min(),Fa.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Fa.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Fa.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Fa.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Fa.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Va=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Ba(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Va(e,t,n,r,i,o,a)}function qa(e){var t=$o(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Na(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ba(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ts(t.startAt)),t.endAt&&(n+="|ub:",n+=ts(t.endAt)),t.h=n}return t.h}function za(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!rs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!_a(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!os(e.startAt,t.startAt)&&os(e.endAt,t.endAt)}function Ka(e){return ka.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ha=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return xe(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Qa(e,n,r):"array-contains"===n?new Ya(e,r):"in"===n?new Xa(e,r):"not-in"===n?new Ja(e,r):"array-contains-any"===n?new Za(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Wa(e,n):new Ga(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Ia(t,this.value)):null!==t&&Sa(this.value)===Sa(t)&&this.m(Ia(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wo()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Qa=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=ka.fromName(r.referenceValue),i}return xe(t,e),t.prototype.matches=function(e){var t=ka.comparator(e.key,this.key);return this.m(t)},t}(Ha),Wa=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=$a(0,n),r}return xe(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Ha),Ga=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=$a(0,n),r}return xe(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Ha);function $a(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ka.fromName(e.referenceValue)}))}var Ya=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return xe(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Pa(t)&&Ta(t.arrayValue,this.value)},t}(Ha),Xa=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return xe(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Ta(this.value.arrayValue,t)},t}(Ha),Ja=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return xe(t,e),t.prototype.matches=function(e){if(Ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ta(this.value.arrayValue,t)},t}(Ha),Za=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return xe(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Pa(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ta(t.value.arrayValue,e)}))},t}(Ha),es=function(e,t){this.position=e,this.before=t};function ts(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Na(e)})).join(",")}var ns=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function rs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function is(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ka.comparator(ka.fromName(a.referenceValue),n.key):Ia(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function os(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!_a(e.position[n],t.position[n]))return!1;return!0}var as=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function ss(e,t,n,r,i,o,a,s){return new as(e,t,n,r,i,o,a,s)}function us(e){return new as(e)}function cs(e){return!ba(e.limit)&&"F"===e.limitType}function ls(e){return!ba(e.limit)&&"L"===e.limitType}function fs(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function hs(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function ds(e){return null!==e.collectionGroup}function ps(e){var t=$o(e);if(null===t.p){t.p=[];var n=hs(t),r=fs(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new ns(n)),t.p.push(new ns(ca.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new ns(ca.keyField(),u))}}}return t.p}function ms(e){var t=$o(e);if(!t.T)if("F"===t.limitType)t.T=Ba(t.path,t.collectionGroup,ps(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=ps(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new ns(o.field,a))}var s=t.endAt?new es(t.endAt.position,!t.endAt.before):null,u=t.startAt?new es(t.startAt.position,!t.startAt.before):null;t.T=Ba(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function gs(e,t,n){return new as(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vs(e,t){return za(ms(e),ms(t))&&e.limitType===t.limitType}function ys(e){return qa(ms(e))+"|lt:"+e.limitType}function bs(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Na(t.value);var t})).join(", ")+"]"),ba(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+ts(e.startAt)),e.endAt&&(t+=", endAt: "+ts(e.endAt)),"Target("+t+")"}(ms(e))+"; limitType="+e.limitType+")"}function ws(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ka.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!is(e.startAt,ps(e),t)||e.endAt&&is(e.endAt,ps(e),t))}(e,t)}function Es(e){return function(t,n){for(var r=!1,i=0,o=ps(e);i<o.length;i++){var a=o[i],s=ks(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function ks(e,t,n){var r=e.field.isKeyField()?ka.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ia(r,i):Wo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Wo()}}function Ss(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wa(t)?"-0":t}}function _s(e){return{integerValue:""+e}}function Ts(e,t){return Ea(t)?_s(t):Ss(e,t)}var Is=function(){this._=void 0};function xs(e,t,n){return e instanceof As?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ds?Ps(e,t):e instanceof Os?Rs(e,t):function(e,t){var n=Cs(e,t),r=Ms(n)+Ms(e.A);return Da(n)&&Da(e.A)?_s(r):Ss(e.R,r)}(e,t)}function Ns(e,t,n){return e instanceof Ds?Ps(e,t):e instanceof Os?Rs(e,t):n}function Cs(e,t){return e instanceof Ls?Da(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var As=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xe(t,e),t}(Is),Ds=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return xe(t,e),t}(Is);function Ps(e,t){for(var n=Fs(t),r=function(e){n.some((function(t){return _a(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Os=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return xe(t,e),t}(Is);function Rs(e,t){for(var n=Fs(t),r=function(e){n=n.filter((function(t){return!_a(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ls=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return xe(t,e),t}(Is);function Ms(e){return pa(e.integerValue||e.doubleValue)}function Fs(e){return Pa(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var js=function(e,t){this.field=e,this.transform=t},Us=function(e,t){this.version=e,this.transformResults=t},Vs=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Bs(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var qs=function(){};function zs(e,t,n){e instanceof Gs?function(e,t,n){var r=e.value.clone(),i=Xs(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $s?function(e,t,n){if(Bs(e.precondition,t)){var r=Xs(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ys(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ks(e,t,n){e instanceof Gs?function(e,t,n){if(Bs(e.precondition,t)){var r=e.value.clone(),i=Js(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ws(t),r).setHasLocalMutations()}}(e,t,n):e instanceof $s?function(e,t,n){if(Bs(e.precondition,t)){var r=Js(e.fieldTransforms,n,t),i=t.data;i.setAll(Ys(e)),i.setAll(r),t.convertToFoundDocument(Ws(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Bs(e.precondition,t)&&t.convertToNoDocument(na.min())}(e,t)}function Hs(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Cs(o.transform,a||null);null!=s&&(null==n&&(n=Fa.empty()),n.set(o.field,s))}return n||null}function Qs(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Zo(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ds&&t instanceof Ds||e instanceof Os&&t instanceof Os?Zo(e.elements,t.elements,_a):e instanceof Ls&&t instanceof Ls?_a(e.A,t.A):e instanceof As&&t instanceof As}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ws(e){return e.isFoundDocument()?e.version:na.min()}var Gs=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return xe(t,e),t}(qs),$s=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return xe(t,e),t}(qs);function Ys(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Xs(e,t,n){var r=new Map;Go(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Ns(a,s,n[i]))}return r}function Js(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,xs(s,u,t))}return r}var Zs,eu,tu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return xe(t,e),t}(qs),nu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return xe(t,e),t}(qs),ru=function(e){this.count=e};function iu(e){switch(e){case Uo.OK:return Wo();case Uo.CANCELLED:case Uo.UNKNOWN:case Uo.DEADLINE_EXCEEDED:case Uo.RESOURCE_EXHAUSTED:case Uo.INTERNAL:case Uo.UNAVAILABLE:case Uo.UNAUTHENTICATED:return!1;case Uo.INVALID_ARGUMENT:case Uo.NOT_FOUND:case Uo.ALREADY_EXISTS:case Uo.PERMISSION_DENIED:case Uo.FAILED_PRECONDITION:case Uo.ABORTED:case Uo.OUT_OF_RANGE:case Uo.UNIMPLEMENTED:case Uo.DATA_LOSS:return!0;default:return Wo()}}function ou(e){if(void 0===e)return Ko("GRPC error has no .code"),Uo.UNKNOWN;switch(e){case Zs.OK:return Uo.OK;case Zs.CANCELLED:return Uo.CANCELLED;case Zs.UNKNOWN:return Uo.UNKNOWN;case Zs.DEADLINE_EXCEEDED:return Uo.DEADLINE_EXCEEDED;case Zs.RESOURCE_EXHAUSTED:return Uo.RESOURCE_EXHAUSTED;case Zs.INTERNAL:return Uo.INTERNAL;case Zs.UNAVAILABLE:return Uo.UNAVAILABLE;case Zs.UNAUTHENTICATED:return Uo.UNAUTHENTICATED;case Zs.INVALID_ARGUMENT:return Uo.INVALID_ARGUMENT;case Zs.NOT_FOUND:return Uo.NOT_FOUND;case Zs.ALREADY_EXISTS:return Uo.ALREADY_EXISTS;case Zs.PERMISSION_DENIED:return Uo.PERMISSION_DENIED;case Zs.FAILED_PRECONDITION:return Uo.FAILED_PRECONDITION;case Zs.ABORTED:return Uo.ABORTED;case Zs.OUT_OF_RANGE:return Uo.OUT_OF_RANGE;case Zs.UNIMPLEMENTED:return Uo.UNIMPLEMENTED;case Zs.DATA_LOSS:return Uo.DATA_LOSS;default:return Wo()}}(eu=Zs||(Zs={}))[eu.OK=0]="OK",eu[eu.CANCELLED=1]="CANCELLED",eu[eu.UNKNOWN=2]="UNKNOWN",eu[eu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",eu[eu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",eu[eu.NOT_FOUND=5]="NOT_FOUND",eu[eu.ALREADY_EXISTS=6]="ALREADY_EXISTS",eu[eu.PERMISSION_DENIED=7]="PERMISSION_DENIED",eu[eu.UNAUTHENTICATED=16]="UNAUTHENTICATED",eu[eu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",eu[eu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",eu[eu.ABORTED=10]="ABORTED",eu[eu.OUT_OF_RANGE=11]="OUT_OF_RANGE",eu[eu.UNIMPLEMENTED=12]="UNIMPLEMENTED",eu[eu.INTERNAL=13]="INTERNAL",eu[eu.UNAVAILABLE=14]="UNAVAILABLE",eu[eu.DATA_LOSS=15]="DATA_LOSS";var au=function(){function e(e,t){this.comparator=e,this.root=t||uu.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,uu.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,uu.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new su(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new su(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new su(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new su(this.root,e,this.comparator,!0)},e}(),su=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),uu=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Wo();if(this.right.isRed())throw Wo();var e=this.left.check();if(e!==this.right.check())throw Wo();return e+(this.isRed()?0:1)},e}();uu.EMPTY=null,uu.RED=!0,uu.BLACK=!1,uu.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Wo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Wo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Wo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Wo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Wo()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new uu(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var cu=function(){function e(e){this.comparator=e,this.data=new au(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new lu(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new lu(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),lu=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),fu=new au(ka.comparator);function hu(){return fu}var du=new au(ka.comparator);function pu(){return du}var mu=new au(ka.comparator);function gu(){return mu}var vu=new cu(ka.comparator);function yu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=vu,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var bu=new cu(Jo);function wu(){return bu}var Eu=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,ku.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(na.min(),r,wu(),hu(),yu())},e}(),ku=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(fa.EMPTY_BYTE_STRING,n,yu(),yu(),yu())},e}(),Su=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},_u=function(e,t){this.targetId=e,this.V=t},Tu=function(e,t,n,r){void 0===n&&(n=fa.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Iu=function(){function e(){this.S=0,this.D=Cu(),this.C=fa.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=yu(),t=yu(),n=yu();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Wo()}})),new ku(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=Cu()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),xu=function(){function e(e){this.W=e,this.G=new Map,this.H=hu(),this.J=Nu(),this.Y=new cu(Jo)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Wo()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Ka(i))if(0===n){var o=new ka(i.path);this.tt(t,o,Ua.newNoDocument(o,na.min()))}else Go(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Ka(o.target)){var a=new ka(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Ua.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=yu();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Eu(e,n,this.Y,this.H,r);return this.H=hu(),this.J=Nu(),this.Y=new cu(Jo),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Iu,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new cu(Jo),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||zo("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Iu),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Nu(){return new au(ka.comparator)}function Cu(){return new au(ka.comparator)}var Au={asc:"ASCENDING",desc:"DESCENDING"},Du={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pu=function(e,t){this.databaseId=e,this.I=t};function Ou(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ru(e,t){return e.I?t.toBase64():t.toUint8Array()}function Lu(e,t){return Ou(e,t.toTimestamp())}function Mu(e){return Go(!!e),na.fromTimestamp(function(e){var t=da(e);return new ta(t.seconds,t.nanos)}(e))}function Fu(e,t){return function(e){return new sa(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ju(e){var t=sa.fromString(e);return Go(uc(t)),t}function Uu(e,t){return Fu(e.databaseId,t.path)}function Vu(e,t){var n=ju(t);if(n.get(1)!==e.databaseId.projectId)throw new Vo(Uo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Vo(Uo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ka(Ku(n))}function Bu(e,t){return Fu(e.databaseId,t)}function qu(e){var t=ju(e);return 4===t.length?sa.emptyPath():Ku(t)}function zu(e){return new sa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ku(e){return Go(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Hu(e,t,n){return{name:Uu(e,t),fields:n.value.mapValue.fields}}function Qu(e,t,n){var r=Vu(e,t.name),i=Mu(t.updateTime),o=new Fa({mapValue:{fields:t.fields}}),a=Ua.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Wu(e,t){var n;if(t instanceof Gs)n={update:Hu(e,t.key,t.value)};else if(t instanceof tu)n={delete:Uu(e,t.key)};else if(t instanceof $s)n={update:Hu(e,t.key,t.data),updateMask:sc(t.fieldMask)};else{if(!(t instanceof nu))return Wo();n={verify:Uu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof As)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ds)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Os)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ls)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Wo()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Lu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Wo()}(e,t.precondition)),n}function Gu(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Vs.updateTime(Mu(e.updateTime)):void 0!==e.exists?Vs.exists(e.exists):Vs.none()}(t.currentDocument):Vs.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Go("REQUEST_TIME"===t.setToServerValue),n=new As;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ds(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Os(i)}else"increment"in t?n=new Ls(e,t.increment):Wo();var o=ca.fromServerFormat(t.fieldPath);return new js(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Vu(e,t.update.name),o=new Fa({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new la(t.map((function(e){return ca.fromServerFormat(e)})))}(t.updateMask);return new $s(i,o,a,n,r)}return new Gs(i,o,n,r)}if(t.delete){var s=Vu(e,t.delete);return new tu(s,n)}if(t.verify){var u=Vu(e,t.verify);return new nu(u,n)}return Wo()}function $u(e,t){return{documents:[Bu(e,t.path)]}}function Yu(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Bu(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Bu(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ra(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NAN"}};if(Oa(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ra(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NOT_NAN"}};if(Oa(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rc(e.field),op:nc(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:rc(e.field),direction:tc(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||ba(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Zu(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Zu(t.endAt)),n}function Xu(e){var t=qu(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Go(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Ju(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new ns(ic(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return ba(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=ec(n.startAt));var l=null;return n.endAt&&(l=ec(n.endAt)),ss(t,i,s,a,u,"F",c,l)}function Ju(e){return e?void 0!==e.unaryFilter?[ac(e)]:void 0!==e.fieldFilter?[oc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ju(e)})).reduce((function(e,t){return e.concat(t)})):Wo():[]}function Zu(e){return{before:e.before,values:e.position}}function ec(e){var t=!!e.before,n=e.values||[];return new es(n,t)}function tc(e){return Au[e]}function nc(e){return Du[e]}function rc(e){return{fieldPath:e.canonicalString()}}function ic(e){return ca.fromServerFormat(e.fieldPath)}function oc(e){return Ha.create(ic(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Wo()}}(e.fieldFilter.op),e.fieldFilter.value)}function ac(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ic(e.unaryFilter.field);return Ha.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ic(e.unaryFilter.field);return Ha.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ic(e.unaryFilter.field);return Ha.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ic(e.unaryFilter.field);return Ha.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Wo()}}function sc(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function uc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function cc(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=fc(t)),t=lc(e.get(n),t);return fc(t)}function lc(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function fc(e){return e+""}function hc(e){var t=e.length;if(Go(t>=2),2===t)return Go(""===e.charAt(0)&&""===e.charAt(1)),sa.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&Wo(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:Wo()}o=a+2}return new sa(r)}var dc=function(e,t){this.seconds=e,this.nanoseconds=t},pc=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};pc.store="owner",pc.key="owner";var mc=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};mc.store="mutationQueues",mc.keyPath="userId";var gc=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};gc.store="mutations",gc.keyPath="batchId",gc.userMutationsIndex="userMutationsIndex",gc.userMutationsKeyPath=["userId","batchId"];var vc=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,cc(t)]},e.key=function(e,t,n){return[e,cc(t),n]},e}();vc.store="documentMutations",vc.PLACEHOLDER=new vc;var yc=function(e,t){this.path=e,this.readTime=t},bc=function(e,t){this.path=e,this.version=t},wc=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};wc.store="remoteDocuments",wc.readTimeIndex="readTimeIndex",wc.readTimeIndexPath="readTime",wc.collectionReadTimeIndex="collectionReadTimeIndex",wc.collectionReadTimeIndexPath=["parentPath","readTime"];var Ec=function(e){this.byteSize=e};Ec.store="remoteDocumentGlobal",Ec.key="remoteDocumentGlobalKey";var kc=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};kc.store="targets",kc.keyPath="targetId",kc.queryTargetsIndexName="queryTargetsIndex",kc.queryTargetsKeyPath=["canonicalId","targetId"];var Sc=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Sc.store="targetDocuments",Sc.keyPath=["targetId","path"],Sc.documentTargetsIndex="documentTargetsIndex",Sc.documentTargetsKeyPath=["path","targetId"];var _c=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};_c.key="targetGlobalKey",_c.store="targetGlobal";var Tc=function(e,t){this.collectionId=e,this.parent=t};Tc.store="collectionParents",Tc.keyPath=["collectionId","parent"];var Ic=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Ic.store="clientMetadata",Ic.keyPath="clientId";var xc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};xc.store="bundles",xc.keyPath="bundleId";var Nc=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Nc.store="namedQueries",Nc.keyPath="name";var Cc=Oe(Oe([],Oe(Oe([],Oe(Oe([],Oe(Oe([],[mc.store,gc.store,vc.store,wc.store,kc.store,pc.store,_c.store,Sc.store]),[Ic.store])),[Ec.store])),[Tc.store])),[xc.store,Nc.store]),Ac="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dc=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Pc=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Oc=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Wo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Rc=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Pc,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Fc(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=qc(t.target.error);n.ft.reject(new Fc(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Fc(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(zo("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Uc(t)},e}(),Lc=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Fe())&&Ko("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return zo("SimpleDb","Removing database:",e),Vc(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Fe(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return Ce(this,void 0,void 0,(function(){var t,n=this;return Ae(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(zo("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Fc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Vo(Uo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Fc(e,n))},i.onupgradeneeded=function(e){zo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){zo("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return Ce(this,void 0,void 0,(function(){var i,o,a,s,u;return Ae(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return Ae(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=f.sent(),t=Rc.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Oc.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,zo("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Mc=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Vc(this.Pt.delete())},e}(),Fc=function(e){function t(t,n){var r=this;return(r=e.call(this,Uo.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return xe(t,e),t}(Vo);function jc(e){return"IndexedDbTransactionError"===e.name}var Uc=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(zo("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(zo("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Vc(n)},e.prototype.add=function(e){return zo("SimpleDb","ADD",this.store.name,e,e),Vc(this.store.add(e))},e.prototype.get=function(e){var t=this;return Vc(this.store.get(e)).next((function(n){return void 0===n&&(n=null),zo("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return zo("SimpleDb","DELETE",this.store.name,e),Vc(this.store.delete(e))},e.prototype.count=function(){return zo("SimpleDb","COUNT",this.store.name),Vc(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){zo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Oc((function(n,r){t.onerror=function(e){var t=qc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Oc((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Mc(i),a=t(i.primaryKey,i.value,o);if(a instanceof Oc){var s=a.catch((function(e){return o.done(),Oc.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Oc.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Vc(e){return new Oc((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=qc(e.target.error);n(t)}}))}var Bc=!1;function qc(e){var t=Lc._t(Fe());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Vo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Bc||(Bc=!0,setTimeout((function(){throw r}),0)),r}}return e}var zc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return xe(t,e),t}(Dc);function Kc(e,t){var n=$o(e);return Lc.It(n.Mt,t)}var Hc=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&zs(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Ks(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Ks(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(na.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),yu())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,(function(e,t){return Qs(e,t)}))&&Zo(this.baseMutations,e.baseMutations,(function(e,t){return Qs(e,t)}))},e}(),Qc=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Go(t.mutations.length===r.length);for(var i=gu(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Wc=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=na.min()),void 0===o&&(o=na.min()),void 0===a&&(a=fa.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Gc=function(e){this.Lt=e};function $c(e,t){if(t.document)return Qu(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ka.fromSegments(t.noDocument.path),r=el(t.noDocument.readTime),i=Ua.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=ka.fromSegments(t.unknownDocument.path);return r=el(t.unknownDocument.version),Ua.newUnknownDocument(o,r)}return Wo()}function Yc(e,t,n){var r=Xc(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Uu(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ou(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new wc(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Zc(t.version);return a=t.hasCommittedMutations,new wc(null,new yc(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Zc(t.version);return new wc(new bc(c,l),null,null,!0,r,i)}return Wo()}function Xc(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Jc(e){var t=new ta(e[0],e[1]);return na.fromTimestamp(t)}function Zc(e){var t=e.toTimestamp();return new dc(t.seconds,t.nanoseconds)}function el(e){var t=new ta(e.seconds,e.nanoseconds);return na.fromTimestamp(t)}function tl(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Gu(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Gu(e.Lt,t)})),s=ta.fromMillis(t.localWriteTimeMs);return new Hc(t.batchId,s,n,a)}function nl(e){var t,n,r=el(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?el(e.lastLimboFreeSnapshotVersion):na.min();return void 0!==e.query.documents?(Go(1===(n=e.query).documents.length),t=ms(us(qu(n.documents[0])))):t=function(e){return ms(Xu(e))}(e.query),new Wc(t,e.targetId,0,e.lastListenSequenceNumber,r,i,fa.fromBase64String(e.resumeToken))}function rl(e,t){var n,r=Zc(t.snapshotVersion),i=Zc(t.lastLimboFreeSnapshotVersion);n=Ka(t.target)?$u(e.Lt,t.target):Yu(e.Lt,t.target);var o=t.resumeToken.toBase64();return new kc(t.targetId,qa(t.target),r,o,t.sequenceNumber,i,n)}function il(e){var t=Xu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?gs(t,t.limit,"L"):t}var ol=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return al(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:el(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return al(e).put({bundleId:(n=t).id,createTime:Zc(Mu(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return sl(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:il(t.bundledQuery),readTime:el(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return sl(e).put(function(e){return{name:e.name,readTime:Zc(Mu(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function al(e){return Kc(e,xc.store)}function sl(e){return Kc(e,Nc.store)}var ul=function(){function e(){this.Bt=new cl}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Oc.resolve()},e.prototype.getCollectionParents=function(e,t){return Oc.resolve(this.Bt.getEntries(t))},e}(),cl=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cu(sa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new cu(sa.comparator)).toArray()},e}(),ll=function(){function e(){this.qt=new cl}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:cc(i)};return fl(e).put(o)}return Oc.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ea(t),""],!1,!0);return fl(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(hc(o.parent))}return n}))},e}();function fl(e){return Kc(e,Tc.store)}var hl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dl=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function pl(e,t,n){var r=e.store(gc.store),i=e.store(vc.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Go(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=vc.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Oc.waitFor(o).next((function(){return c}))}function ml(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Wo();t=e.noDocument}return JSON.stringify(t).length}dl.DEFAULT_COLLECTION_PERCENTILE=10,dl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dl.DEFAULT=new dl(41943040,dl.DEFAULT_COLLECTION_PERCENTILE,dl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dl.DISABLED=new dl(-1,0,0);var gl=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Go(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yl(e).$t({index:gc.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=bl(e),a=yl(e);return a.add({}).next((function(s){Go("number"==typeof s);for(var u=new Hc(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Wu(e.Lt,t)})),i=n.mutations.map((function(t){return Wu(e.Lt,t)}));return new gc(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new cu((function(e,t){return Jo(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],m=vc.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(m,vc.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Oc.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return yl(e).get(t).next((function(e){return e?(Go(e.userId===n.userId),tl(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Oc.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return yl(e).$t({index:gc.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Go(t.batchId>=r),o=tl(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return yl(e).$t({index:gc.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yl(e).Nt(gc.userMutationsIndex,n).next((function(e){return e.map((function(e){return tl(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=vc.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return bl(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=hc(u);if(s===n.userId&&t.path.isEqual(l))return yl(e).get(c).next((function(e){if(!e)throw Wo();Go(e.userId===n.userId),o.push(tl(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new cu(Jo),i=[];return t.forEach((function(t){var o=vc.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=bl(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=hc(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Oc.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=vc.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new cu(Jo);return bl(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=hc(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(yl(e).get(t).next((function(e){if(null===e)throw Wo();Go(e.userId===n.userId),r.push(tl(n.R,e))})))})),Oc.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return pl(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Oc.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Oc.resolve();var r=IDBKeyRange.lowerBound(vc.prefixForUser(t.userId)),i=[];return bl(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=hc(e[1]);i.push(o)}else r.done()})).next((function(){Go(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return vl(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return wl(e).get(this.userId).next((function(e){return e||new mc(t.userId,-1,"")}))},e}();function vl(e,t,n){var r=vc.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return bl(e).$t({range:o,kt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function yl(e){return Kc(e,gc.store)}function bl(e){return Kc(e,vc.store)}function wl(e){return Kc(e,mc.store)}var El=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),kl=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new El(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return na.fromTimestamp(new ta(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Sl(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Go(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Sl(e).$t((function(a,s){var u=nl(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Oc.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Sl(e).$t((function(e,n){var r=nl(n);t(r)}))},e.prototype.Xt=function(e){return _l(e).get(_c.key).next((function(e){return Go(null!==e),e}))},e.prototype.Zt=function(e,t){return _l(e).put(_c.key,t)},e.prototype.te=function(e,t){return Sl(e).put(rl(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=qa(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Sl(e).$t({range:r,index:kc.queryTargetsIndexName},(function(e,n,r){var o=nl(n);za(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Tl(e);return t.forEach((function(t){var a=cc(t.path);i.push(o.put(new Sc(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Oc.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Tl(e);return Oc.forEach(t,(function(t){var o=cc(t.path);return Oc.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Tl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Tl(e),i=yu();return r.$t({range:n,kt:!0},(function(e,t,n){var r=hc(e[1]),o=new ka(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=cc(t.path),r=IDBKeyRange.bound([n],[ea(n)],!1,!0),i=0;return Tl(e).$t({index:Sc.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Sl(e).get(t).next((function(e){return e?nl(e):null}))},e}();function Sl(e){return Kc(e,kc.store)}function _l(e){return Kc(e,_c.store)}function Tl(e){return Kc(e,Sc.store)}function Il(e){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(t){if(e.code!==Uo.FAILED_PRECONDITION||e.message!==Ac)throw e;return zo("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function xl(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Jo(n,i);return 0===a?Jo(r,o):a}var Nl=function(){function e(e){this.ne=e,this.buffer=new cu(xl),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();xl(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Cl=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;zo("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Ce(t,void 0,void 0,(function(){var t;return Ae(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return jc(t=n.sent())?(zo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Il(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Al=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Oc.resolve(jo.o);var r=new Nl(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(zo("LruGarbageCollector","Garbage collection skipped; disabled"),Oc.resolve(hl)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(zo("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),hl):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(zo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),qo()<=et.DEBUG&&zo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Oc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Dl=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Al(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Pl(e,n)},e.prototype.removeReference=function(e,t,n){return Pl(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Pl(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return wl(e).Ot((function(r){return vl(e,r,t).next((function(e){return e&&(n=!0),Oc.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Tl(e).delete([0,cc(a.path)])}))}));i.push(u)}})).next((function(){return Oc.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Pl(e,t)},e.prototype.we=function(e,t){var n,r=Tl(e),i=jo.o;return r.$t({index:Sc.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==jo.o&&t(new ka(hc(n)),i),i=s,n=a):i=jo.o})).next((function(){i!==jo.o&&t(new ka(hc(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Pl(e,t){return Tl(e).put(function(e,t){return new Sc(0,cc(e.path),t)}(t,e.currentSequenceNumber))}var Ol=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){ia(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return oa(this.inner)},e}(),Rl=function(){function e(){this.changes=new Ol((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:na.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Ua.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Oc.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Ll=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return jl(e).put(Ul(t),n)},e.prototype.removeEntry=function(e,t){var n=jl(e),r=Ul(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return jl(e).get(Ul(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return jl(e).get(Ul(t)).next((function(e){return{document:n.ye(t,e),size:ml(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=hu();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=hu(),i=new au(ka.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,ml(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Oc.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return jl(e).$t({range:r},(function(e,t,r){for(var a=ka.fromSegments(e);o&&ka.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=hu(),o=t.path.length+1,a={};if(n.isEqual(na.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Xc(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=wc.collectionReadTimeIndex}return jl(e).$t(a,(function(e,n,a){if(e.length===o){var s=$c(r.R,n);t.path.isPrefixOf(s.key.path)?ws(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new Ml(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Fl(e).get(Ec.key).next((function(e){return Go(!!e),e}))},e.prototype.me=function(e,t){return Fl(e).put(Ec.key,t)},e.prototype.ye=function(e,t){if(t){var n=$c(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(na.min()))return n}return Ua.newInvalidDocument(e)},e}(),Ml=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Ol((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return xe(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new cu((function(e,t){return Jo(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Yc(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=ml(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Yc(t.Ie.R,Ua.newNoDocument(o,na.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Oc.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Rl);function Fl(e){return Kc(e,Ec.store)}function jl(e){return Kc(e,wc.store)}function Ul(e){return e.path.toArray()}var Vl=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Go(n<r&&n>=0&&r<=11);var o=new Rc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(pc.store)}(e),function(e){e.createObjectStore(mc.store,{keyPath:mc.keyPath}),e.createObjectStore(gc.store,{keyPath:gc.keyPath,autoIncrement:!0}).createIndex(gc.userMutationsIndex,gc.userMutationsKeyPath,{unique:!0}),e.createObjectStore(vc.store)}(e),Bl(e),function(e){e.createObjectStore(wc.store)}(e));var a=Oc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Sc.store),e.deleteObjectStore(kc.store),e.deleteObjectStore(_c.store)}(e),Bl(e)),a=a.next((function(){return function(e){var t=e.store(_c.store),n=new _c(0,0,na.min().toTimestamp(),0);return t.put(_c.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(gc.store).Nt().next((function(n){e.deleteObjectStore(gc.store),e.createObjectStore(gc.store,{keyPath:gc.keyPath,autoIncrement:!0}).createIndex(gc.userMutationsIndex,gc.userMutationsKeyPath,{unique:!0});var r=t.store(gc.store),i=n.map((function(e){return r.put(e)}));return Oc.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Ic.store,{keyPath:Ic.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Ec.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(wc.store);t.createIndex(wc.readTimeIndex,wc.readTimeIndexPath,{unique:!1}),t.createIndex(wc.collectionReadTimeIndex,wc.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(xc.store,{keyPath:xc.keyPath})}(e),function(e){e.createObjectStore(Nc.store,{keyPath:Nc.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(wc.store).$t((function(e,n){t+=ml(n)})).next((function(){var n=new Ec(t);return e.store(Ec.store).put(Ec.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(mc.store),r=e.store(gc.store);return n.Nt().next((function(n){return Oc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(gc.userMutationsIndex,i).next((function(r){return Oc.forEach(r,(function(r){Go(r.userId===n.userId);var i=tl(t.R,r);return pl(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Sc.store),n=e.store(wc.store);return e.store(_c.store).get(_c.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new sa(n),a=function(e){return[0,cc(e)]}(o);r.push(t.get(a).next((function(n){return n?Oc.resolve():function(n){return t.put(new Sc(0,cc(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Oc.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Tc.store,{keyPath:Tc.keyPath});var n=t.store(Tc.store),r=new cl,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:cc(i)})}};return t.store(wc.store).$t({kt:!0},(function(e,t){var n=new sa(e);return i(n.popLast())})).next((function(){return t.store(vc.store).$t({kt:!0},(function(e,t){e[0];var n=e[1];e[2];var r=hc(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(kc.store);return n.$t((function(e,r){var i=nl(r),o=rl(t.R,i);return n.put(o)}))},e}();function Bl(e){e.createObjectStore(Sc.store,{keyPath:Sc.keyPath}).createIndex(Sc.documentTargetsIndex,Sc.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(kc.store,{keyPath:kc.keyPath}).createIndex(kc.queryTargetsIndexName,kc.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(_c.store)}var ql="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",zl=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Vo(Uo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Dl(this,i),this.Le=n+"main",this.R=new Gc(u),this.Be=new Lc(this.Le,11,new Vl(this.R)),this.qe=new kl(this.referenceDelegate,this.R),this.Ut=new ll,this.Ue=function(e,t){return new Ll(e,t)}(this.R,this.Ut),this.Ke=new ol,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Ko("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Vo(Uo.FAILED_PRECONDITION,ql);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new jo(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Ce(t,void 0,void 0,(function(){return Ae(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Ce(t,void 0,void 0,(function(){return Ae(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Ce(t,void 0,void 0,(function(){return Ae(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Hl(t).put(new Ic(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(jc(t))return zo("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return zo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Kl(e).get(pc.key).next((function(e){return Oc.resolve(t.tn(e))}))},e.prototype.en=function(e){return Hl(e).delete(this.clientId)},e.prototype.nn=function(){return Ce(this,void 0,void 0,(function(){var e,t,n,r,i=this;return Ae(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Kc(e,Ic.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Oc.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Oc.resolve(!0):Kl(e).get(pc.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Vo(Uo.FAILED_PRECONDITION,ql);return!1}}return!(!t.networkEnabled||!t.inForeground)||Hl(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&zo("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Ce(this,void 0,void 0,(function(){var e=this;return Ae(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[pc.store,Ic.store],(function(t){var n=new zc(t,jo.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Hl(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return gl.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;zo("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Cc,(function(o){return i=new zc(o,r.Ne?r.Ne.next():jo.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Ko("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Vo(Uo.FAILED_PRECONDITION,Ac);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Kl(e).get(pc.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Vo(Uo.FAILED_PRECONDITION,ql)}))},e.prototype.Ze=function(e){var t=new pc(this.clientId,this.allowTabSynchronization,Date.now());return Kl(e).put(pc.key,t)},e.yt=function(){return Lc.yt()},e.prototype.Xe=function(e){var t=this,n=Kl(e);return n.get(pc.key).next((function(e){return t.tn(e)?(zo("IndexedDbPersistence","Releasing primary lease."),n.delete(pc.key)):Oc.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Ko("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),!je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return zo("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Ko("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Ko("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Kl(e){return Kc(e,pc.store)}function Hl(e){return Kc(e,Ic.store)}function Ql(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Wl=function(e,t){this.progress=e,this.wn=t},Gl=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return ka.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):ds(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new ka(t)).next((function(e){var t=pu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=pu();return this.Ut.getCollectionParents(e,i).next((function(a){return Oc.forEach(a,(function(a){var s=function(e,t){return new as(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Ua.newInvalidDocument(c),r=r.insert(c,l)),Ks(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){ws(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=yu(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof $s&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),$l=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=yu(),i=yu(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Yl=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(na.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(cs(t)||ls(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(qo()<=et.DEBUG&&zo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bs(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new cu(Es(e));return t.forEach((function(t,r){ws(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return qo()<=et.DEBUG&&zo("QueryEngine","Using full collection scan to execute query:",bs(t)),this.Sn.getDocumentsMatchingQuery(e,t,na.min())},e}(),Xl=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new au(Jo),this.kn=new Ol((function(e){return qa(e)}),za),this.$n=na.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Gl(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function Jl(e,t,n,r){return new Xl(e,t,n,r)}function Zl(e,t){return Ce(this,void 0,void 0,(function(){var n,r,i,o;return Ae(this,(function(a){switch(a.label){case 0:return n=$o(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Gl(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=yu(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var g=0,v=m.mutations;g<v.length;g++){var y=v[g];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function ef(e,t){var n=$o(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Oc.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Go(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function tf(e){var t=$o(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function nf(e,t){var n=$o(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Go(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=hu();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(rf(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(na.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Oc.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function rf(e,t,n,r,i){var o=yu();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=hu();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(na.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):zo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function of(e,t){var n=$o(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function af(e,t){var n=$o(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Oc.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Wc(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function sf(e,t,n){return Ce(this,void 0,void 0,(function(){var r,i,o,a;return Ae(this,(function(s){switch(s.label){case 0:r=$o(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!jc(a=s.sent()))throw a;return zo("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function uf(e,t,n){var r=$o(e),i=na.min(),o=yu();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=$o(e),i=r.kn.get(n);return void 0!==i?Oc.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,ms(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:na.min(),n?o:yu())})).next((function(e){return{documents:e,Bn:o}}))}))}function cf(e,t){var n=$o(e),r=$o(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function lf(e){var t=$o(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=$o(e),i=hu(),o=Xc(n),a=jl(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:wc.readTimeIndex,range:s},(function(e,t){var n=$c(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Jc(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function ff(e){return Ce(this,void 0,void 0,(function(){var t;return Ae(this,(function(n){return[2,(t=$o(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=jl(e),n=na.min();return t.$t({index:wc.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Jc(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function hf(e,t,n,r){return Ce(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,h,d;return Ae(this,(function(p){switch(p.label){case 0:for(i=$o(e),o=yu(),a=hu(),s=gu(),u=0,c=n;u<c.length;u++)l=c[u],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),s=s.insert(f,t.Kn(l.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,af(i,function(e){return ms(us(sa.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return rf(e,h,a,na.min(),s).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function df(e,t,n){return void 0===n&&(n=yu()),Ce(this,void 0,void 0,(function(){var r,i;return Ae(this,(function(o){switch(o.label){case 0:return[4,af(e,ms(il(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=$o(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=Mu(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(fa.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var pf=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Oc.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:Mu(n.createTime)}),Oc.resolve()},e.prototype.getNamedQuery=function(e,t){return Oc.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:il(e.bundledQuery),readTime:Mu(e.readTime)}}(t)),Oc.resolve()},e}(),mf=function(){function e(){this.Wn=new cu(gf.Gn),this.zn=new cu(gf.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new gf(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new gf(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new ka(new sa([])),r=new gf(n,e),i=new gf(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new ka(new sa([])),n=new gf(t,e),r=new gf(t,e+1),i=yu();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new gf(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),gf=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return ka.comparator(e.key,t.key)||Jo(e.ns,t.ns)},e.Hn=function(e,t){return Jo(e.ns,t.ns)||ka.comparator(e.key,t.key)},e}(),vf=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new cu(gf.Gn)}return e.prototype.checkEmpty=function(e){return Oc.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Hc(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new gf(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Oc.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Oc.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Oc.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Oc.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Oc.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new gf(t,0),i=new gf(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Oc.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new cu(Jo);return t.forEach((function(e){var t=new gf(e,0),i=new gf(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Oc.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;ka.isDocumentKey(i)||(i=i.child(""));var o=new gf(new ka(i),0),a=new cu(Jo);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Oc.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Go(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Oc.forEach(t.mutations,(function(i){var o=new gf(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new gf(t,0),r=this.rs.firstAfterOrEqual(n);return Oc.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Oc.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),yf=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new au(ka.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Oc.resolve(n?n.document.clone():Ua.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=hu();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Ua.newInvalidDocument(e))})),Oc.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=hu(),i=new ka(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||ws(t,c)&&(r=r.insert(c.key,c.clone()))}return Oc.resolve(r)},e.prototype.fs=function(e,t){return Oc.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new bf(this)},e.prototype.getSize=function(e){return Oc.resolve(this.size)},e}(),bf=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return xe(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Oc.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Rl),wf=function(){function e(e){this.persistence=e,this.ds=new Ol((function(e){return qa(e)}),za),this.lastRemoteSnapshotVersion=na.min(),this.highestTargetId=0,this.ws=0,this._s=new mf,this.targetCount=0,this.ys=El.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Oc.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Oc.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Oc.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Oc.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Oc.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new El(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Oc.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Oc.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Oc.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Oc.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Oc.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Oc.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Oc.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Oc.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Oc.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Oc.resolve(n)},e.prototype.containsKey=function(e,t){return Oc.resolve(this._s.containsKey(t))},e}(),Ef=function(){function e(e,t){var n=this;this.gs={},this.Ne=new jo(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new wf(this),this.Ut=new ul,this.Ue=function(e,t){return new yf(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Gc(t),this.Ke=new pf(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new vf(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;zo("MemoryPersistence","Starting transaction:",e);var i=new kf(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Oc.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),kf=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return xe(t,e),t}(Dc),Sf=function(){function e(e){this.persistence=e,this.As=new mf,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Wo()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Oc.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Oc.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Oc.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oc.forEach(this.vs,(function(r){var i=ka.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Oc.or([function(){return Oc.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),_f=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Tf(e,t){return"firestore_clients_"+e+"_"+t}function If(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function xf(e,t){return"firestore_targets_"+e+"_"+t}_f.UNAUTHENTICATED=new _f(null),_f.GOOGLE_CREDENTIALS=new _f("google-credentials-uid"),_f.FIRST_PARTY=new _f("first-party-uid");var Nf=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Vo(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Ko("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Cf=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Vo(i.error.code,i.error.message)),o?new e(t,i.state,r):(Ko("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Af=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=wu(),a=0;i&&a<r.activeTargetIds.length;++a)i=Ea(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Ko("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Df=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ko("SharedClientState","Failed to parse online state: "+t),null)},e}(),Pf=function(){function e(){this.activeTargetIds=wu()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Of=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new au(Jo),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Tf(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Pf),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Ce(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return Ae(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Tf(this.persistenceKey,r)))&&(o=Af.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.Fs(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(xf(this.persistenceKey,e));if(n){var r=Cf.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(xf(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return zo("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){zo("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){zo("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(zo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Ko("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Ce(t,void 0,void 0,(function(){var e,t,r,i,o,a;return Ae(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=jo.o;if(null!=e)try{var n=JSON.parse(e);Go("number"==typeof n),t=n}catch(e){Ko("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==jo.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Nf(this.currentUser,e,t,n),i=If(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=If(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=xf(this.persistenceKey,e),i=new Cf(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Af.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Nf.Vs(new _f(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Cf.Vs(r,t)},e.prototype.js=function(e){return Df.Vs(e)},e.prototype.ii=function(e){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(zo("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=wu();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Rf=function(){function e(){this.li=new Pf,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Pf,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Lf=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Mf=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){zo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){zo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Ff={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jf=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Uf=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return xe(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new Fo;a.listenOnce(Do.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Ao.NO_ERROR:var t=a.getResponseJson();zo("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ao.TIMEOUT:zo("Connection",'RPC "'+e+'" timed out'),o(new Vo(Uo.DEADLINE_EXCEEDED,"Request time out"));break;case Ao.HTTP_ERROR:var n=a.getStatus();if(zo("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Uo).indexOf(t)>=0?t:Uo.UNKNOWN}(r.status);o(new Vo(s,r.message))}else o(new Vo(Uo.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Vo(Uo.UNAVAILABLE,"Connection failed."));break;default:Wo()}}finally{zo("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=new To,o=vr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Lo({})),this.Fi(a.initMessageHeaders,t),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())||"object"==typeof navigator&&"ReactNative"===navigator.product||Fe().indexOf("Electron/")>=0||function(){var e=Fe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||Fe().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(a.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");zo("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),c=!1,l=!1,f=new jf({Ei:function(e){l?zo("Connection","Not sending because WebChannel is closed:",e):(c||(zo("Connection","Opening WebChannel transport."),u.open(),c=!0),zo("Connection","WebChannel sending:",e),u.send(e))},Ti:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Mo.EventType.OPEN,(function(){l||zo("Connection","WebChannel transport opened.")})),h(u,Mo.EventType.CLOSE,(function(){l||(l=!0,zo("Connection","WebChannel transport closed"),f.Vi())})),h(u,Mo.EventType.ERROR,(function(e){l||(l=!0,Ho("Connection","WebChannel transport errored:",e),f.Vi(new Vo(Uo.UNAVAILABLE,"The operation could not be completed")))})),h(u,Mo.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Go(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){zo("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Zs[e];if(void 0!==t)return ou(t)}(o),s=i.message;void 0===a&&(a=Uo.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,f.Vi(new Vo(a,s)),u.close()}else zo("Connection","WebChannel received:",n),f.Si(n)}})),h(o,Po.STAT_EVENT,(function(e){e.stat===Oo?zo("Connection","Detected buffering proxy"):e.stat===Ro&&zo("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Pi()}),0),f},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);zo("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return zo("RestConnection","Received: ",e),e}),(function(t){throw Ho("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=Ff[e];return this.Di+"/v1/"+t+":"+n},e}());function Vf(){return"undefined"!=typeof window?window:null}function Bf(){return"undefined"!=typeof document?document:null}function qf(e){return new Pu(e,!0)}var zf=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&zo("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Kf=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new zf(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Uo.RESOURCE_EXHAUSTED?(Ko(t.toString()),Ko("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===Uo.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Vo(Uo.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Ce(e,void 0,void 0,(function(){return Ae(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return zo("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(zo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Hf=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return xe(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Wo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Go(void 0===t||"string"==typeof t),fa.fromBase64String(t||"")):(Go(void 0===t||t instanceof Uint8Array),fa.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Uo.UNKNOWN:ou(e.code);return new Vo(t,e.message||"")}(s);n=new Tu(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Vu(e,r.document.name),o=Mu(r.document.updateTime);var s=new Fa({mapValue:{fields:r.document.fields}}),u=(a=Ua.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new Su(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Vu(e,r.document),o=r.readTime?Mu(r.readTime):na.min(),s=Ua.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Su([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Vu(e,r.document),o=r.removedTargetIds||[],n=new Su([],o,i,null);else{if(!("filter"in t))return Wo();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new ru(r),o=l.targetId,n=new _u(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return na.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?na.min():t.readTime?Mu(t.readTime):na.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=zu(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Ka(r)?{documents:$u(e,r)}:{query:Yu(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ru(e,t.resumeToken):t.snapshotVersion.compareTo(na.min())>0&&(n.readTime=Ou(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wo()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=zu(this.R),t.removeTarget=e,this.cr(t)},t}(Kf),Qf=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return xe(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Go(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Go(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Mu(e.updateTime):Mu(t);return n.isEqual(na.min())&&(n=Mu(t)),new Us(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Mu(e.commitTime);return this.listener.Tr(n,t)}return Go(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=zu(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Wu(t.R,e)}))};this.cr(n)},t}(Kf),Wf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return xe(t,e),t.prototype.br=function(){if(this.Rr)throw new Vo(Uo.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Uo.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Vo(Uo.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Uo.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Vo(Uo.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Gf=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ko(t),this.Vr=!1):zo("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),$f=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return Ce(o,void 0,void 0,(function(){return Ae(this,(function(e){switch(e.label){case 0:return ih(this)?(zo("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Ce(this,void 0,void 0,(function(){var t;return Ae(this,(function(n){switch(n.label){case 0:return(t=$o(e)).Or.add(4),[4,Xf(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Yf(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Gf(n,r)};function Yf(e){return Ce(this,void 0,void 0,(function(){var t,n;return Ae(this,(function(r){switch(r.label){case 0:if(!ih(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Xf(e){return Ce(this,void 0,void 0,(function(){var t,n;return Ae(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Jf(e,t){var n=$o(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),rh(n)?nh(n):bh(n).er()&&eh(n,t))}function Zf(e,t){var n=$o(e),r=bh(n);n.$r.delete(t),r.er()&&th(n,t),0===n.$r.size&&(r.er()?r.ir():ih(n)&&n.Br.set("Unknown"))}function eh(e,t){e.qr.U(t.targetId),bh(e).mr(t)}function th(e,t){e.qr.U(t),bh(e).yr(t)}function nh(e){e.qr=new xu({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),bh(e).start(),e.Br.Sr()}function rh(e){return ih(e)&&!bh(e).tr()&&e.$r.size>0}function ih(e){return 0===$o(e).Or.size}function oh(e){e.qr=void 0}function ah(e){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(t){return e.$r.forEach((function(t,n){eh(e,t)})),[2]}))}))}function sh(e,t){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(n){return oh(e),rh(e)?(e.Br.Nr(t),nh(e)):e.Br.set("Unknown"),[2]}))}))}function uh(e,t,n){return Ce(this,void 0,void 0,(function(){var r,i,o;return Ae(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Tu&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return Ce(this,void 0,void 0,(function(){var n,r,i,o;return Ae(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),zo("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,ch(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Su?e.qr.X(t):t instanceof _u?e.qr.rt(t):e.qr.et(t),n.isEqual(na.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,tf(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(fa.EMPTY_BYTE_STRING,n.snapshotVersion)),th(e,t);var r=new Wc(n.target,t,1,n.sequenceNumber);eh(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return zo("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,ch(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function ch(e,t,n){return Ce(this,void 0,void 0,(function(){var r=this;return Ae(this,(function(i){switch(i.label){case 0:if(!jc(t))throw t;return e.Or.add(1),[4,Xf(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return tf(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Ce(r,void 0,void 0,(function(){return Ae(this,(function(t){switch(t.label){case 0:return zo("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Yf(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function lh(e,t){return t().catch((function(n){return ch(e,n,t)}))}function fh(e){return Ce(this,void 0,void 0,(function(){var t,n,r,i,o;return Ae(this,(function(a){switch(a.label){case 0:t=$o(e),n=wh(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return ih(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,of(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=wh(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,ch(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return hh(t)&&dh(t),[2]}}))}))}function hh(e){return ih(e)&&!wh(e).tr()&&e.kr.length>0}function dh(e){wh(e).start()}function ph(e){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(t){return wh(e).Ar(),[2]}))}))}function mh(e){return Ce(this,void 0,void 0,(function(){var t,n,r,i;return Ae(this,(function(o){for(t=wh(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function gh(e,t,n){return Ce(this,void 0,void 0,(function(){var r,i;return Ae(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=Qc.from(r,t,n),[4,lh(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,fh(e)];case 2:return o.sent(),[2]}}))}))}function vh(e,t){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(n){switch(n.label){case 0:return t&&wh(e).pr?[4,function(e,t){return Ce(this,void 0,void 0,(function(){var n,r;return Ae(this,(function(i){switch(i.label){case 0:return iu(r=t.code)&&r!==Uo.ABORTED?(n=e.kr.shift(),wh(e).sr(),[4,lh(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,fh(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return hh(e)&&dh(e),[2]}}))}))}function yh(e,t){return Ce(this,void 0,void 0,(function(){var n;return Ae(this,(function(r){switch(r.label){case 0:return n=$o(e),t?(n.Or.delete(2),[4,Yf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Xf(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function bh(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=$o(e);return r.br(),new Hf(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:ah.bind(null,e),Ri:sh.bind(null,e),_r:uh.bind(null,e)}),e.Mr.push((function(n){return Ce(t,void 0,void 0,(function(){return Ae(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),rh(e)?nh(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),oh(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function wh(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=$o(e);return r.br(),new Qf(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:ph.bind(null,e),Ri:vh.bind(null,e),Ir:mh.bind(null,e),Tr:gh.bind(null,e)}),e.Mr.push((function(n){return Ce(t,void 0,void 0,(function(){return Ae(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,fh(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.kr.length>0&&(zo("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var Eh=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Pc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vo(Uo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function kh(e,t){if(Ko("AsyncQueue",t+": "+e),jc(e))return new Vo(Uo.UNAVAILABLE,t+": "+e);throw e}var Sh=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||ka.comparator(t.key,n.key)}:function(e,t){return ka.comparator(e.key,t.key)},this.keyedMap=pu(),this.sortedSet=new au(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),_h=function(){function e(){this.Qr=new au(ka.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Wo():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Th=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Sh.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Ih=function(){this.Wr=void 0,this.listeners=[]},xh=function(){this.queries=new Ol((function(e){return ys(e)}),vs),this.onlineState="Unknown",this.Gr=new Set};function Nh(e,t){return Ce(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Ae(this,(function(c){switch(c.label){case 0:if(n=$o(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Ih),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=kh(s,"Initialization of query '"+bs(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Ph(n),[2]}}))}))}function Ch(e,t){return Ce(this,void 0,void 0,(function(){var n,r,i,o,a;return Ae(this,(function(s){return n=$o(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Ah(e,t){for(var n=$o(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Ph(n)}function Dh(e,t,n){var r=$o(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Ph(e){e.Gr.forEach((function(e){e.next()}))}var Oh=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Th(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Rh=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Lh=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Vu(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Qu(this.R,e.document,!1):Ua.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return Mu(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=function(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Lh(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||yu()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return Ce(this,void 0,void 0,(function(){var e,t,n,r,i;return Ae(this,(function(o){switch(o.label){case 0:return[4,hf(this.localStore,new Lh(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,df(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Wl(Object.assign({},this.progress),e))]}}))}))}}();var Mh=function(e){this.key=e},Fh=function(e){this.key=e},jh=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=yu(),this.mutatedKeys=yu(),this.lo=Es(e),this.fo=new Sh(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new _h,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=cs(this.query)&&i.size===this.query.limit?i.last():null,c=ls(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=ws(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),cs(this.query)||ls(this.query))for(;a.size>this.query.limit;){var l=cs(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wo()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Th(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new _h,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=yu(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Fh(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Mh(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=yu();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Th.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Uh=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Vh=function(e){this.key=e,this.bo=!1},Bh=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Ol((function(e){return ys(e)}),vs),this.Vo=new Map,this.So=new Set,this.Do=new au(ka.comparator),this.Co=new Map,this.No=new mf,this.xo={},this.Fo=new Map,this.ko=El.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function qh(e,t){return Ce(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Ae(this,(function(u){switch(u.label){case 0:return n=vd(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,af(n.localStore,ms(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,zh(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Jf(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function zh(e,t,n,r){return Ce(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Ae(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return Ce(this,void 0,void 0,(function(){var i,o,a;return Ae(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,uf(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(nd(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,uf(e.localStore,t,!0)];case 1:return i=l.sent(),o=new jh(t,i.Bn),a=o._o(i.documents),s=ku.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),nd(e,n,u.To),c=new Uh(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function Kh(e,t){return Ce(this,void 0,void 0,(function(){var n,r,i;return Ae(this,(function(o){switch(o.label){case 0:return n=$o(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!vs(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,sf(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Zf(n.remoteStore,r.targetId),ed(n,r.targetId)})).catch(Il)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ed(n,r.targetId),[4,sf(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Hh(e,t,n){return Ce(this,void 0,void 0,(function(){var r,i,o,a;return Ae(this,(function(s){switch(s.label){case 0:r=yd(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=$o(e),i=ta.now(),o=t.reduce((function(e,t){return e.add(t.key)}),yu());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Hs(c,n.get(c.key));null!=l&&a.push(new $s(c.key,l,ja(l.value.mapValue),Vs.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new au(Jo)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,od(r,i.changes)];case 3:return s.sent(),[4,fh(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=kh(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Qh(e,t){return Ce(this,void 0,void 0,(function(){var n,r;return Ae(this,(function(i){switch(i.label){case 0:n=$o(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,nf(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Go(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Go(r.bo):e.removedDocuments.size>0&&(Go(r.bo),r.bo=!1))})),[4,od(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Il(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Wh(e,t,n){var r=$o(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=$o(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Ph(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Gh(e,t,n){return Ce(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Ae(this,(function(c){switch(c.label){case 0:return(r=$o(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new au(ka.comparator)).insert(o,Ua.newNoDocument(o,na.min())),s=yu().add(o),u=new Eu(na.min(),new Map,new cu(Jo),a,s),[4,Qh(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),id(r),[3,4];case 2:return[4,sf(r.localStore,t,!1).then((function(){return ed(r,t,n)})).catch(Il)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function $h(e,t){return Ce(this,void 0,void 0,(function(){var n,r,i;return Ae(this,(function(o){switch(o.label){case 0:n=$o(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ef(n.localStore,t)];case 2:return i=o.sent(),Zh(n,r,null),Jh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,od(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Il(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Yh(e,t,n){return Ce(this,void 0,void 0,(function(){var r,i;return Ae(this,(function(o){switch(o.label){case 0:r=$o(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=$o(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Go(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Zh(r,t,n),Jh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,od(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Il(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Xh(e,t){return Ce(this,void 0,void 0,(function(){var n,r,i,o,a;return Ae(this,(function(s){switch(s.label){case 0:ih((n=$o(e)).remoteStore)||zo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=$o(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=kh(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Jh(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function Zh(e,t,n){var r=$o(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function ed(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||td(e,t)}))}function td(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Zf(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),id(e))}function nd(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Mh?(e.No.addReference(o.key,t),rd(e,o)):o instanceof Fh?(zo("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||td(e,o.key)):Wo()}}function rd(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(zo("SyncEngine","New document in limbo: "+n),e.So.add(r),id(e))}function id(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ka(sa.fromString(t)),r=e.ko.next();e.Co.set(r,new Vh(n)),e.Do=e.Do.insert(n,r),Jf(e.remoteStore,new Wc(ms(us(n.path)),r,2,jo.o))}}function od(e,t,n){return Ce(this,void 0,void 0,(function(){var r,i,o,a;return Ae(this,(function(s){switch(s.label){case 0:return r=$o(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=$l.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return Ce(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return Ae(this,(function(f){switch(f.label){case 0:n=$o(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Oc.forEach(t,(function(t){return Oc.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Oc.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!jc(r=f.sent()))throw r;return zo("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function ad(e,t){return Ce(this,void 0,void 0,(function(){var n,r;return Ae(this,(function(i){switch(i.label){case 0:return(n=$o(e)).currentUser.isEqual(t)?[3,3]:(zo("SyncEngine","User change. New user:",t.toKey()),[4,Zl(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new Vo(Uo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,od(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function sd(e,t){var n=$o(e),r=n.Co.get(t);if(r&&r.bo)return yu().add(r.key);var i=yu(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function ud(e,t){return Ce(this,void 0,void 0,(function(){var n,r,i;return Ae(this,(function(o){switch(o.label){case 0:return[4,uf((n=$o(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&nd(n,t.targetId,i.To),i)]}}))}))}function cd(e){return Ce(this,void 0,void 0,(function(){var t;return Ae(this,(function(n){return[2,lf((t=$o(e)).localStore).then((function(e){return od(t,e)}))]}))}))}function ld(e,t,n,r){return Ce(this,void 0,void 0,(function(){var i,o;return Ae(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=$o(e),r=$o(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Oc.resolve(null)}))}))}((i=$o(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,fh(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Zh(i,t,r||null),Jh(i,t),function(e,t){$o($o(e)._n).Gt(t)}(i.localStore,t)):Wo(),a.label=4;case 4:return[4,od(i,o)];case 5:return a.sent(),[3,7];case 6:zo("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function fd(e,t){return Ce(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Ae(this,(function(l){switch(l.label){case 0:return vd(n=$o(e)),yd(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,hd(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,yh(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Jf(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return ed(n,t),sf(n.localStore,t,!0)})),Zf(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,hd(n,u)];case 5:return l.sent(),function(e){var t=$o(e);t.Co.forEach((function(e,n){Zf(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new au(ka.comparator)}(n),n.$o=!1,[4,yh(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function hd(e,t,n){return Ce(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,m;return Ae(this,(function(g){switch(g.label){case 0:n=$o(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,af(n.localStore,ms(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,f=c,g.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,ud(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,cf(n.localStore,s)];case 8:return m=g.sent(),[4,af(n.localStore,m)];case 9:return u=g.sent(),[4,zh(n,dd(m),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function dd(e){return ss(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function pd(e){var t=$o(e);return $o($o(t.localStore).persistence).fn()}function md(e,t,n,r){return Ce(this,void 0,void 0,(function(){var i,o,a;return Ae(this,(function(s){switch(s.label){case 0:return(i=$o(e)).$o?(zo("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,lf(i.localStore)];case 3:return o=s.sent(),a=Eu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,od(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,sf(i.localStore,t,!0)];case 6:return s.sent(),ed(i,t,r),[3,8];case 7:Wo(),s.label=8;case 8:return[2]}}))}))}function gd(e,t,n){return Ce(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return Ae(this,(function(d){switch(d.label){case 0:if(!(r=vd(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(zo("SyncEngine","Adding an already active target "+a),[3,5]):[4,cf(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,af(r.localStore,s)];case 3:return u=d.sent(),[4,zh(r,dd(s),u.targetId,!1)];case 4:d.sent(),Jf(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return Ae(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,sf(r.localStore,e,!1).then((function(){Zf(r.remoteStore,e),ed(r,e)})).catch(Il)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function vd(e){var t=$o(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Qh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Gh.bind(null,t),t.vo._r=Ah.bind(null,t.eventManager),t.vo.Mo=Dh.bind(null,t.eventManager),t}function yd(e){var t=$o(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$h.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Yh.bind(null,t),t}var bd=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(t){switch(t.label){case 0:return this.R=qf(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Jl(this.persistence,new Yl,e.initialUser,this.R)},e.prototype.qo=function(e){return new Ef(Sf.bs,this.R)},e.prototype.Bo=function(e){return new Rf},e.prototype.terminate=function(){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),wd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return xe(t,e),t.prototype.initialize=function(t){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,ff(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,t)];case 3:return n.sent(),[4,yd(this.Qo.syncEngine)];case 4:return n.sent(),[4,fh(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Jl(this.persistence,new Yl,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Cl(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Ql(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?dl.withCacheSize(this.cacheSizeBytes):dl.DEFAULT;return new zl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Vf(),Bf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Rf},t}(bd),Ed=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return xe(t,e),t.prototype.initialize=function(t){return Ce(this,void 0,void 0,(function(){var n,r=this;return Ae(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Of?(this.sharedClientState.syncEngine={ui:ld.bind(null,n),ai:md.bind(null,n),hi:gd.bind(null,n),fn:pd.bind(null,n),ci:cd.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return Ce(r,void 0,void 0,(function(){return Ae(this,(function(t){switch(t.label){case 0:return[4,fd(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Vf();if(!Of.yt(t))throw new Vo(Uo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ql(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Of(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(wd),kd=function(){function e(){}return e.prototype.initialize=function(e,t){return Ce(this,void 0,void 0,(function(){var n=this;return Ae(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Wh(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ad.bind(null,this.syncEngine),[4,yh(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new xh},e.prototype.createDatastore=function(e){var t,n=qf(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Uf(t));return function(e,t,n){return new Wf(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Wh(a.syncEngine,e,0)},o=Mf.yt()?new Mf:new Lf,new $f(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new Bh(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Ce(this,void 0,void 0,(function(){var t;return Ae(this,(function(n){switch(n.label){case 0:return t=$o(e),zo("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Xf(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}(),Sd=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),_d=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Pc,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return Ce(this,void 0,void 0,(function(){var e,t,n,r;return Ae(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Rh(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return Ce(this,void 0,void 0,(function(){var e,t;return Ae(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return Ce(this,void 0,void 0,(function(){var t;return Ae(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Ce(this,void 0,void 0,(function(){var e,t;return Ae(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Ce(this,void 0,void 0,(function(){var t,n=this;return Ae(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Vo(Uo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Ce(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Ae(this,(function(u){switch(u.label){case 0:return n=$o(e),r=zu(n.R)+"/documents",i={documents:t.map((function(e){return Uu(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Go(!!t.found),t.found.name,t.found.updateTime;var n=Vu(e,t.found.name),r=Mu(t.found.updateTime),i=new Fa({mapValue:{fields:t.found.fields}});return Ua.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Go(!!t.missing),Go(!!t.readTime);var n=Vu(e,t.missing),r=Mu(t.readTime);return Ua.newNoDocument(n,r)}(e,t):Wo()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Go(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new tu(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Ce(this,void 0,void 0,(function(){var e,t=this;return Ae(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=ka.fromPath(n);t.mutations.push(new nu(r,t.precondition(r)))})),[4,function(e,t){return Ce(this,void 0,void 0,(function(){var n,r,i;return Ae(this,(function(o){switch(o.label){case 0:return n=$o(e),r=zu(n.R)+"/documents",i={writes:t.map((function(e){return Wu(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Wo();t=na.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Vo(Uo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Vs.updateTime(t):Vs.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(na.min()))throw new Vo(Uo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vs.updateTime(t)}return Vs.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),Td=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new zf(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Ce(e,void 0,void 0,(function(){var e,t,n=this;return Ae(this,(function(r){return e=new _d(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!ba(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!iu(t)}return!1},e}(),Id=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=_f.UNAUTHENTICATED,this.clientId=Xo.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Ce(r,void 0,void 0,(function(){return Ae(this,(function(t){switch(t.label){case 0:return zo("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Vo(Uo.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Pc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Ce(e,void 0,void 0,(function(){var e,n;return Ae(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=kh(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function xd(e,t){return Ce(this,void 0,void 0,(function(){var n,r,i=this;return Ae(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),zo("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return Ce(i,void 0,void 0,(function(){return Ae(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Zl(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Nd(e,t){return Ce(this,void 0,void 0,(function(){var n,r;return Ae(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Cd(e)];case 1:return n=i.sent(),zo("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Ce(this,void 0,void 0,(function(){var n,r;return Ae(this,(function(i){switch(i.label){case 0:return(n=$o(e)).asyncQueue.verifyOperationInProgress(),zo("RemoteStore","RemoteStore received new credentials"),r=ih(n),n.Or.add(3),[4,Xf(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Yf(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function Cd(e){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(zo("FirestoreClient","Using default OfflineComponentProvider"),[4,xd(e,new bd)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Ad(e){return Ce(this,void 0,void 0,(function(){return Ae(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(zo("FirestoreClient","Using default OnlineComponentProvider"),[4,Nd(e,new kd)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Dd(e){return Cd(e).then((function(e){return e.persistence}))}function Pd(e){return Cd(e).then((function(e){return e.localStore}))}function Od(e){return Ad(e).then((function(e){return e.remoteStore}))}function Rd(e){return Ad(e).then((function(e){return e.syncEngine}))}function Ld(e){return Ce(this,void 0,void 0,(function(){var t,n;return Ae(this,(function(r){switch(r.label){case 0:return[4,Ad(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=qh.bind(null,t.syncEngine),n.onUnlisten=Kh.bind(null,t.syncEngine),n)]}}))}))}function Md(e,t,n){var r=this;void 0===n&&(n={});var i=new Pc;return e.asyncQueue.enqueueAndForget((function(){return Ce(r,void 0,void 0,(function(){var r;return Ae(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Sd({next:function(o){t.enqueueAndForget((function(){return Ch(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Vo(Uo.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Vo(Uo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Oh(us(n.path),o,{includeMetadataChanges:!0,so:!0});return Nh(e,a)},[4,Ld(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Fd(e,t,n){var r=this;void 0===n&&(n={});var i=new Pc;return e.asyncQueue.enqueueAndForget((function(){return Ce(r,void 0,void 0,(function(){var r;return Ae(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Sd({next:function(n){t.enqueueAndForget((function(){return Ch(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Vo(Uo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Oh(n,o,{includeMetadataChanges:!0,so:!0});return Nh(e,a)},[4,Ld(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var jd=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Ud=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Vd=new Map,Bd=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},qd=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(_f.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),zd=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Kd=function(){function e(e){var t=this;this.currentUser=_f.UNAUTHENTICATED,this.oc=new Pc,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){zo("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(zo("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(zo("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Go("string"==typeof n.accessToken),new Bd(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return Ce(n,void 0,void 0,(function(){return Ae(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Go(null===e||"string"==typeof e),new _f(e)},e}(),Hd=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=_f.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),Qd=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Hd(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(_f.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Wd(e,t,n){if(!n)throw new Vo(Uo.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Gd(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Vo(Uo.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function $d(e,t,n,r){if(!0===t&&!0===r)throw new Vo(Uo.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Yd(e){if(!ka.isDocumentKey(e))throw new Vo(Uo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Xd(e){if(ka.isDocumentKey(e))throw new Vo(Uo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Jd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Wo()}function Zd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vo(Uo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Jd(e);throw new Vo(Uo.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function ep(e,t){if(t<=0)throw new Vo(Uo.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var tp=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Vo(Uo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Vo(Uo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$d("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),np=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tp({}),this._settingsFrozen=!1,e instanceof Ud?(this._databaseId=e,this._credentials=new qd):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Vo(Uo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ud(e.options.projectId)}(e),this._credentials=new Kd(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Vo(Uo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Vo(Uo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tp(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new qd;switch(e.type){case"gapi":var t=e.client;return Go(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Qd(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Vo(Uo.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=Vd.get(this))&&(zo("ComponentProvider","Removing Datastore"),Vd.delete(this),e.terminate()),Promise.resolve();var e},e}(),rp=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new op(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),ip=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),op=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,us(r))||this)._path=r,i.type="collection",i}return xe(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new rp(this.firestore,null,new ka(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(ip);function ap(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=We(e),Wd("collection","path",t),e instanceof np)return Xd(n=sa.fromString.apply(sa,Oe([t],r))),new op(e,null,n);if(!(e instanceof rp||e instanceof op))throw new Vo(Uo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Xd(n=sa.fromString.apply(sa,Oe([e.path],r)).child(sa.fromString(t))),new op(e.firestore,null,n)}function sp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=We(e),1===arguments.length&&(t=Xo.u()),Wd("doc","path",t),e instanceof np)return Yd(n=sa.fromString.apply(sa,Oe([t],r))),new rp(e,null,new ka(n));if(!(e instanceof rp||e instanceof op))throw new Vo(Uo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Yd(n=e._path.child(sa.fromString.apply(sa,Oe([t],r)))),new rp(e.firestore,e instanceof op?e.converter:null,new ka(n))}function up(e,t){return e=We(e),t=We(t),(e instanceof rp||e instanceof op)&&(t instanceof rp||t instanceof op)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function cp(e,t){return e=We(e),t=We(t),e instanceof ip&&t instanceof ip&&e.firestore===t.firestore&&vs(e._query,t._query)&&e.converter===t.converter}var lp=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new zf(this,"async_queue_retry"),this.Ic=function(){var t=Bf();t&&zo("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Bf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Bf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Pc;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return Ce(this,void 0,void 0,(function(){var e,t=this;return Ae(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!jc(e=n.sent()))throw e;return zo("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Ko("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=Eh.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Wo()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Ce(this,void 0,void 0,(function(){var e;return Ae(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function fp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Pc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var hp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new lp,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return xe(t,e),t.prototype._terminate=function(){return this._firestoreClient||pp(this),this._firestoreClient.terminate()},t}(np);function dp(e){return e._firestoreClient||pp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function pp(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new jd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Id(e._credentials,e._queue,r)}function mp(e,t,n){var r=this,i=new Pc;return e.asyncQueue.enqueue((function(){return Ce(r,void 0,void 0,(function(){var r;return Ae(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,xd(e,n)];case 1:return o.sent(),[4,Nd(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Uo.FAILED_PRECONDITION||e.code===Uo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function gp(e){if(e._initialized||e._terminated)throw new Vo(Uo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var vp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Vo(Uo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ca(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),yp=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(fa.fromBase64String(t))}catch(t){throw new Vo(Uo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(fa.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),bp=function(e){this._methodName=e},wp=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Vo(Uo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Vo(Uo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Jo(this._lat,e._lat)||Jo(this._long,e._long)},e}(),Ep=/^__.*__$/,kp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gs(e,this.data,t,this.fieldTransforms)},e}(),Sp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new $s(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function _p(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wo()}}var Tp=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Fc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,kc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,kc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,kc:!0})},e.prototype.Lc=function(e){return Hp(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(_p(this.Nc)&&Ep.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),Ip=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||qf(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new Tp({Nc:e,methodName:t,qc:n,path:ca.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function xp(e){var t=e._freezeSettings(),n=qf(e._databaseId);return new Ip(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Np(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Bp("Data must be an object, but it was:",a,r);var s,u,c=Up(r,a);if(o.merge)s=new la(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=qp(t,h[f],n);if(!a.contains(d))throw new Vo(Uo.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Qp(l,d)||l.push(d)}s=new la(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new kp(new Fa(c),s,u)}var Cp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xe(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(bp);function Ap(e,t,n){return new Tp({Nc:3,qc:t.settings.qc,methodName:e._methodName,kc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Dp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xe(t,e),t.prototype._toFieldTransform=function(e){return new js(e.path,new As)},t.prototype.isEqual=function(e){return e instanceof t},t}(bp),Pp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return xe(t,e),t.prototype._toFieldTransform=function(e){var t=Ap(this,e,!0),n=this.Kc.map((function(e){return jp(e,t)})),r=new Ds(n);return new js(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(bp),Op=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return xe(t,e),t.prototype._toFieldTransform=function(e){var t=Ap(this,e,!0),n=this.Kc.map((function(e){return jp(e,t)})),r=new Os(n);return new js(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(bp),Rp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return xe(t,e),t.prototype._toFieldTransform=function(e){var t=new Ls(e.R,Ts(e.R,this.Qc));return new js(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(bp);function Lp(e,t,n,r){var i=e.Uc(1,t,n);Bp("Data must be an object, but it was:",i,r);var o=[],a=Fa.empty();ia(r,(function(e,r){var s=Kp(t,e,n);r=We(r);var u=i.Oc(s);if(r instanceof Cp)o.push(s);else{var c=jp(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new la(o);return new Sp(a,s,i.fieldTransforms)}function Mp(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[qp(t,r,n)],u=[i];if(o.length%2!=0)throw new Vo(Uo.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(qp(t,o[c])),u.push(o[c+1]);for(var l=[],f=Fa.empty(),h=s.length-1;h>=0;--h)if(!Qp(l,s[h])){var d=s[h],p=u[h];p=We(p);var m=a.Oc(d);if(p instanceof Cp)l.push(d);else{var g=jp(p,m);null!=g&&(l.push(d),f.set(d,g))}}var v=new la(l);return new Sp(f,v,a.fieldTransforms)}function Fp(e,t,n,r){return void 0===r&&(r=!1),jp(n,e.Uc(r?4:3,t))}function jp(e,t){if(Vp(e=We(e)))return Bp("Unsupported field value:",t,e),Up(e,t);if(e instanceof bp)return function(e,t){if(!_p(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.kc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=jp(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=We(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ts(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ta.fromDate(e);return{timestampValue:Ou(t.R,n)}}if(e instanceof ta)return n=new ta(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Ou(t.R,n)};if(e instanceof wp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yp)return{bytesValue:Ru(t.R,e._byteString)};if(e instanceof rp){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Fu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+Jd(e))}(e,t)}function Up(e,t){var n={};return oa(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ia(e,(function(e,r){var i=jp(r,t.Fc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Vp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ta||e instanceof wp||e instanceof yp||e instanceof rp||e instanceof bp)}function Bp(e,t,n){if(!Vp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Jd(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function qp(e,t,n){if((t=We(t))instanceof vp)return t._internalPath;if("string"==typeof t)return Kp(e,t);throw Hp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var zp=new RegExp("[~\\*/\\[\\]]");function Kp(e,t,n){if(t.search(zp)>=0)throw Hp("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(vp.bind.apply(vp,Oe([void 0],t.split(".")))))._internalPath}catch(r){throw Hp("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Hp(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Vo(Uo.INVALID_ARGUMENT,(s+=". ")+e+u)}function Qp(e,t){return e.some((function(e){return e.isEqual(t)}))}var Wp=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new rp(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Gp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field($p("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Gp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xe(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Wp);function $p(e,t){return"string"==typeof t?Kp(e,t):t instanceof vp?t._internalPath:t._delegate._internalPath}var Yp=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Xp=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return xe(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Jp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field($p("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Wp),Jp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xe(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Xp),Zp=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Jp(n._firestore,n._userDataWriter,r.key,r,new Yp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Vo(Uo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Jp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Jp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:em(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function em(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wo()}}function tm(e,t){return e instanceof Xp&&t instanceof Xp?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Zp&&t instanceof Zp&&e._firestore===t._firestore&&cp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function nm(e){if(ls(e)&&0===e.explicitOrderBy.length)throw new Vo(Uo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rm=function(){};function im(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var om=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return xe(t,e),t.prototype._apply=function(e){var t=xp(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Vo(Uo.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){hm(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(fm(r,e,f))}s={arrayValue:{values:u}}}else s=fm(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||hm(a,o),s=Fp(n,"where",a,"in"===o||"not-in"===o);var h=Ha.create(i,o,s);return function(e,t){if(t.g()){var n=hs(e);if(null!==n&&!n.isEqual(t.field))throw new Vo(Uo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=fs(e);null!==r&&dm(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Vo(Uo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Vo(Uo.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ip(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new as(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(rm),am=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return xe(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Vo(Uo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Vo(Uo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ns(t,n);return function(e,t){if(null===fs(e)){var n=hs(e);null!==n&&dm(0,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new ip(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new as(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(rm),sm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return xe(t,e),t.prototype._apply=function(e){return new ip(e.firestore,e.converter,gs(e._query,this.Hc,this.Jc))},t}(rm),um=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return xe(t,e),t.prototype._apply=function(e){var t=lm(e,this.type,this.Yc,this.Xc);return new ip(e.firestore,e.converter,function(e,t){return new as(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(rm),cm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return xe(t,e),t.prototype._apply=function(e){var t=lm(e,this.type,this.Yc,this.Xc);return new ip(e.firestore,e.converter,function(e,t){return new as(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(rm);function lm(e,t,n,r){if(n[0]=We(n[0]),n[0]instanceof Wp)return function(e,t,n,r,i){if(!r)throw new Vo(Uo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=ps(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Aa(t,r.key));else{var c=r.data.field(u.field);if(ga(c))throw new Vo(Uo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Vo(Uo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new es(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=xp(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Vo(Uo.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Vo(Uo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ds(e)&&-1!==c.indexOf("/"))throw new Vo(Uo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(sa.fromString(c));if(!ka.isDocumentKey(l))throw new Vo(Uo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new ka(l);s.push(Aa(t,f))}else{var h=Fp(n,r,c);s.push(h)}}return new es(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function fm(e,t,n){if("string"==typeof(n=We(n))){if(""===n)throw new Vo(Uo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ds(t)&&-1!==n.indexOf("/"))throw new Vo(Uo.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(sa.fromString(n));if(!ka.isDocumentKey(r))throw new Vo(Uo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Aa(e,new ka(r))}if(n instanceof rp)return Aa(e,n._key);throw new Vo(Uo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Jd(n)+".")}function hm(e,t){if(!Array.isArray(e)||0===e.length)throw new Vo(Uo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Vo(Uo.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function dm(e,t,n){if(!n.isEqual(t))throw new Vo(Uo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var pm=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pa(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Wo()}},e.prototype.convertObject=function(e,t){var n=this,r={};return ia(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new wp(pa(e.latitude),pa(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=va(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ya(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=da(e);return new ta(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=sa.fromString(e);Go(uc(n));var r=new Ud(n.get(1),n.get(3)),i=new ka(n.popFirst(5));return r.isEqual(t)||Ko("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function mm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var gm=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return xe(t,e),t.prototype.convertBytes=function(e){return new yp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rp(this.firestore,null,t)},t}(pm),vm=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xp(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=ym(e,this._firestore),i=mm(r.converter,t,n),o=Np(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Vs.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=ym(e,this._firestore);return o="string"==typeof(t=We(t))||t instanceof vp?Mp(this._dataReader,"WriteBatch.update",a._key,t,n,r):Lp(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Vs.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=ym(e,this._firestore);return this._mutations=this._mutations.concat(new tu(t._key,Vs.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Vo(Uo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function ym(e,t){if((e=We(e)).firestore!==t)throw new Vo(Uo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var bm=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return xe(t,e),t.prototype.convertBytes=function(e){return new yp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rp(this.firestore,null,t)},t}(pm);function wm(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Zd(e,rp);var o=Zd(e.firestore,hp),a=xp(o);return km(o,[("string"==typeof(t=We(t))||t instanceof vp?Mp(a,"updateDoc",e._key,t,n,r):Lp(a,"updateDoc",e._key,t)).toMutation(e._key,Vs.exists(!0))])}function Em(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=We(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||fp(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(fp(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof rp)c=Zd(e.firestore,hp),l=us(e._key.path),u={next:function(t){i[s]&&i[s](Sm(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=Zd(e,ip);c=Zd(d.firestore,hp),l=d._query;var p=new bm(c);u={next:function(e){i[s]&&i[s](new Zp(c,p,d,e))},error:i[s+1],complete:i[s+2]},nm(e._query)}return function(e,t,n,r){var i=this,o=new Sd(r),a=new Oh(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return Ce(i,void 0,void 0,(function(){var t;return Ae(this,(function(n){switch(n.label){case 0:return t=Nh,[4,Ld(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return Ce(i,void 0,void 0,(function(){var t;return Ae(this,(function(n){switch(n.label){case 0:return t=Ch,[4,Ld(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(dp(c),l,f,u)}function km(e,t){return function(e,t){var n=this,r=new Pc;return e.asyncQueue.enqueueAndForget((function(){return Ce(n,void 0,void 0,(function(){var n;return Ae(this,(function(i){switch(i.label){case 0:return n=Hh,[4,Rd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(dp(e),t)}function Sm(e,t,n){var r=n.docs.get(t._key),i=new bm(e);return new Xp(e,i,t._key,r,new Yp(n.hasPendingWrites,n.fromCache),t.converter)}var _m=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return xe(t,e),t.prototype.get=function(t){var n=this,r=ym(t,this._firestore),i=new bm(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Xp(n._firestore,i,r._key,e._document,new Yp(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=xp(e)}return e.prototype.get=function(e){var t=this,n=ym(e,this._firestore),r=new gm(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Wo();var i=e[0];if(i.isFoundDocument())return new Wp(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Wp(t._firestore,r,n._key,null,n.converter);throw Wo()}))},e.prototype.set=function(e,t,n){var r=ym(e,this._firestore),i=mm(r.converter,t,n),o=Np(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=ym(e,this._firestore);return o="string"==typeof(t=We(t))||t instanceof vp?Mp(this._dataReader,"Transaction.update",a._key,t,n,r):Lp(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=ym(e,this._firestore);return this._transaction.delete(t._key),this},e}());function Tm(){if("undefined"==typeof Uint8Array)throw new Vo(Uo.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Im(){if("undefined"==typeof atob)throw new Vo(Uo.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var xm=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Im(),new e(yp.fromBase64String(t))},e.fromUint8Array=function(t){return Tm(),new e(yp.fromUint8Array(t))},e.prototype.toBase64=function(){return Im(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Tm(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Nm=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){gp(e=Zd(e,hp));var n=dp(e),r=e._freezeSettings(),i=new kd;return mp(n,i,new wd(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){gp(e=Zd(e,hp));var t=dp(e),n=e._freezeSettings(),r=new kd;return mp(t,r,new Ed(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Vo(Uo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Pc;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Ce(t,void 0,void 0,(function(){var t;return Ae(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return Ce(this,void 0,void 0,(function(){var t;return Ae(this,(function(n){switch(n.label){case 0:return Lc.yt()?(t=e+"main",[4,Lc.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Ql(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),Cm=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Ud||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ho("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=Zd(e,np))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&Ho("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n="demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Ne({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Re.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),Re.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Vo(Uo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new zd(new Bd(o,new _f(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Ce(t,void 0,void 0,(function(){var t,n;return Ae(this,(function(r){switch(r.label){case 0:return[4,Dd(e)];case 1:return t=r.sent(),[4,Od(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=$o(e);return t.Or.delete(0),Yf(t)}(n))]}}))}))}))}(dp(Zd(this._delegate,hp)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Ce(t,void 0,void 0,(function(){var t,n;return Ae(this,(function(r){switch(r.label){case 0:return[4,Dd(e)];case 1:return t=r.sent(),[4,Od(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Ce(this,void 0,void 0,(function(){var t;return Ae(this,(function(n){switch(n.label){case 0:return(t=$o(e)).Or.add(0),[4,Xf(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(dp(Zd(this._delegate,hp)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&$d("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Pc;return e.asyncQueue.enqueueAndForget((function(){return Ce(t,void 0,void 0,(function(){var t;return Ae(this,(function(r){switch(r.label){case 0:return t=Xh,[4,Rd(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(dp(Zd(this._delegate,hp)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Sd(t);return e.asyncQueue.enqueueAndForget((function(){return Ce(n,void 0,void 0,(function(){var t;return Ae(this,(function(n){switch(n.label){case 0:return t=function(e,t){$o(e).Gr.add(t),t.next()},[4,Ld(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return Ce(n,void 0,void 0,(function(){var t;return Ae(this,(function(n){switch(n.label){case 0:return t=function(e,t){$o(e).Gr.delete(t)},[4,Ld(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(dp(e=Zd(e,hp)),fp(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Vo(Uo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new zm(this,ap(this._delegate,e))}catch(e){throw Lm(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new Rm(this,sp(this._delegate,e))}catch(e){throw Lm(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Vm(this,function(e,t){if(e=Zd(e,np),Wd("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Vo(Uo.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ip(e,null,function(e){return new as(sa.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Lm(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Pc;return e.asyncQueue.enqueueAndForget((function(){return Ce(n,void 0,void 0,(function(){var n;return Ae(this,(function(i){switch(i.label){case 0:return[4,function(e){return Ad(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Td(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(dp(e),(function(n){return t(new _m(e,n))}))}(this._delegate,(function(n){return e(new Dm(t,n))}))},e.prototype.batch=function(){var e=this;return dp(this._delegate),new Pm(new vm(this._delegate,(function(t){return km(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Vo(Uo.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Vo(Uo.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Am=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return xe(t,e),t.prototype.convertBytes=function(e){return new xm(new yp(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Rm.eu(t,this.firestore,null)},t}(pm),Dm=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Am(e)}return e.prototype.get=function(e){var t=this,n=Km(e);return this._delegate.get(n).then((function(e){return new jm(t._firestore,new Xp(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Km(e);return n?(Gd("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Km(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Oe([a,t,n],i)),this},e.prototype.delete=function(e){var t=Km(e);return this._delegate.delete(t),this},e}(),Pm=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Km(e);return n?(Gd("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Km(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Oe([a,t,n],i)),this},e.prototype.delete=function(e){var t=Km(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Om=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Jp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Um(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Am(t),n),i.set(n,o)),o},e}();Om.su=new WeakMap;var Rm=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Am(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Vo(Uo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new rp(n._delegate,r,new ka(t)))},e.eu=function(t,n,r){return new e(n,new rp(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new zm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new zm(this.firestore,ap(this._delegate,e))}catch(e){throw Lm(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=We(e))instanceof rp&&up(this._delegate,e)},e.prototype.set=function(e,t){t=Gd("DocumentReference.set",t);try{return function(e,t,n){e=Zd(e,rp);var r=Zd(e.firestore,hp),i=mm(e.converter,t,n);return km(r,[Np(xp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Vs.none())])}(this._delegate,e,t)}catch(e){throw Lm(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?wm(this._delegate,e):wm.apply(void 0,Oe([this._delegate,e,t],n))}catch(e){throw Lm(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return km(Zd((e=this._delegate).firestore,hp),[new tu(e._key,Vs.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Mm(t),i=Fm(t,(function(t){return new jm(e.firestore,new Xp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Em(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Zd(e,rp);var t=Zd(e.firestore,hp),n=dp(t),r=new bm(t);return function(e,t){var n=this,r=new Pc;return e.asyncQueue.enqueueAndForget((function(){return Ce(n,void 0,void 0,(function(){var n;return Ae(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Ce(this,void 0,void 0,(function(){var r,i;return Ae(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=$o(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Vo(Uo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=kh(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Pd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Xp(t,r,e._key,n,new Yp(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Zd(e,rp);var t=Zd(e.firestore,hp);return Md(dp(t),e._key,{source:"server"}).then((function(n){return Sm(t,e,n)}))}(this._delegate):function(e){e=Zd(e,rp);var t=Zd(e.firestore,hp);return Md(dp(t),e._key).then((function(n){return Sm(t,e,n)}))}(this._delegate)).then((function(e){return new jm(t.firestore,new Xp(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Om.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Lm(e,t,n){return e.message=e.message.replace(t,n),e}function Mm(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!fp(r))return r}return{}}function Fm(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=fp(e[0])?e[0]:fp(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var jm=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Rm(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return tm(this._delegate,e._delegate)},e}(),Um=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xe(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(jm),Vm=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Am(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,im(this._delegate,function(e,t,n){var r=t,i=$p("where",e);return new om(i,r,n)}(t,n,r)))}catch(t){throw Lm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,im(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=$p("orderBy",e);return new am(r,n)}(t,n)))}catch(t){throw Lm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,im(this._delegate,function(e){return ep("limit",e),new sm("limit",e,"F")}(t)))}catch(t){throw Lm(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,im(this._delegate,function(e){return ep("limitToLast",e),new sm("limitToLast",e,"L")}(t)))}catch(t){throw Lm(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,im(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new um("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw Lm(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,im(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new um("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw Lm(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,im(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new cm("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw Lm(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,im(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new cm("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw Lm(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return cp(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Zd(e,ip);var t=Zd(e.firestore,hp),n=dp(t),r=new bm(t);return function(e,t){var n=this,r=new Pc;return e.asyncQueue.enqueueAndForget((function(){return Ce(n,void 0,void 0,(function(){var n;return Ae(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Ce(this,void 0,void 0,(function(){var r,i,o,a,s;return Ae(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,uf(e,t,!0)];case 1:return s=u.sent(),r=new jh(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=kh(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Pd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Zp(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Zd(e,ip);var t=Zd(e.firestore,hp),n=dp(t),r=new bm(t);return Fd(n,e._query,{source:"server"}).then((function(n){return new Zp(t,r,e,n)}))}(this._delegate):function(e){e=Zd(e,ip);var t=Zd(e.firestore,hp),n=dp(t),r=new bm(t);return nm(e._query),Fd(n,e._query).then((function(n){return new Zp(t,r,e,n)}))}(this._delegate)).then((function(e){return new qm(t.firestore,new Zp(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Mm(t),i=Fm(t,(function(t){return new qm(e.firestore,new Zp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Em(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Om.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Bm=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Um(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),qm=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Vm(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Um(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Bm(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Um(n._firestore,r))}))},e.prototype.isEqual=function(e){return tm(this._delegate,e._delegate)},e}(),zm=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return xe(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Rm(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Rm(this.firestore,void 0===e?sp(this._delegate):sp(this._delegate,e))}catch(e){throw Lm(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Zd(e.firestore,hp),r=sp(e),i=mm(e.converter,t);return km(n,[Np(xp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Vs.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Rm(t.firestore,e)}))},t.prototype.isEqual=function(e){return up(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Om.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(Vm);function Km(e){return Zd(e,rp)}var Hm,Qm=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(vp.bind.apply(vp,Oe([void 0],e)))}return e.documentId=function(){return new e(ca.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=We(e))instanceof vp&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Wm=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Dp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Cp("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Pp("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Op("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Rp("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),Gm={Firestore:Cm,GeoPoint:wp,Timestamp:ta,Blob:xm,Transaction:Dm,WriteBatch:Pm,DocumentReference:Rm,DocumentSnapshot:jm,Query:Vm,QueryDocumentSnapshot:Um,QuerySnapshot:qm,CollectionReference:zm,FieldPath:Qm,FieldValue:Wm,setLogLevel:function(e){var t;t=e,Bo.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new $e("firestore",(function(e){return function(e,t){return new Cm(e,new hp(e,t),new Nm)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Gm)))})(Hm=kt),Hm.registerVersion("@firebase/firestore","2.3.10"),kt.initializeApp({apiKey:"AIzaSyAS6YvFStrh8h2qA-xdivsCawIKqp1LA58",authDomain:"react-project-c5b4a.firebaseapp.com",projectId:"react-project-c5b4a",storageBucket:"react-project-c5b4a.appspot.com",messagingSenderId:"346613289096",appId:"1:346613289096:web:7e0eff571da82f6d5ecf3d"});const $m=kt;function Ym(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xm(e){return function(e){if(Array.isArray(e))return eg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Zm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zm(e,t){if(e){if("string"==typeof e)return eg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eg(e,t):void 0}}function eg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const tg=function(){var t,n=Jm((0,e.useState)(!0),2),r=n[0],i=n[1],o=Jm((0,e.useState)([]),2),a=o[0],s=o[1],u=$m.firestore();(0,e.useEffect)((function(){console.log("Loading..."),i(!0),u.collection("products").get().then((function(e){s(e.docs.reduce((function(e,t){return[].concat(Xm(e),[t.data()])}),[])),i(!1)}))}),[]);var c={username:"kablasman"},l=Jm((0,e.useState)([]),2),f=l[0],h=l[1],d=Jm((0,e.useState)([]),2),p=d[0],m=d[1];return e.createElement(q,null,r&&e.createElement("div",{className:"loading"},e.createElement("span",{className:"animate-loader"},"Loading...")),e.createElement(Z.Provider,{value:(t={data:a},Ym(t,"data",c),Ym(t,"updateUsername",(function(e){c.username=e})),Ym(t,"viewProduct",(function(){return a.filter((function(e){return e.bookTitle==e.bookTitle}))})),Ym(t,"cart",f),Ym(t,"fav",p),Ym(t,"addToCart",(function(e){var t=a.find((function(t){return t.bookTitle===e}));return h([].concat(Xm(f),[t]))})),Ym(t,"addToFav",(function(e){var t=a.find((function(t){return t.bookTitle===e}));return m([].concat(Xm(p),[t]))})),Ym(t,"deleteFromCart",(function(e){var t=f.filter((function(t){return t.bookTitle!==e}));return h(t)})),Ym(t,"deleteFromFav",(function(e){var t=p.filter((function(t){return t.bookTitle!==e}));return m(t)})),t)},e.createElement(V,null,e.createElement(U,{exact:!0,path:"/"},e.createElement(be,{data:a})),e.createElement(U,{exact:!0,path:"/productpage/:slug"},e.createElement(ke,null)),e.createElement(U,{exact:!0,path:"/cartpage"},e.createElement(Se,null)),e.createElement(U,{exact:!0,path:"/favpage"},e.createElement(_e,null)),e.createElement(U,{exact:!0,path:"*"},e.createElement(Te,null)))))};t.render(e.createElement(tg,null),document.getElementById("root"))})()})();